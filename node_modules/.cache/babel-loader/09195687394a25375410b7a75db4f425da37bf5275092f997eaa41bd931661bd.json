{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\subha\\\\Downloads\\\\ma\\\\src\\\\components\\\\MazeGame.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport * as THREE from 'three';\nimport { useKeyboard } from '../hooks/useKeyboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MazeGame() {\n  _s();\n  const mountRef = useRef(null);\n  const minimapCanvasRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [gameWon, setGameWon] = useState(false);\n  const [time, setTime] = useState(0);\n  const [showInstructions, setShowInstructions] = useState(true);\n\n  // Professional movement hooks\n  const keys = useKeyboard();\n  const headBob = useRef({\n    phase: 0,\n    amplitude: 0.02\n  });\n  useEffect(() => {\n    if (!isPlaying) return;\n    let animationId;\n    const scene = new THREE.Scene();\n    // Morning sky color\n    scene.background = new THREE.Color(0x87CEEB);\n    scene.fog = new THREE.Fog(0x87CEEB, 10, 50);\n\n    // Camera - First Person Setup\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);\n\n    // Set initial camera position and rotation for first-person view\n    camera.position.set(1.5, 2.5, 1.5); // Start at player position + height offset\n    camera.rotation.order = 'YXZ'; // Proper rotation order for FPS camera\n    camera.rotation.set(0, 0, 0); // Start looking forward (no pitch/yaw)\n\n    // Renderer\n    const renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n    if (mountRef.current) {\n      mountRef.current.appendChild(renderer.domElement);\n    }\n\n    // Professional player state - based on 3D Maze Master\n    const player = {\n      position: new THREE.Vector3(1.5, 1.0, 1.5),\n      rotation: new THREE.Euler(0, 0, 0, 'YXZ'),\n      velocity: new THREE.Vector3(0, 0, 0),\n      moveState: {\n        up: 0,\n        down: 0,\n        left: 0,\n        right: 0,\n        forward: 0,\n        back: 0,\n        pitchUp: 0,\n        pitchDown: 0,\n        yawLeft: 0,\n        yawRight: 0\n      },\n      height: 1.6,\n      radius: 0.4\n    };\n\n    // Professional movement constants from 3D Maze Master\n    let isLocked = false;\n    const movementSpeed = 2.0; // units/second\n    const collisionDistance = 0.25; // safety margin\n    const majorWidth = 2.0; // corridor width\n    const minorWidth = 0.0625; // wall thickness (2 * 1/32)\n    const startTime = Date.now();\n\n    // Maze layout\n    const maze = [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1], [1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1], [1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1], [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1], [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1], [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1], [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1], [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], [1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1], [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1], [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 2, 1], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]];\n\n    // Morning lighting\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);\n    scene.add(ambientLight);\n\n    // Sun light\n    const sunLight = new THREE.DirectionalLight(0xffffff, 1.2);\n    sunLight.position.set(10, 20, 10);\n    sunLight.castShadow = true;\n    sunLight.shadow.mapSize.width = 2048;\n    sunLight.shadow.mapSize.height = 2048;\n    sunLight.shadow.camera.near = 0.5;\n    sunLight.shadow.camera.far = 50;\n    sunLight.shadow.camera.left = -20;\n    sunLight.shadow.camera.right = 20;\n    sunLight.shadow.camera.top = 20;\n    sunLight.shadow.camera.bottom = -20;\n    scene.add(sunLight);\n\n    // Soft fill light\n    const fillLight = new THREE.DirectionalLight(0x87CEEB, 0.4);\n    fillLight.position.set(-5, 10, -5);\n    scene.add(fillLight);\n\n    // Perfect 3D Block System - Minecraft Style\n    const blockSize = 1;\n    const wallHeight = 2.5;\n\n    // Create perfect stone brick texture\n    const createStoneTexture = () => {\n      const canvas = document.createElement('canvas');\n      canvas.width = 64;\n      canvas.height = 64;\n      const ctx = canvas.getContext('2d');\n\n      // Stone base color\n      ctx.fillStyle = '#696969';\n      ctx.fillRect(0, 0, 64, 64);\n\n      // Add stone texture details\n      for (let i = 0; i < 100; i++) {\n        const x = Math.random() * 64;\n        const y = Math.random() * 64;\n        const size = Math.random() * 2 + 1;\n        const brightness = Math.random() * 0.3 + 0.7;\n        ctx.fillStyle = `rgb(${Math.floor(105 * brightness)}, ${Math.floor(105 * brightness)}, ${Math.floor(105 * brightness)})`;\n        ctx.fillRect(x, y, size, size);\n      }\n\n      // Add some darker spots\n      for (let i = 0; i < 50; i++) {\n        const x = Math.random() * 64;\n        const y = Math.random() * 64;\n        const size = Math.random() * 3 + 1;\n        ctx.fillStyle = '#555555';\n        ctx.fillRect(x, y, size, size);\n      }\n      const texture = new THREE.CanvasTexture(canvas);\n      texture.wrapS = THREE.RepeatWrapping;\n      texture.wrapT = THREE.RepeatWrapping;\n      texture.magFilter = THREE.NearestFilter;\n      texture.minFilter = THREE.NearestFilter;\n      return texture;\n    };\n\n    // Create perfect grass texture\n    const createGrassTexture = () => {\n      const canvas = document.createElement('canvas');\n      canvas.width = 64;\n      canvas.height = 64;\n      const ctx = canvas.getContext('2d');\n\n      // Grass base color\n      ctx.fillStyle = '#228B22';\n      ctx.fillRect(0, 0, 64, 64);\n\n      // Add grass blade details\n      for (let i = 0; i < 150; i++) {\n        const x = Math.random() * 64;\n        const y = Math.random() * 64;\n        const size = Math.random() * 2 + 1;\n        const grassColors = ['#32CD32', '#228B22', '#006400', '#90EE90'];\n        ctx.fillStyle = grassColors[Math.floor(Math.random() * grassColors.length)];\n        ctx.fillRect(x, y, size, size);\n      }\n      const texture = new THREE.CanvasTexture(canvas);\n      texture.wrapS = THREE.RepeatWrapping;\n      texture.wrapT = THREE.RepeatWrapping;\n      texture.repeat.set(8, 8);\n      texture.magFilter = THREE.NearestFilter;\n      texture.minFilter = THREE.NearestFilter;\n      return texture;\n    };\n\n    // Create materials\n    const stoneTexture = createStoneTexture();\n    const grassTexture = createGrassTexture();\n    const wallMaterial = new THREE.MeshStandardMaterial({\n      map: stoneTexture,\n      roughness: 0.9,\n      metalness: 0.0\n    });\n    const floorMaterial = new THREE.MeshStandardMaterial({\n      map: grassTexture,\n      roughness: 0.8,\n      metalness: 0.0\n    });\n\n    // Create individual wall blocks for perfect placement\n    const createWallBlocks = () => {\n      const wallGroup = new THREE.Group();\n      maze.forEach((row, z) => {\n        row.forEach((cell, x) => {\n          if (cell === 1) {\n            // Create individual wall block\n            const wallGeometry = new THREE.BoxGeometry(blockSize, wallHeight, blockSize);\n            const wall = new THREE.Mesh(wallGeometry, wallMaterial);\n\n            // Position exactly at grid position\n            wall.position.set(x, wallHeight / 2, z);\n            wall.castShadow = true;\n            wall.receiveShadow = true;\n            wallGroup.add(wall);\n          }\n        });\n      });\n      return wallGroup;\n    };\n\n    // Add perfect wall blocks to scene\n    const wallBlocks = createWallBlocks();\n    scene.add(wallBlocks);\n\n    // Create goal with advanced effects\n    let goal;\n    let goalParticles;\n    maze.forEach((row, z) => {\n      row.forEach((cell, x) => {\n        if (cell === 2) {\n          // Advanced goal design\n          const goalGroup = new THREE.Group();\n\n          // Main goal crystal\n          const goalGeometry = new THREE.OctahedronGeometry(0.4, 2);\n          const goalMaterial = new THREE.MeshStandardMaterial({\n            color: 0x00ff44,\n            emissive: 0x00ff44,\n            emissiveIntensity: 0.6,\n            transparent: true,\n            opacity: 0.8,\n            roughness: 0.1,\n            metalness: 0.3\n          });\n          goal = new THREE.Mesh(goalGeometry, goalMaterial);\n          goal.position.set(0, 1, 0);\n          goalGroup.add(goal);\n\n          // Particle system for goal\n          const particleGeometry = new THREE.BufferGeometry();\n          const particleCount = 50;\n          const positions = new Float32Array(particleCount * 3);\n          for (let i = 0; i < particleCount * 3; i += 3) {\n            positions[i] = (Math.random() - 0.5) * 2;\n            positions[i + 1] = Math.random() * 2;\n            positions[i + 2] = (Math.random() - 0.5) * 2;\n          }\n          particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n          const particleMaterial = new THREE.PointsMaterial({\n            color: 0x00ff44,\n            size: 0.05,\n            transparent: true,\n            opacity: 0.8\n          });\n          goalParticles = new THREE.Points(particleGeometry, particleMaterial);\n          goalGroup.add(goalParticles);\n\n          // Goal light with better settings\n          const goalLight = new THREE.PointLight(0x00ff44, 2, 10);\n          goalLight.position.set(0, 1, 0);\n          goalLight.castShadow = true;\n          goalLight.shadow.mapSize.width = 512;\n          goalLight.shadow.mapSize.height = 512;\n          goalGroup.add(goalLight);\n\n          // Position goal group\n          goalGroup.position.set(x, 0, z);\n          scene.add(goalGroup);\n\n          // Enhanced goal animation\n          const animateGoal = () => {\n            const time = Date.now() * 0.001;\n\n            // Rotate crystal\n            goal.rotation.y += 0.02;\n            goal.rotation.x = Math.sin(time) * 0.1;\n\n            // Float up and down\n            goal.position.y = 1 + Math.sin(time * 2) * 0.2;\n\n            // Animate particles\n            const positions = goalParticles.geometry.attributes.position.array;\n            for (let i = 1; i < positions.length; i += 3) {\n              positions[i] += 0.01;\n              if (positions[i] > 3) {\n                positions[i] = 0;\n              }\n            }\n            goalParticles.geometry.attributes.position.needsUpdate = true;\n\n            // Pulse light intensity\n            goalLight.intensity = 2 + Math.sin(time * 3) * 0.5;\n          };\n          goal.userData.animate = animateGoal;\n        }\n      });\n    });\n\n    // Advanced floor with proper tiling\n    const floorGeometry = new THREE.PlaneGeometry(maze[0].length, maze.length);\n    const floor = new THREE.Mesh(floorGeometry, floorMaterial);\n    floor.rotation.x = -Math.PI / 2;\n    floor.receiveShadow = true;\n    scene.add(floor);\n\n    // Add some decorative elements\n    const addDecorations = () => {\n      maze.forEach((row, z) => {\n        row.forEach((cell, x) => {\n          if (cell === 0 && Math.random() > 0.95) {\n            // Add small grass tufts\n            const grassGeometry = new THREE.ConeGeometry(0.05, 0.2, 6);\n            const grassMaterial = new THREE.MeshStandardMaterial({\n              color: 0x228B22,\n              roughness: 0.9\n            });\n            const grass = new THREE.Mesh(grassGeometry, grassMaterial);\n            grass.position.set(x + (Math.random() - 0.5) * 0.8, 0.1, z + (Math.random() - 0.5) * 0.8);\n            grass.castShadow = true;\n            scene.add(grass);\n          }\n        });\n      });\n    };\n    addDecorations();\n\n    // Advanced collision system from 3D Maze Master\n    let mazePosNear = null;\n    let mazePosFar = null;\n\n    // Maze coordinate conversion functions\n    const getSegment = x => {\n      x += minorWidth / 2;\n      const epsilon = minorWidth / 100;\n      const out = Math.floor(x / (majorWidth + minorWidth) + epsilon) * 2;\n      const diff = x - out * (majorWidth + minorWidth) / 2;\n      if (Math.abs(diff) < minorWidth) return out;\n      return out + 1;\n    };\n    const getMazePos = pos => {\n      return new THREE.Vector3(getSegment(pos.x), getSegment(pos.y), getSegment(pos.z));\n    };\n    const getOffset = idx => {\n      return idx / 2 * (majorWidth + minorWidth);\n    };\n\n    // Axis-separated collision detection\n    const axes = {\n      x: 0,\n      y: 1,\n      z: 2\n    };\n    const checkCollisionOnAxis = (majorAxis, othA0, othA1, mazePosRelevant, newMazePosRelevant, mazePosOther, sign) => {\n      const min0 = Math.min(mazePosRelevant[othA0], mazePosOther[othA0]);\n      const max0 = Math.max(mazePosRelevant[othA0], mazePosOther[othA0]);\n      const min1 = Math.min(mazePosRelevant[othA1], mazePosOther[othA1]);\n      const max1 = Math.max(mazePosRelevant[othA1], mazePosOther[othA1]);\n      let collided = false;\n      const colAx = mazePosRelevant[majorAxis] + sign;\n\n      // Create indices array for proper maze coordinate mapping\n      const indices = Array(3);\n      indices[axes[majorAxis]] = colAx;\n      const getMazeData = (idx0, idx1) => {\n        indices[axes[othA0]] = idx0;\n        indices[axes[othA1]] = idx1;\n\n        // Convert to our maze array coordinates\n        const gridX = indices[0];\n        const gridZ = indices[2];\n\n        // Check bounds and maze data\n        if (gridX >= 0 && gridX < 15 && gridZ >= 0 && gridZ < 15) {\n          return maze[gridZ][gridX] === 1;\n        }\n        return true; // Treat out-of-bounds as walls\n      };\n\n      // Check for collisions on orthogonal axes\n      for (let i = Math.max(min0, 0); i <= Math.min(14, max0); i++) {\n        for (let j = Math.max(min1, 0); j <= Math.min(14, max1); j++) {\n          if (colAx >= 0 && colAx <= 14 && getMazeData(i, j)) {\n            collided = true;\n            break;\n          }\n        }\n        if (collided) break;\n      }\n      if (collided) {\n        // Stop movement on this axis with proper offset calculation\n        const offset = getOffset(mazePosRelevant[majorAxis] + sign) - sign * (collisionDistance + minorWidth / 2);\n        camera.position[majorAxis] = offset;\n        newMazePosRelevant[majorAxis] = mazePosRelevant[majorAxis];\n      } else {\n        mazePosRelevant[majorAxis] += sign;\n      }\n    };\n    const collisionUpdate = () => {\n      const nearPos = new THREE.Vector3().copy(camera.position).addScalar(-collisionDistance);\n      const farPos = new THREE.Vector3().copy(camera.position).addScalar(collisionDistance);\n      const newMazePosNear = getMazePos(nearPos);\n      const newMazePosFar = getMazePos(farPos);\n\n      // Initialize collision tracking (only happens at start)\n      if (mazePosNear === null && mazePosFar === null) {\n        mazePosNear = newMazePosNear;\n        mazePosFar = newMazePosFar;\n        return;\n      }\n\n      // Check near position changes (negative direction movement)\n      if (newMazePosNear.distanceToSquared(mazePosNear) !== 0) {\n        if (newMazePosNear.x - mazePosNear.x < 0) {\n          checkCollisionOnAxis('x', 'y', 'z', mazePosNear, newMazePosNear, mazePosFar, -1);\n        }\n        if (newMazePosNear.y - mazePosNear.y < 0) {\n          checkCollisionOnAxis('y', 'x', 'z', mazePosNear, newMazePosNear, mazePosFar, -1);\n        }\n        if (newMazePosNear.z - mazePosNear.z < 0) {\n          checkCollisionOnAxis('z', 'y', 'x', mazePosNear, newMazePosNear, mazePosFar, -1);\n        }\n      }\n\n      // Check far position changes (positive direction movement)\n      if (newMazePosFar.distanceToSquared(mazePosFar) !== 0) {\n        if (newMazePosFar.x - mazePosFar.x > 0) {\n          checkCollisionOnAxis('x', 'y', 'z', mazePosFar, newMazePosFar, mazePosNear, 1);\n        }\n        if (newMazePosFar.y - mazePosFar.y > 0) {\n          checkCollisionOnAxis('y', 'x', 'z', mazePosFar, newMazePosFar, mazePosNear, 1);\n        }\n        if (newMazePosFar.z - mazePosFar.z > 0) {\n          checkCollisionOnAxis('z', 'y', 'x', mazePosFar, newMazePosFar, mazePosNear, 1);\n        }\n      }\n\n      // Update tracking positions\n      mazePosNear = newMazePosNear;\n      mazePosFar = newMazePosFar;\n    };\n\n    // Check win condition using proper maze coordinates\n    const checkWin = () => {\n      const mazePos = getMazePos(camera.position);\n      const gridX = Math.floor(mazePos.x / 2);\n      const gridZ = Math.floor(mazePos.z / 2);\n\n      // Check if we're at the goal position\n      if (gridX >= 0 && gridX < 15 && gridZ >= 0 && gridZ < 15) {\n        return maze[gridZ][gridX] === 2;\n      }\n      return false;\n    };\n\n    // Minimap functionality\n    const updateMinimap = () => {\n      const canvas = minimapCanvasRef.current;\n      if (!canvas) return;\n      const ctx = canvas.getContext('2d');\n      if (!ctx) return;\n      const cellSize = 8;\n      canvas.width = maze[0].length * cellSize;\n      canvas.height = maze.length * cellSize;\n\n      // Clear canvas\n      ctx.fillStyle = '#87CEEB';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      // Draw maze\n      maze.forEach((row, z) => {\n        row.forEach((cell, x) => {\n          if (cell === 1) {\n            // Wall\n            ctx.fillStyle = '#8B4513';\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\n          } else if (cell === 2) {\n            // Goal\n            ctx.fillStyle = '#00FF00';\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\n          } else {\n            // Path\n            ctx.fillStyle = '#90EE90';\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\n          }\n        });\n      });\n\n      // Draw player using maze coordinates\n      const mazePos = getMazePos(camera.position);\n      const playerX = mazePos.x / 2 * cellSize;\n      const playerZ = mazePos.z / 2 * cellSize;\n      ctx.fillStyle = '#FF0000';\n      ctx.beginPath();\n      ctx.arc(playerX, playerZ, cellSize / 3, 0, 2 * Math.PI);\n      ctx.fill();\n\n      // Draw player direction using camera rotation\n      const dirX = Math.sin(camera.rotation.y) * cellSize / 2;\n      const dirZ = Math.cos(camera.rotation.y) * cellSize / 2;\n      ctx.strokeStyle = '#FF0000';\n      ctx.lineWidth = 2;\n      ctx.beginPath();\n      ctx.moveTo(playerX, playerZ);\n      ctx.lineTo(playerX + dirX, playerZ + dirZ);\n      ctx.stroke();\n    };\n\n    // Mouse sensitivity constant\n    const mouseSensitivity = 0.002;\n\n    // Professional mouse controls from 3D Maze Master\n    const applyRotation = (rotationVector, scaleFactor = 1) => {\n      const tmpEulerAngle = new THREE.Euler().setFromQuaternion(camera.quaternion, 'YXZ');\n      tmpEulerAngle.y += rotationVector.y * scaleFactor;\n      tmpEulerAngle.x += rotationVector.x * scaleFactor;\n\n      // Clamp pitch to prevent gimbal lock (±88.2°)\n      tmpEulerAngle.x = Math.max(-Math.PI * 0.49, Math.min(Math.PI * 0.49, tmpEulerAngle.x));\n      camera.quaternion.setFromEuler(tmpEulerAngle);\n      camera.rotation.setFromQuaternion(camera.quaternion, camera.rotation.order);\n    };\n    const onMouseMove = e => {\n      if (!isLocked) return;\n      const movementX = e.movementX || 0;\n      const movementY = e.movementY || 0;\n      const rotationVector = new THREE.Vector3(-movementY, -movementX, 0);\n      applyRotation(rotationVector, mouseSensitivity);\n    };\n    const onPointerLockChange = () => {\n      isLocked = document.pointerLockElement === renderer.domElement;\n      if (isLocked) {\n        setShowInstructions(false);\n      }\n    };\n    const onClick = () => {\n      if (!isLocked) {\n        renderer.domElement.requestPointerLock();\n      }\n    };\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('pointerlockchange', onPointerLockChange);\n    renderer.domElement.addEventListener('click', onClick);\n\n    // Animation loop\n    const animate = () => {\n      animationId = requestAnimationFrame(animate);\n\n      // Update time\n      const currentTime = (Date.now() - startTime) / 1000;\n      setTime(currentTime);\n\n      // 3D Maze Master movement system\n      let moveVector = new THREE.Vector3(0, 0, 0);\n      if (isLocked) {\n        // Update move state based on keyboard input\n        player.moveState.forward = keys.forward ? 1 : 0;\n        player.moveState.back = keys.backward ? 1 : 0;\n        player.moveState.left = keys.left ? 1 : 0;\n        player.moveState.right = keys.right ? 1 : 0;\n\n        // Calculate movement vector in local space\n        moveVector = new THREE.Vector3(-player.moveState.left + player.moveState.right, 0,\n        // no vertical movement in maze\n        -player.moveState.forward + player.moveState.back);\n\n        // Normalize movement vector to prevent faster diagonal movement\n        if (moveVector.length() > 1) {\n          moveVector.normalize();\n        }\n\n        // Apply movement with proper delta time\n        const delta = 1 / 60; // Assume 60fps for consistent movement\n        const moveMult = delta * movementSpeed;\n\n        // Apply movement relative to camera orientation\n        if (moveVector.length() > 0) {\n          camera.translateX(moveVector.x * moveMult);\n          camera.translateZ(moveVector.z * moveMult);\n        }\n\n        // Update player position to match camera\n        player.position.copy(camera.position);\n\n        // Update head bob for walking animation\n        if (moveVector.length() > 0.001) {\n          headBob.current.phase += delta * 8; // Walking speed\n        }\n      }\n\n      // Advanced collision detection from 3D Maze Master\n      collisionUpdate();\n\n      // Update minimap\n      updateMinimap();\n\n      // Check win condition\n      if (checkWin()) {\n        setGameWon(true);\n        cancelAnimationFrame(animationId);\n        document.exitPointerLock();\n        return;\n      }\n\n      // Professional first-person camera sync with head bob\n      const movementDistance = moveVector.length();\n      const bobOffset = movementDistance > 0.001 ? Math.sin(headBob.current.phase) * headBob.current.amplitude : 0;\n\n      // Maintain proper camera height with head bob effect\n      const targetHeight = player.position.y + player.height + bobOffset;\n      camera.position.y = targetHeight;\n\n      // Animate goals\n      scene.traverse(obj => {\n        if (obj.userData.animate) {\n          obj.userData.animate();\n        }\n      });\n      renderer.render(scene, camera);\n    };\n    animate();\n\n    // Window resize\n    const onResize = () => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    };\n    window.addEventListener('resize', onResize);\n\n    // Store ref for cleanup\n    const currentMount = mountRef.current;\n\n    // Cleanup\n    return () => {\n      cancelAnimationFrame(animationId);\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('pointerlockchange', onPointerLockChange);\n      window.removeEventListener('resize', onResize);\n      if (currentMount && renderer.domElement.parentNode) {\n        currentMount.removeChild(renderer.domElement);\n      }\n      renderer.dispose();\n\n      // Dispose of textures and materials\n      stoneTexture.dispose();\n      grassTexture.dispose();\n      wallMaterial.dispose();\n      floorMaterial.dispose();\n\n      // Dispose of geometries\n      floorGeometry.dispose();\n\n      // Dispose of wall blocks\n      wallBlocks.traverse(child => {\n        if (child instanceof THREE.Mesh) {\n          child.geometry.dispose();\n          if (Array.isArray(child.material)) {\n            child.material.forEach(material => material.dispose());\n          } else {\n            child.material.dispose();\n          }\n        }\n      });\n    };\n  }, [isPlaying, keys, keys.backward, keys.forward, keys.left, keys.right]);\n  if (!isPlaying) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'linear-gradient(135deg, #87CEEB 0%, #98FB98 100%)',\n        fontFamily: \"'Trebuchet MS', sans-serif\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '50px',\n          background: 'rgba(255, 255, 255, 0.95)',\n          borderRadius: '20px',\n          border: '3px solid #4169E1',\n          boxShadow: '0 0 60px rgba(65, 105, 225, 0.4), inset 0 0 40px rgba(255, 255, 255, 0.5)',\n          maxWidth: '600px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: '64px',\n            margin: '0 0 10px 0',\n            color: '#4169E1',\n            textShadow: '0 0 30px #4169E1, 0 0 60px #1E90FF',\n            letterSpacing: '4px',\n            fontWeight: 'bold'\n          },\n          children: \"MORNING MAZE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '20px',\n            color: '#2F4F4F',\n            marginBottom: '40px',\n            letterSpacing: '1px'\n          },\n          children: \"Navigate the sunny garden maze\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setIsPlaying(true);\n            setGameWon(false);\n            setTime(0);\n          },\n          style: {\n            padding: '20px 60px',\n            fontSize: '24px',\n            background: 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)',\n            color: '#fff',\n            border: '3px solid #4169E1',\n            borderRadius: '12px',\n            cursor: 'pointer',\n            fontFamily: \"'Trebuchet MS', sans-serif\",\n            fontWeight: 'bold',\n            boxShadow: '0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)',\n            transition: 'all 0.3s ease',\n            textTransform: 'uppercase',\n            letterSpacing: '2px'\n          },\n          onMouseEnter: e => {\n            const target = e.target;\n            target.style.background = 'linear-gradient(135deg, #1E90FF 0%, #4169E1 100%)';\n            target.style.transform = 'translateY(-4px) scale(1.05)';\n            target.style.boxShadow = '0 10px 30px rgba(65, 105, 225, 0.5), inset 0 2px 10px rgba(255, 255, 255, 0.3)';\n          },\n          onMouseLeave: e => {\n            const target = e.target;\n            target.style.background = 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)';\n            target.style.transform = 'translateY(0) scale(1)';\n            target.style.boxShadow = '0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)';\n          },\n          children: \"Start Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '40px',\n            padding: '20px',\n            background: 'rgba(255, 255, 255, 0.7)',\n            borderRadius: '10px',\n            border: '2px solid #4169E1'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#2F4F4F',\n              fontSize: '16px',\n              margin: '8px 0'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: '#4169E1'\n              },\n              children: \"W A S D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 15\n            }, this), \" or\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: '#4169E1'\n              },\n              children: \"Arrow Keys\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 823,\n              columnNumber: 15\n            }, this), \" - Move\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#2F4F4F',\n              fontSize: '16px',\n              margin: '8px 0'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: '#4169E1'\n              },\n              children: \"Mouse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 15\n            }, this), \" - Look around\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#2F4F4F',\n              fontSize: '16px',\n              margin: '8px 0'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: '#4169E1'\n              },\n              children: \"Goal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 829,\n              columnNumber: 15\n            }, this), \" - Find the glowing green marker!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 812,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 732,\n      columnNumber: 7\n    }, this);\n  }\n  if (gameWon) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'radial-gradient(circle, #87CEEB 0%, #98FB98 100%)',\n        fontFamily: \"'Trebuchet MS', sans-serif\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '50px',\n          background: 'rgba(255, 255, 255, 0.95)',\n          borderRadius: '20px',\n          border: '4px solid #4169E1',\n          boxShadow: '0 0 80px rgba(65, 105, 225, 0.6), inset 0 0 40px rgba(255, 255, 255, 0.5)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: '72px',\n            margin: '0 0 20px 0',\n            color: '#4169E1',\n            textShadow: '0 0 40px #4169E1, 0 0 80px #1E90FF'\n          },\n          children: \"\\uD83C\\uDFC6 VICTORY! \\uD83C\\uDFC6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 860,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '28px',\n            color: '#2F4F4F',\n            marginBottom: '20px'\n          },\n          children: \"You escaped the maze!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 870,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '48px',\n            color: '#4169E1',\n            marginBottom: '40px',\n            fontWeight: 'bold'\n          },\n          children: [time.toFixed(2), \" seconds\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 873,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setIsPlaying(false);\n            setTimeout(() => {\n              setIsPlaying(true);\n              setGameWon(false);\n              setTime(0);\n            }, 100);\n          },\n          style: {\n            padding: '20px 60px',\n            fontSize: '24px',\n            background: 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '12px',\n            cursor: 'pointer',\n            fontFamily: \"'Trebuchet MS', sans-serif\",\n            fontWeight: 'bold',\n            boxShadow: '0 6px 20px rgba(65, 105, 225, 0.4)',\n            transition: 'all 0.3s ease',\n            textTransform: 'uppercase',\n            letterSpacing: '2px'\n          },\n          onMouseEnter: e => {\n            const target = e.target;\n            target.style.transform = 'translateY(-4px) scale(1.05)';\n            target.style.boxShadow = '0 10px 30px rgba(65, 105, 225, 0.6)';\n          },\n          onMouseLeave: e => {\n            const target = e.target;\n            target.style.transform = 'translateY(0) scale(1)';\n            target.style.boxShadow = '0 6px 20px rgba(65, 105, 225, 0.4)';\n          },\n          children: \"Play Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 883,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 850,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 839,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      width: '100vw',\n      height: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mountRef,\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 927,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '30px',\n        left: '30px',\n        padding: '15px 25px',\n        background: 'rgba(255, 255, 255, 0.9)',\n        color: '#4169E1',\n        fontFamily: \"'Courier New', monospace\",\n        fontSize: '28px',\n        fontWeight: 'bold',\n        borderRadius: '10px',\n        border: '3px solid #4169E1',\n        boxShadow: '0 4px 15px rgba(65, 105, 225, 0.3)',\n        pointerEvents: 'none'\n      },\n      children: [\"\\u23F1 \", time.toFixed(1), \"s\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 930,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '30px',\n        right: '30px',\n        padding: '10px',\n        background: 'rgba(255, 255, 255, 0.9)',\n        borderRadius: '10px',\n        border: '3px solid #4169E1',\n        boxShadow: '0 4px 15px rgba(65, 105, 225, 0.3)',\n        pointerEvents: 'none'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#4169E1',\n          fontFamily: \"'Courier New', monospace\",\n          fontSize: '12px',\n          fontWeight: 'bold',\n          marginBottom: '5px',\n          textAlign: 'center'\n        },\n        children: \"MAP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 964,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: minimapCanvasRef,\n        style: {\n          border: '2px solid #4169E1',\n          borderRadius: '5px',\n          display: 'block'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 976,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#2F4F4F',\n          fontFamily: \"'Courier New', monospace\",\n          fontSize: '10px',\n          marginTop: '5px',\n          textAlign: 'center'\n        },\n        children: \"\\uD83D\\uDD34 You | \\uD83D\\uDFE2 Goal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 984,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 951,\n      columnNumber: 7\n    }, this), showInstructions && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        padding: '30px 50px',\n        background: 'rgba(255, 255, 255, 0.95)',\n        color: '#4169E1',\n        fontFamily: \"'Trebuchet MS', sans-serif\",\n        fontSize: '24px',\n        fontWeight: 'bold',\n        borderRadius: '15px',\n        border: '3px solid #4169E1',\n        boxShadow: '0 0 40px rgba(65, 105, 225, 0.4)',\n        textAlign: 'center'\n      },\n      children: \"\\uD83D\\uDDB1\\uFE0F CLICK TO START \\uD83D\\uDDB1\\uFE0F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 999,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '30px',\n        right: '30px',\n        padding: '15px 20px',\n        background: 'rgba(255, 255, 255, 0.9)',\n        color: '#2F4F4F',\n        fontFamily: \"'Courier New', monospace\",\n        fontSize: '14px',\n        borderRadius: '8px',\n        border: '2px solid #4169E1',\n        pointerEvents: 'none',\n        lineHeight: '1.8'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#4169E1'\n          },\n          children: \"W/\\u2191\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1039,\n          columnNumber: 11\n        }, this), \" - Forward\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1038,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#4169E1'\n          },\n          children: \"S/\\u2193\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1042,\n          columnNumber: 11\n        }, this), \" - Backward\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1041,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#4169E1'\n          },\n          children: \"A/\\u2190\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1045,\n          columnNumber: 11\n        }, this), \" - Left\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1044,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#4169E1'\n          },\n          children: \"D/\\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1048,\n          columnNumber: 11\n        }, this), \" - Right\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1047,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#4169E1'\n          },\n          children: \"Mouse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1051,\n          columnNumber: 11\n        }, this), \" - Look\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1050,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '5px',\n          fontSize: '12px',\n          color: '#666'\n        },\n        children: \"Click to lock cursor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1053,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1022,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 926,\n    columnNumber: 5\n  }, this);\n}\n_s(MazeGame, \"tsv4KzMT3UxtKBk9TmuhVIABTYs=\", false, function () {\n  return [useKeyboard];\n});\n_c = MazeGame;\nvar _c;\n$RefreshReg$(_c, \"MazeGame\");","map":{"version":3,"names":["useEffect","useRef","useState","THREE","useKeyboard","jsxDEV","_jsxDEV","MazeGame","_s","mountRef","minimapCanvasRef","isPlaying","setIsPlaying","gameWon","setGameWon","time","setTime","showInstructions","setShowInstructions","keys","headBob","phase","amplitude","animationId","scene","Scene","background","Color","fog","Fog","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","set","rotation","order","renderer","WebGLRenderer","antialias","setSize","shadowMap","enabled","type","PCFSoftShadowMap","current","appendChild","domElement","player","Vector3","Euler","velocity","moveState","up","down","left","right","forward","back","pitchUp","pitchDown","yawLeft","yawRight","height","radius","isLocked","movementSpeed","collisionDistance","majorWidth","minorWidth","startTime","Date","now","maze","ambientLight","AmbientLight","add","sunLight","DirectionalLight","castShadow","shadow","mapSize","width","near","far","top","bottom","fillLight","blockSize","wallHeight","createStoneTexture","canvas","document","createElement","ctx","getContext","fillStyle","fillRect","i","x","Math","random","y","size","brightness","floor","texture","CanvasTexture","wrapS","RepeatWrapping","wrapT","magFilter","NearestFilter","minFilter","createGrassTexture","grassColors","length","repeat","stoneTexture","grassTexture","wallMaterial","MeshStandardMaterial","map","roughness","metalness","floorMaterial","createWallBlocks","wallGroup","Group","forEach","row","z","cell","wallGeometry","BoxGeometry","wall","Mesh","receiveShadow","wallBlocks","goal","goalParticles","goalGroup","goalGeometry","OctahedronGeometry","goalMaterial","color","emissive","emissiveIntensity","transparent","opacity","particleGeometry","BufferGeometry","particleCount","positions","Float32Array","setAttribute","BufferAttribute","particleMaterial","PointsMaterial","Points","goalLight","PointLight","animateGoal","sin","geometry","attributes","array","needsUpdate","intensity","userData","animate","floorGeometry","PlaneGeometry","PI","addDecorations","grassGeometry","ConeGeometry","grassMaterial","grass","mazePosNear","mazePosFar","getSegment","epsilon","out","diff","abs","getMazePos","pos","getOffset","idx","axes","checkCollisionOnAxis","majorAxis","othA0","othA1","mazePosRelevant","newMazePosRelevant","mazePosOther","sign","min0","min","max0","max","min1","max1","collided","colAx","indices","Array","getMazeData","idx0","idx1","gridX","gridZ","j","offset","collisionUpdate","nearPos","copy","addScalar","farPos","newMazePosNear","newMazePosFar","distanceToSquared","checkWin","mazePos","updateMinimap","cellSize","playerX","playerZ","beginPath","arc","fill","dirX","dirZ","cos","strokeStyle","lineWidth","moveTo","lineTo","stroke","mouseSensitivity","applyRotation","rotationVector","scaleFactor","tmpEulerAngle","setFromQuaternion","quaternion","setFromEuler","onMouseMove","e","movementX","movementY","onPointerLockChange","pointerLockElement","onClick","requestPointerLock","addEventListener","requestAnimationFrame","currentTime","moveVector","backward","normalize","delta","moveMult","translateX","translateZ","cancelAnimationFrame","exitPointerLock","movementDistance","bobOffset","targetHeight","traverse","obj","render","onResize","aspect","updateProjectionMatrix","currentMount","removeEventListener","parentNode","removeChild","dispose","child","isArray","material","style","display","alignItems","justifyContent","fontFamily","children","textAlign","padding","borderRadius","border","boxShadow","maxWidth","fontSize","margin","textShadow","letterSpacing","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","cursor","transition","textTransform","onMouseEnter","target","transform","onMouseLeave","marginTop","toFixed","setTimeout","ref","pointerEvents","lineHeight","_c","$RefreshReg$"],"sources":["C:/Users/subha/Downloads/ma/src/components/MazeGame.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport * as THREE from 'three';\r\nimport { useKeyboard } from '../hooks/useKeyboard';\r\n\r\nexport default function MazeGame() {\r\n  const mountRef = useRef<HTMLDivElement>(null);\r\n  const minimapCanvasRef = useRef<HTMLCanvasElement>(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [gameWon, setGameWon] = useState(false);\r\n  const [time, setTime] = useState(0);\r\n  const [showInstructions, setShowInstructions] = useState(true);\r\n\r\n  // Professional movement hooks\r\n  const keys = useKeyboard();\r\n  const headBob = useRef({ phase: 0, amplitude: 0.02 });\r\n\r\n  useEffect(() => {\r\n    if (!isPlaying) return;\r\n\r\n    let animationId: number;\r\n    const scene = new THREE.Scene();\r\n    // Morning sky color\r\n    scene.background = new THREE.Color(0x87CEEB);\r\n    scene.fog = new THREE.Fog(0x87CEEB, 10, 50);\r\n\r\n    // Camera - First Person Setup\r\n    const camera = new THREE.PerspectiveCamera(\r\n      75,\r\n      window.innerWidth / window.innerHeight,\r\n      0.1,\r\n      100\r\n    );\r\n    \r\n    // Set initial camera position and rotation for first-person view\r\n    camera.position.set(1.5, 2.5, 1.5); // Start at player position + height offset\r\n    camera.rotation.order = 'YXZ'; // Proper rotation order for FPS camera\r\n    camera.rotation.set(0, 0, 0); // Start looking forward (no pitch/yaw)\r\n\r\n    // Renderer\r\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.shadowMap.enabled = true;\r\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n    \r\n    if (mountRef.current) {\r\n      mountRef.current.appendChild(renderer.domElement);\r\n    }\r\n\r\n    // Professional player state - based on 3D Maze Master\r\n    const player = {\r\n      position: new THREE.Vector3(1.5, 1.0, 1.5),\r\n      rotation: new THREE.Euler(0, 0, 0, 'YXZ'),\r\n      velocity: new THREE.Vector3(0, 0, 0),\r\n      moveState: { \r\n        up: 0, down: 0, left: 0, right: 0, \r\n        forward: 0, back: 0, \r\n        pitchUp: 0, pitchDown: 0, \r\n        yawLeft: 0, yawRight: 0 \r\n      },\r\n      height: 1.6,\r\n      radius: 0.4,\r\n    };\r\n\r\n    // Professional movement constants from 3D Maze Master\r\n    let isLocked = false;\r\n    const movementSpeed = 2.0; // units/second\r\n    const collisionDistance = 0.25; // safety margin\r\n    const majorWidth = 2.0; // corridor width\r\n    const minorWidth = 0.0625; // wall thickness (2 * 1/32)\r\n    const startTime = Date.now();\r\n\r\n    // Maze layout\r\n    const maze = [\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1],\r\n      [1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\r\n      [1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 2, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    ];\r\n\r\n    // Morning lighting\r\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);\r\n    scene.add(ambientLight);\r\n\r\n    // Sun light\r\n    const sunLight = new THREE.DirectionalLight(0xffffff, 1.2);\r\n    sunLight.position.set(10, 20, 10);\r\n    sunLight.castShadow = true;\r\n    sunLight.shadow.mapSize.width = 2048;\r\n    sunLight.shadow.mapSize.height = 2048;\r\n    sunLight.shadow.camera.near = 0.5;\r\n    sunLight.shadow.camera.far = 50;\r\n    sunLight.shadow.camera.left = -20;\r\n    sunLight.shadow.camera.right = 20;\r\n    sunLight.shadow.camera.top = 20;\r\n    sunLight.shadow.camera.bottom = -20;\r\n    scene.add(sunLight);\r\n\r\n    // Soft fill light\r\n    const fillLight = new THREE.DirectionalLight(0x87CEEB, 0.4);\r\n    fillLight.position.set(-5, 10, -5);\r\n    scene.add(fillLight);\r\n\r\n    // Perfect 3D Block System - Minecraft Style\r\n    const blockSize = 1;\r\n    const wallHeight = 2.5;\r\n\r\n    // Create perfect stone brick texture\r\n    const createStoneTexture = () => {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = 64;\r\n      canvas.height = 64;\r\n      const ctx = canvas.getContext('2d')!;\r\n\r\n      // Stone base color\r\n      ctx.fillStyle = '#696969';\r\n      ctx.fillRect(0, 0, 64, 64);\r\n\r\n      // Add stone texture details\r\n      for (let i = 0; i < 100; i++) {\r\n        const x = Math.random() * 64;\r\n        const y = Math.random() * 64;\r\n        const size = Math.random() * 2 + 1;\r\n        const brightness = Math.random() * 0.3 + 0.7;\r\n        \r\n        ctx.fillStyle = `rgb(${Math.floor(105 * brightness)}, ${Math.floor(105 * brightness)}, ${Math.floor(105 * brightness)})`;\r\n        ctx.fillRect(x, y, size, size);\r\n      }\r\n\r\n      // Add some darker spots\r\n      for (let i = 0; i < 50; i++) {\r\n        const x = Math.random() * 64;\r\n        const y = Math.random() * 64;\r\n        const size = Math.random() * 3 + 1;\r\n        \r\n        ctx.fillStyle = '#555555';\r\n        ctx.fillRect(x, y, size, size);\r\n      }\r\n\r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      texture.wrapS = THREE.RepeatWrapping;\r\n      texture.wrapT = THREE.RepeatWrapping;\r\n      texture.magFilter = THREE.NearestFilter;\r\n      texture.minFilter = THREE.NearestFilter;\r\n      return texture;\r\n    };\r\n\r\n    // Create perfect grass texture\r\n    const createGrassTexture = () => {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = 64;\r\n      canvas.height = 64;\r\n      const ctx = canvas.getContext('2d')!;\r\n\r\n      // Grass base color\r\n      ctx.fillStyle = '#228B22';\r\n      ctx.fillRect(0, 0, 64, 64);\r\n\r\n      // Add grass blade details\r\n      for (let i = 0; i < 150; i++) {\r\n        const x = Math.random() * 64;\r\n        const y = Math.random() * 64;\r\n        const size = Math.random() * 2 + 1;\r\n        \r\n        const grassColors = ['#32CD32', '#228B22', '#006400', '#90EE90'];\r\n        ctx.fillStyle = grassColors[Math.floor(Math.random() * grassColors.length)];\r\n        ctx.fillRect(x, y, size, size);\r\n      }\r\n\r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      texture.wrapS = THREE.RepeatWrapping;\r\n      texture.wrapT = THREE.RepeatWrapping;\r\n      texture.repeat.set(8, 8);\r\n      texture.magFilter = THREE.NearestFilter;\r\n      texture.minFilter = THREE.NearestFilter;\r\n      return texture;\r\n    };\r\n\r\n    // Create materials\r\n    const stoneTexture = createStoneTexture();\r\n    const grassTexture = createGrassTexture();\r\n\r\n    const wallMaterial = new THREE.MeshStandardMaterial({\r\n      map: stoneTexture,\r\n      roughness: 0.9,\r\n      metalness: 0.0,\r\n    });\r\n\r\n    const floorMaterial = new THREE.MeshStandardMaterial({\r\n      map: grassTexture,\r\n      roughness: 0.8,\r\n      metalness: 0.0,\r\n    });\r\n\r\n    // Create individual wall blocks for perfect placement\r\n    const createWallBlocks = () => {\r\n      const wallGroup = new THREE.Group();\r\n      \r\n      maze.forEach((row, z) => {\r\n        row.forEach((cell, x) => {\r\n          if (cell === 1) {\r\n            // Create individual wall block\r\n            const wallGeometry = new THREE.BoxGeometry(blockSize, wallHeight, blockSize);\r\n            const wall = new THREE.Mesh(wallGeometry, wallMaterial);\r\n            \r\n            // Position exactly at grid position\r\n            wall.position.set(x, wallHeight / 2, z);\r\n            wall.castShadow = true;\r\n            wall.receiveShadow = true;\r\n            \r\n            wallGroup.add(wall);\r\n          }\r\n        });\r\n      });\r\n      \r\n      return wallGroup;\r\n    };\r\n\r\n    // Add perfect wall blocks to scene\r\n    const wallBlocks = createWallBlocks();\r\n    scene.add(wallBlocks);\r\n\r\n    // Create goal with advanced effects\r\n    let goal: THREE.Mesh;\r\n    let goalParticles: THREE.Points;\r\n    \r\n    maze.forEach((row, z) => {\r\n      row.forEach((cell, x) => {\r\n        if (cell === 2) {\r\n          // Advanced goal design\r\n          const goalGroup = new THREE.Group();\r\n          \r\n          // Main goal crystal\r\n          const goalGeometry = new THREE.OctahedronGeometry(0.4, 2);\r\n          const goalMaterial = new THREE.MeshStandardMaterial({\r\n            color: 0x00ff44,\r\n            emissive: 0x00ff44,\r\n            emissiveIntensity: 0.6,\r\n            transparent: true,\r\n            opacity: 0.8,\r\n            roughness: 0.1,\r\n            metalness: 0.3,\r\n          });\r\n          goal = new THREE.Mesh(goalGeometry, goalMaterial);\r\n          goal.position.set(0, 1, 0);\r\n          goalGroup.add(goal);\r\n\r\n          // Particle system for goal\r\n          const particleGeometry = new THREE.BufferGeometry();\r\n          const particleCount = 50;\r\n          const positions = new Float32Array(particleCount * 3);\r\n          \r\n          for (let i = 0; i < particleCount * 3; i += 3) {\r\n            positions[i] = (Math.random() - 0.5) * 2;\r\n            positions[i + 1] = Math.random() * 2;\r\n            positions[i + 2] = (Math.random() - 0.5) * 2;\r\n          }\r\n          \r\n          particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\r\n          \r\n          const particleMaterial = new THREE.PointsMaterial({\r\n            color: 0x00ff44,\r\n            size: 0.05,\r\n            transparent: true,\r\n            opacity: 0.8,\r\n          });\r\n          \r\n          goalParticles = new THREE.Points(particleGeometry, particleMaterial);\r\n          goalGroup.add(goalParticles);\r\n\r\n          // Goal light with better settings\r\n          const goalLight = new THREE.PointLight(0x00ff44, 2, 10);\r\n          goalLight.position.set(0, 1, 0);\r\n          goalLight.castShadow = true;\r\n          goalLight.shadow.mapSize.width = 512;\r\n          goalLight.shadow.mapSize.height = 512;\r\n          goalGroup.add(goalLight);\r\n\r\n          // Position goal group\r\n          goalGroup.position.set(x, 0, z);\r\n          scene.add(goalGroup);\r\n\r\n          // Enhanced goal animation\r\n          const animateGoal = () => {\r\n            const time = Date.now() * 0.001;\r\n            \r\n            // Rotate crystal\r\n            goal.rotation.y += 0.02;\r\n            goal.rotation.x = Math.sin(time) * 0.1;\r\n            \r\n            // Float up and down\r\n            goal.position.y = 1 + Math.sin(time * 2) * 0.2;\r\n            \r\n            // Animate particles\r\n            const positions = goalParticles.geometry.attributes.position.array as Float32Array;\r\n            for (let i = 1; i < positions.length; i += 3) {\r\n              positions[i] += 0.01;\r\n              if (positions[i] > 3) {\r\n                positions[i] = 0;\r\n              }\r\n            }\r\n            goalParticles.geometry.attributes.position.needsUpdate = true;\r\n            \r\n            // Pulse light intensity\r\n            goalLight.intensity = 2 + Math.sin(time * 3) * 0.5;\r\n          };\r\n          (goal as any).userData.animate = animateGoal;\r\n        }\r\n      });\r\n    });\r\n\r\n    // Advanced floor with proper tiling\r\n    const floorGeometry = new THREE.PlaneGeometry(maze[0].length, maze.length);\r\n    const floor = new THREE.Mesh(floorGeometry, floorMaterial);\r\n    floor.rotation.x = -Math.PI / 2;\r\n    floor.receiveShadow = true;\r\n    scene.add(floor);\r\n\r\n    // Add some decorative elements\r\n    const addDecorations = () => {\r\n      maze.forEach((row, z) => {\r\n        row.forEach((cell, x) => {\r\n          if (cell === 0 && Math.random() > 0.95) {\r\n            // Add small grass tufts\r\n            const grassGeometry = new THREE.ConeGeometry(0.05, 0.2, 6);\r\n            const grassMaterial = new THREE.MeshStandardMaterial({\r\n              color: 0x228B22,\r\n              roughness: 0.9,\r\n            });\r\n            const grass = new THREE.Mesh(grassGeometry, grassMaterial);\r\n            grass.position.set(\r\n              x + (Math.random() - 0.5) * 0.8,\r\n              0.1,\r\n              z + (Math.random() - 0.5) * 0.8\r\n            );\r\n            grass.castShadow = true;\r\n            scene.add(grass);\r\n          }\r\n        });\r\n      });\r\n    };\r\n    \r\n    addDecorations();\r\n\r\n    // Advanced collision system from 3D Maze Master\r\n    let mazePosNear: THREE.Vector3 | null = null;\r\n    let mazePosFar: THREE.Vector3 | null = null;\r\n\r\n    // Maze coordinate conversion functions\r\n    const getSegment = (x: number) => {\r\n      x += minorWidth / 2;\r\n      const epsilon = minorWidth / 100;\r\n      const out = Math.floor(x / (majorWidth + minorWidth) + epsilon) * 2;\r\n      const diff = x - (out * (majorWidth + minorWidth) / 2);\r\n      if (Math.abs(diff) < minorWidth) return out;\r\n      return out + 1;\r\n    };\r\n\r\n    const getMazePos = (pos: THREE.Vector3) => {\r\n      return new THREE.Vector3(\r\n        getSegment(pos.x), \r\n        getSegment(pos.y), \r\n        getSegment(pos.z)\r\n      );\r\n    };\r\n\r\n    const getOffset = (idx: number) => {\r\n      return idx / 2 * (majorWidth + minorWidth);\r\n    };\r\n\r\n    // Axis-separated collision detection\r\n    const axes = { x: 0, y: 1, z: 2 };\r\n    \r\n    const checkCollisionOnAxis = (\r\n      majorAxis: 'x' | 'y' | 'z', \r\n      othA0: 'x' | 'y' | 'z', \r\n      othA1: 'x' | 'y' | 'z', \r\n      mazePosRelevant: THREE.Vector3, \r\n      newMazePosRelevant: THREE.Vector3, \r\n      mazePosOther: THREE.Vector3, \r\n      sign: number\r\n    ) => {\r\n      const min0 = Math.min(mazePosRelevant[othA0], mazePosOther[othA0]);\r\n      const max0 = Math.max(mazePosRelevant[othA0], mazePosOther[othA0]);\r\n      const min1 = Math.min(mazePosRelevant[othA1], mazePosOther[othA1]);\r\n      const max1 = Math.max(mazePosRelevant[othA1], mazePosOther[othA1]);\r\n\r\n      let collided = false;\r\n      const colAx = mazePosRelevant[majorAxis] + sign;\r\n      \r\n      // Create indices array for proper maze coordinate mapping\r\n      const indices = Array(3);\r\n      indices[axes[majorAxis]] = colAx;\r\n      \r\n      const getMazeData = (idx0: number, idx1: number) => {\r\n        indices[axes[othA0]] = idx0;\r\n        indices[axes[othA1]] = idx1;\r\n        \r\n        // Convert to our maze array coordinates\r\n        const gridX = indices[0];\r\n        const gridZ = indices[2];\r\n        \r\n        // Check bounds and maze data\r\n        if (gridX >= 0 && gridX < 15 && gridZ >= 0 && gridZ < 15) {\r\n          return maze[gridZ][gridX] === 1;\r\n        }\r\n        return true; // Treat out-of-bounds as walls\r\n      };\r\n      \r\n      // Check for collisions on orthogonal axes\r\n      for (let i = Math.max(min0, 0); i <= Math.min(14, max0); i++) {\r\n        for (let j = Math.max(min1, 0); j <= Math.min(14, max1); j++) {\r\n          if (colAx >= 0 && colAx <= 14 && getMazeData(i, j)) {\r\n            collided = true;\r\n            break;\r\n          }\r\n        }\r\n        if (collided) break;\r\n      }\r\n      \r\n      if (collided) {\r\n        // Stop movement on this axis with proper offset calculation\r\n        const offset = getOffset(mazePosRelevant[majorAxis] + sign) - sign * (collisionDistance + minorWidth / 2);\r\n        camera.position[majorAxis] = offset;\r\n        newMazePosRelevant[majorAxis] = mazePosRelevant[majorAxis];\r\n      } else {\r\n        mazePosRelevant[majorAxis] += sign;\r\n      }\r\n    };\r\n\r\n    const collisionUpdate = () => {\r\n      const nearPos = new THREE.Vector3().copy(camera.position).addScalar(-collisionDistance);\r\n      const farPos = new THREE.Vector3().copy(camera.position).addScalar(collisionDistance);\r\n      const newMazePosNear = getMazePos(nearPos);\r\n      const newMazePosFar = getMazePos(farPos);\r\n\r\n      // Initialize collision tracking (only happens at start)\r\n      if (mazePosNear === null && mazePosFar === null) {\r\n        mazePosNear = newMazePosNear;\r\n        mazePosFar = newMazePosFar;\r\n        return;\r\n      }\r\n\r\n      // Check near position changes (negative direction movement)\r\n      if (newMazePosNear.distanceToSquared(mazePosNear!) !== 0) {\r\n        if (newMazePosNear.x - mazePosNear!.x < 0) {\r\n          checkCollisionOnAxis('x', 'y', 'z', mazePosNear!, newMazePosNear, mazePosFar!, -1);\r\n        }\r\n        if (newMazePosNear.y - mazePosNear!.y < 0) {\r\n          checkCollisionOnAxis('y', 'x', 'z', mazePosNear!, newMazePosNear, mazePosFar!, -1);\r\n        }\r\n        if (newMazePosNear.z - mazePosNear!.z < 0) {\r\n          checkCollisionOnAxis('z', 'y', 'x', mazePosNear!, newMazePosNear, mazePosFar!, -1);\r\n        }\r\n      }\r\n\r\n      // Check far position changes (positive direction movement)\r\n      if (newMazePosFar.distanceToSquared(mazePosFar!) !== 0) {\r\n        if (newMazePosFar.x - mazePosFar!.x > 0) {\r\n          checkCollisionOnAxis('x', 'y', 'z', mazePosFar!, newMazePosFar, mazePosNear!, 1);\r\n        }\r\n        if (newMazePosFar.y - mazePosFar!.y > 0) {\r\n          checkCollisionOnAxis('y', 'x', 'z', mazePosFar!, newMazePosFar, mazePosNear!, 1);\r\n        }\r\n        if (newMazePosFar.z - mazePosFar!.z > 0) {\r\n          checkCollisionOnAxis('z', 'y', 'x', mazePosFar!, newMazePosFar, mazePosNear!, 1);\r\n        }\r\n      }\r\n\r\n      // Update tracking positions\r\n      mazePosNear = newMazePosNear;\r\n      mazePosFar = newMazePosFar;\r\n    };\r\n\r\n    // Check win condition using proper maze coordinates\r\n    const checkWin = () => {\r\n      const mazePos = getMazePos(camera.position);\r\n      const gridX = Math.floor(mazePos.x / 2);\r\n      const gridZ = Math.floor(mazePos.z / 2);\r\n      \r\n      // Check if we're at the goal position\r\n      if (gridX >= 0 && gridX < 15 && gridZ >= 0 && gridZ < 15) {\r\n        return maze[gridZ][gridX] === 2;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    // Minimap functionality\r\n    const updateMinimap = () => {\r\n      const canvas = minimapCanvasRef.current;\r\n      if (!canvas) return;\r\n\r\n      const ctx = canvas.getContext('2d');\r\n      if (!ctx) return;\r\n\r\n      const cellSize = 8;\r\n      canvas.width = maze[0].length * cellSize;\r\n      canvas.height = maze.length * cellSize;\r\n\r\n      // Clear canvas\r\n      ctx.fillStyle = '#87CEEB';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n      // Draw maze\r\n      maze.forEach((row, z) => {\r\n        row.forEach((cell, x) => {\r\n          if (cell === 1) {\r\n            // Wall\r\n            ctx.fillStyle = '#8B4513';\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          } else if (cell === 2) {\r\n            // Goal\r\n            ctx.fillStyle = '#00FF00';\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          } else {\r\n            // Path\r\n            ctx.fillStyle = '#90EE90';\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          }\r\n        });\r\n      });\r\n\r\n      // Draw player using maze coordinates\r\n      const mazePos = getMazePos(camera.position);\r\n      const playerX = (mazePos.x / 2) * cellSize;\r\n      const playerZ = (mazePos.z / 2) * cellSize;\r\n      \r\n      ctx.fillStyle = '#FF0000';\r\n      ctx.beginPath();\r\n      ctx.arc(playerX, playerZ, cellSize / 3, 0, 2 * Math.PI);\r\n      ctx.fill();\r\n\r\n      // Draw player direction using camera rotation\r\n      const dirX = Math.sin(camera.rotation.y) * cellSize / 2;\r\n      const dirZ = Math.cos(camera.rotation.y) * cellSize / 2;\r\n      \r\n      ctx.strokeStyle = '#FF0000';\r\n      ctx.lineWidth = 2;\r\n      ctx.beginPath();\r\n      ctx.moveTo(playerX, playerZ);\r\n      ctx.lineTo(playerX + dirX, playerZ + dirZ);\r\n      ctx.stroke();\r\n    };\r\n\r\n    // Mouse sensitivity constant\r\n    const mouseSensitivity = 0.002;\r\n\r\n    // Professional mouse controls from 3D Maze Master\r\n    const applyRotation = (rotationVector: THREE.Vector3, scaleFactor: number = 1) => {\r\n      const tmpEulerAngle = new THREE.Euler().setFromQuaternion(camera.quaternion, 'YXZ');\r\n      \r\n      tmpEulerAngle.y += rotationVector.y * scaleFactor;\r\n      tmpEulerAngle.x += rotationVector.x * scaleFactor;\r\n      \r\n      // Clamp pitch to prevent gimbal lock (±88.2°)\r\n      tmpEulerAngle.x = Math.max(-Math.PI * 0.49, Math.min(Math.PI * 0.49, tmpEulerAngle.x));\r\n      \r\n      camera.quaternion.setFromEuler(tmpEulerAngle);\r\n      camera.rotation.setFromQuaternion(camera.quaternion, camera.rotation.order);\r\n    };\r\n\r\n    const onMouseMove = (e: MouseEvent) => {\r\n      if (!isLocked) return;\r\n\r\n      const movementX = e.movementX || 0;\r\n      const movementY = e.movementY || 0;\r\n      \r\n      const rotationVector = new THREE.Vector3(-movementY, -movementX, 0);\r\n      applyRotation(rotationVector, mouseSensitivity);\r\n    };\r\n\r\n    const onPointerLockChange = () => {\r\n      isLocked = document.pointerLockElement === renderer.domElement;\r\n      if (isLocked) {\r\n        setShowInstructions(false);\r\n      }\r\n    };\r\n\r\n    const onClick = () => {\r\n      if (!isLocked) {\r\n        renderer.domElement.requestPointerLock();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousemove', onMouseMove);\r\n    document.addEventListener('pointerlockchange', onPointerLockChange);\r\n    renderer.domElement.addEventListener('click', onClick);\r\n\r\n    // Animation loop\r\n    const animate = () => {\r\n      animationId = requestAnimationFrame(animate);\r\n\r\n      // Update time\r\n      const currentTime = (Date.now() - startTime) / 1000;\r\n      setTime(currentTime);\r\n\r\n      // 3D Maze Master movement system\r\n      let moveVector = new THREE.Vector3(0, 0, 0);\r\n      \r\n      if (isLocked) {\r\n        // Update move state based on keyboard input\r\n        player.moveState.forward = keys.forward ? 1 : 0;\r\n        player.moveState.back = keys.backward ? 1 : 0;\r\n        player.moveState.left = keys.left ? 1 : 0;\r\n        player.moveState.right = keys.right ? 1 : 0;\r\n\r\n        // Calculate movement vector in local space\r\n        moveVector = new THREE.Vector3(\r\n          -player.moveState.left + player.moveState.right,\r\n          0, // no vertical movement in maze\r\n          -(player.moveState.forward) + player.moveState.back\r\n        );\r\n\r\n        // Normalize movement vector to prevent faster diagonal movement\r\n        if (moveVector.length() > 1) {\r\n          moveVector.normalize();\r\n        }\r\n\r\n        // Apply movement with proper delta time\r\n        const delta = 1/60; // Assume 60fps for consistent movement\r\n        const moveMult = delta * movementSpeed;\r\n        \r\n        // Apply movement relative to camera orientation\r\n        if (moveVector.length() > 0) {\r\n          camera.translateX(moveVector.x * moveMult);\r\n          camera.translateZ(moveVector.z * moveMult);\r\n        }\r\n        \r\n        // Update player position to match camera\r\n        player.position.copy(camera.position);\r\n        \r\n        // Update head bob for walking animation\r\n        if (moveVector.length() > 0.001) {\r\n          headBob.current.phase += delta * 8; // Walking speed\r\n        }\r\n      }\r\n\r\n      // Advanced collision detection from 3D Maze Master\r\n      collisionUpdate();\r\n\r\n      // Update minimap\r\n      updateMinimap();\r\n\r\n      // Check win condition\r\n      if (checkWin()) {\r\n        setGameWon(true);\r\n        cancelAnimationFrame(animationId);\r\n        document.exitPointerLock();\r\n        return;\r\n      }\r\n\r\n      // Professional first-person camera sync with head bob\r\n      const movementDistance = moveVector.length();\r\n      const bobOffset = movementDistance > 0.001 ? Math.sin(headBob.current.phase) * headBob.current.amplitude : 0;\r\n      \r\n      // Maintain proper camera height with head bob effect\r\n      const targetHeight = player.position.y + player.height + bobOffset;\r\n      camera.position.y = targetHeight;\r\n\r\n      // Animate goals\r\n      scene.traverse((obj) => {\r\n        if ((obj as any).userData.animate) {\r\n          (obj as any).userData.animate();\r\n        }\r\n      });\r\n\r\n      renderer.render(scene, camera);\r\n    };\r\n\r\n    animate();\r\n\r\n    // Window resize\r\n    const onResize = () => {\r\n      camera.aspect = window.innerWidth / window.innerHeight;\r\n      camera.updateProjectionMatrix();\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n    };\r\n\r\n    window.addEventListener('resize', onResize);\r\n\r\n    // Store ref for cleanup\r\n    const currentMount = mountRef.current;\r\n\r\n    // Cleanup\r\n    return () => {\r\n      cancelAnimationFrame(animationId);\r\n      document.removeEventListener('mousemove', onMouseMove);\r\n      document.removeEventListener('pointerlockchange', onPointerLockChange);\r\n      window.removeEventListener('resize', onResize);\r\n\r\n      if (currentMount && renderer.domElement.parentNode) {\r\n        currentMount.removeChild(renderer.domElement);\r\n      }\r\n\r\n      renderer.dispose();\r\n      \r\n      // Dispose of textures and materials\r\n      stoneTexture.dispose();\r\n      grassTexture.dispose();\r\n      wallMaterial.dispose();\r\n      floorMaterial.dispose();\r\n      \r\n      // Dispose of geometries\r\n      floorGeometry.dispose();\r\n      \r\n      // Dispose of wall blocks\r\n      wallBlocks.traverse((child) => {\r\n        if (child instanceof THREE.Mesh) {\r\n          child.geometry.dispose();\r\n          if (Array.isArray(child.material)) {\r\n            child.material.forEach(material => material.dispose());\r\n          } else {\r\n            child.material.dispose();\r\n          }\r\n        }\r\n      });\r\n    };\r\n  }, [isPlaying, keys, keys.backward, keys.forward, keys.left, keys.right]);\r\n\r\n  if (!isPlaying) {\r\n    return (\r\n      <div\r\n        style={{\r\n          width: '100vw',\r\n          height: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          background: 'linear-gradient(135deg, #87CEEB 0%, #98FB98 100%)',\r\n          fontFamily: \"'Trebuchet MS', sans-serif\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            textAlign: 'center',\r\n            padding: '50px',\r\n            background: 'rgba(255, 255, 255, 0.95)',\r\n            borderRadius: '20px',\r\n            border: '3px solid #4169E1',\r\n            boxShadow: '0 0 60px rgba(65, 105, 225, 0.4), inset 0 0 40px rgba(255, 255, 255, 0.5)',\r\n            maxWidth: '600px',\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              fontSize: '64px',\r\n              margin: '0 0 10px 0',\r\n              color: '#4169E1',\r\n              textShadow: '0 0 30px #4169E1, 0 0 60px #1E90FF',\r\n              letterSpacing: '4px',\r\n              fontWeight: 'bold',\r\n            }}\r\n          >\r\n            MORNING MAZE\r\n          </h1>\r\n          <p\r\n            style={{\r\n              fontSize: '20px',\r\n              color: '#2F4F4F',\r\n              marginBottom: '40px',\r\n              letterSpacing: '1px',\r\n            }}\r\n          >\r\n            Navigate the sunny garden maze\r\n          </p>\r\n          <button\r\n            onClick={() => {\r\n              setIsPlaying(true);\r\n              setGameWon(false);\r\n              setTime(0);\r\n            }}\r\n            style={{\r\n              padding: '20px 60px',\r\n              fontSize: '24px',\r\n              background: 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)',\r\n              color: '#fff',\r\n              border: '3px solid #4169E1',\r\n              borderRadius: '12px',\r\n              cursor: 'pointer',\r\n              fontFamily: \"'Trebuchet MS', sans-serif\",\r\n              fontWeight: 'bold',\r\n              boxShadow: '0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)',\r\n              transition: 'all 0.3s ease',\r\n              textTransform: 'uppercase',\r\n              letterSpacing: '2px',\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              const target = e.target as HTMLButtonElement;\r\n              target.style.background = 'linear-gradient(135deg, #1E90FF 0%, #4169E1 100%)';\r\n              target.style.transform = 'translateY(-4px) scale(1.05)';\r\n              target.style.boxShadow = '0 10px 30px rgba(65, 105, 225, 0.5), inset 0 2px 10px rgba(255, 255, 255, 0.3)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              const target = e.target as HTMLButtonElement;\r\n              target.style.background = 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)';\r\n              target.style.transform = 'translateY(0) scale(1)';\r\n              target.style.boxShadow = '0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)';\r\n            }}\r\n          >\r\n            Start Game\r\n          </button>\r\n          <div\r\n            style={{\r\n              marginTop: '40px',\r\n              padding: '20px',\r\n              background: 'rgba(255, 255, 255, 0.7)',\r\n              borderRadius: '10px',\r\n              border: '2px solid #4169E1',\r\n            }}\r\n          >\r\n            <p style={{ color: '#2F4F4F', fontSize: '16px', margin: '8px 0' }}>\r\n              <strong style={{ color: '#4169E1' }}>W A S D</strong> or{' '}\r\n              <strong style={{ color: '#4169E1' }}>Arrow Keys</strong> - Move\r\n            </p>\r\n            <p style={{ color: '#2F4F4F', fontSize: '16px', margin: '8px 0' }}>\r\n              <strong style={{ color: '#4169E1' }}>Mouse</strong> - Look around\r\n            </p>\r\n            <p style={{ color: '#2F4F4F', fontSize: '16px', margin: '8px 0' }}>\r\n              <strong style={{ color: '#4169E1' }}>Goal</strong> - Find the glowing green marker!\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (gameWon) {\r\n    return (\r\n      <div\r\n        style={{\r\n          width: '100vw',\r\n          height: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          background: 'radial-gradient(circle, #87CEEB 0%, #98FB98 100%)',\r\n          fontFamily: \"'Trebuchet MS', sans-serif\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            textAlign: 'center',\r\n            padding: '50px',\r\n            background: 'rgba(255, 255, 255, 0.95)',\r\n            borderRadius: '20px',\r\n            border: '4px solid #4169E1',\r\n            boxShadow: '0 0 80px rgba(65, 105, 225, 0.6), inset 0 0 40px rgba(255, 255, 255, 0.5)',\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              fontSize: '72px',\r\n              margin: '0 0 20px 0',\r\n              color: '#4169E1',\r\n              textShadow: '0 0 40px #4169E1, 0 0 80px #1E90FF',\r\n            }}\r\n          >\r\n            🏆 VICTORY! 🏆\r\n          </h1>\r\n          <p style={{ fontSize: '28px', color: '#2F4F4F', marginBottom: '20px' }}>\r\n            You escaped the maze!\r\n          </p>\r\n          <p\r\n            style={{\r\n              fontSize: '48px',\r\n              color: '#4169E1',\r\n              marginBottom: '40px',\r\n              fontWeight: 'bold',\r\n            }}\r\n          >\r\n            {time.toFixed(2)} seconds\r\n          </p>\r\n          <button\r\n            onClick={() => {\r\n              setIsPlaying(false);\r\n              setTimeout(() => {\r\n                setIsPlaying(true);\r\n                setGameWon(false);\r\n                setTime(0);\r\n              }, 100);\r\n            }}\r\n            style={{\r\n              padding: '20px 60px',\r\n              fontSize: '24px',\r\n              background: 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)',\r\n              color: '#fff',\r\n              border: 'none',\r\n              borderRadius: '12px',\r\n              cursor: 'pointer',\r\n              fontFamily: \"'Trebuchet MS', sans-serif\",\r\n              fontWeight: 'bold',\r\n              boxShadow: '0 6px 20px rgba(65, 105, 225, 0.4)',\r\n              transition: 'all 0.3s ease',\r\n              textTransform: 'uppercase',\r\n              letterSpacing: '2px',\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              const target = e.target as HTMLButtonElement;\r\n              target.style.transform = 'translateY(-4px) scale(1.05)';\r\n              target.style.boxShadow = '0 10px 30px rgba(65, 105, 225, 0.6)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              const target = e.target as HTMLButtonElement;\r\n              target.style.transform = 'translateY(0) scale(1)';\r\n              target.style.boxShadow = '0 6px 20px rgba(65, 105, 225, 0.4)';\r\n            }}\r\n          >\r\n            Play Again\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ position: 'relative', width: '100vw', height: '100vh' }}>\r\n      <div ref={mountRef} style={{ width: '100%', height: '100%' }} />\r\n      \r\n      {/* Timer */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: '30px',\r\n          left: '30px',\r\n          padding: '15px 25px',\r\n          background: 'rgba(255, 255, 255, 0.9)',\r\n          color: '#4169E1',\r\n          fontFamily: \"'Courier New', monospace\",\r\n          fontSize: '28px',\r\n          fontWeight: 'bold',\r\n          borderRadius: '10px',\r\n          border: '3px solid #4169E1',\r\n          boxShadow: '0 4px 15px rgba(65, 105, 225, 0.3)',\r\n          pointerEvents: 'none',\r\n        }}\r\n      >\r\n        ⏱ {time.toFixed(1)}s\r\n      </div>\r\n\r\n      {/* Minimap */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: '30px',\r\n          right: '30px',\r\n          padding: '10px',\r\n          background: 'rgba(255, 255, 255, 0.9)',\r\n          borderRadius: '10px',\r\n          border: '3px solid #4169E1',\r\n          boxShadow: '0 4px 15px rgba(65, 105, 225, 0.3)',\r\n          pointerEvents: 'none',\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            color: '#4169E1',\r\n            fontFamily: \"'Courier New', monospace\",\r\n            fontSize: '12px',\r\n            fontWeight: 'bold',\r\n            marginBottom: '5px',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          MAP\r\n        </div>\r\n        <canvas\r\n          ref={minimapCanvasRef}\r\n          style={{\r\n            border: '2px solid #4169E1',\r\n            borderRadius: '5px',\r\n            display: 'block',\r\n          }}\r\n        />\r\n        <div\r\n          style={{\r\n            color: '#2F4F4F',\r\n            fontFamily: \"'Courier New', monospace\",\r\n            fontSize: '10px',\r\n            marginTop: '5px',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          🔴 You | 🟢 Goal\r\n        </div>\r\n      </div>\r\n\r\n      {/* Instructions overlay */}\r\n      {showInstructions && (\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            top: '50%',\r\n            left: '50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            padding: '30px 50px',\r\n            background: 'rgba(255, 255, 255, 0.95)',\r\n            color: '#4169E1',\r\n            fontFamily: \"'Trebuchet MS', sans-serif\",\r\n            fontSize: '24px',\r\n            fontWeight: 'bold',\r\n            borderRadius: '15px',\r\n            border: '3px solid #4169E1',\r\n            boxShadow: '0 0 40px rgba(65, 105, 225, 0.4)',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          🖱️ CLICK TO START 🖱️\r\n        </div>\r\n      )}\r\n\r\n      {/* Controls hint */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: '30px',\r\n          right: '30px',\r\n          padding: '15px 20px',\r\n          background: 'rgba(255, 255, 255, 0.9)',\r\n          color: '#2F4F4F',\r\n          fontFamily: \"'Courier New', monospace\",\r\n          fontSize: '14px',\r\n          borderRadius: '8px',\r\n          border: '2px solid #4169E1',\r\n          pointerEvents: 'none',\r\n          lineHeight: '1.8',\r\n        }}\r\n      >\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>W/↑</strong> - Forward\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>S/↓</strong> - Backward\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>A/←</strong> - Left\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>D/→</strong> - Right\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>Mouse</strong> - Look\r\n        </div>\r\n        <div style={{ marginTop: '5px', fontSize: '12px', color: '#666' }}>\r\n          Click to lock cursor\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}