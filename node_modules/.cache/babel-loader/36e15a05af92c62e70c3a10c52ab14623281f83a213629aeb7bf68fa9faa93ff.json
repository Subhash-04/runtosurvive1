{"ast":null,"code":"import{useEffect}from'react';// Global keyboard state for immediate access\nconst globalKeys={forward:false,backward:false,left:false,right:false};// Set up global keyboard listeners once\nlet listenersSetup=false;const setupKeyboardListeners=()=>{if(listenersSetup)return;const handleKeyDown=event=>{const key=event.key.toLowerCase();switch(key){case'w':case'arrowup':globalKeys.forward=true;break;case's':case'arrowdown':globalKeys.backward=true;break;case'a':case'arrowleft':globalKeys.left=true;break;case'd':case'arrowright':globalKeys.right=true;break;}};const handleKeyUp=event=>{const key=event.key.toLowerCase();switch(key){case'w':case'arrowup':globalKeys.forward=false;break;case's':case'arrowdown':globalKeys.backward=false;break;case'a':case'arrowleft':globalKeys.left=false;break;case'd':case'arrowright':globalKeys.right=false;break;}};window.addEventListener('keydown',handleKeyDown);window.addEventListener('keyup',handleKeyUp);listenersSetup=true;};export const useKeyboard=()=>{useEffect(()=>{setupKeyboardListeners();},[]);return globalKeys;};","map":{"version":3,"names":["useEffect","globalKeys","forward","backward","left","right","listenersSetup","setupKeyboardListeners","handleKeyDown","event","key","toLowerCase","handleKeyUp","window","addEventListener","useKeyboard"],"sources":["C:/Users/subha/Downloads/ma/src/hooks/useKeyboard.ts"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\ninterface KeyboardState {\r\n  forward: boolean;\r\n  backward: boolean;\r\n  left: boolean;\r\n  right: boolean;\r\n}\r\n\r\n// Global keyboard state for immediate access\r\nconst globalKeys: KeyboardState = {\r\n  forward: false,\r\n  backward: false,\r\n  left: false,\r\n  right: false,\r\n};\r\n\r\n// Set up global keyboard listeners once\r\nlet listenersSetup = false;\r\n\r\nconst setupKeyboardListeners = () => {\r\n  if (listenersSetup) return;\r\n  \r\n  const handleKeyDown = (event: KeyboardEvent) => {\r\n    const key = event.key.toLowerCase();\r\n    \r\n    switch (key) {\r\n      case 'w':\r\n      case 'arrowup':\r\n        globalKeys.forward = true;\r\n        break;\r\n      case 's':\r\n      case 'arrowdown':\r\n        globalKeys.backward = true;\r\n        break;\r\n      case 'a':\r\n      case 'arrowleft':\r\n        globalKeys.left = true;\r\n        break;\r\n      case 'd':\r\n      case 'arrowright':\r\n        globalKeys.right = true;\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleKeyUp = (event: KeyboardEvent) => {\r\n    const key = event.key.toLowerCase();\r\n    \r\n    switch (key) {\r\n      case 'w':\r\n      case 'arrowup':\r\n        globalKeys.forward = false;\r\n        break;\r\n      case 's':\r\n      case 'arrowdown':\r\n        globalKeys.backward = false;\r\n        break;\r\n      case 'a':\r\n      case 'arrowleft':\r\n        globalKeys.left = false;\r\n        break;\r\n      case 'd':\r\n      case 'arrowright':\r\n        globalKeys.right = false;\r\n        break;\r\n    }\r\n  };\r\n\r\n  window.addEventListener('keydown', handleKeyDown);\r\n  window.addEventListener('keyup', handleKeyUp);\r\n  listenersSetup = true;\r\n};\r\n\r\nexport const useKeyboard = (): KeyboardState => {\r\n  useEffect(() => {\r\n    setupKeyboardListeners();\r\n  }, []);\r\n\r\n  return globalKeys;\r\n};"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CASjC;AACA,KAAM,CAAAC,UAAyB,CAAG,CAChCC,OAAO,CAAE,KAAK,CACdC,QAAQ,CAAE,KAAK,CACfC,IAAI,CAAE,KAAK,CACXC,KAAK,CAAE,KACT,CAAC,CAED;AACA,GAAI,CAAAC,cAAc,CAAG,KAAK,CAE1B,KAAM,CAAAC,sBAAsB,CAAGA,CAAA,GAAM,CACnC,GAAID,cAAc,CAAE,OAEpB,KAAM,CAAAE,aAAa,CAAIC,KAAoB,EAAK,CAC9C,KAAM,CAAAC,GAAG,CAAGD,KAAK,CAACC,GAAG,CAACC,WAAW,CAAC,CAAC,CAEnC,OAAQD,GAAG,EACT,IAAK,GAAG,CACR,IAAK,SAAS,CACZT,UAAU,CAACC,OAAO,CAAG,IAAI,CACzB,MACF,IAAK,GAAG,CACR,IAAK,WAAW,CACdD,UAAU,CAACE,QAAQ,CAAG,IAAI,CAC1B,MACF,IAAK,GAAG,CACR,IAAK,WAAW,CACdF,UAAU,CAACG,IAAI,CAAG,IAAI,CACtB,MACF,IAAK,GAAG,CACR,IAAK,YAAY,CACfH,UAAU,CAACI,KAAK,CAAG,IAAI,CACvB,MACJ,CACF,CAAC,CAED,KAAM,CAAAO,WAAW,CAAIH,KAAoB,EAAK,CAC5C,KAAM,CAAAC,GAAG,CAAGD,KAAK,CAACC,GAAG,CAACC,WAAW,CAAC,CAAC,CAEnC,OAAQD,GAAG,EACT,IAAK,GAAG,CACR,IAAK,SAAS,CACZT,UAAU,CAACC,OAAO,CAAG,KAAK,CAC1B,MACF,IAAK,GAAG,CACR,IAAK,WAAW,CACdD,UAAU,CAACE,QAAQ,CAAG,KAAK,CAC3B,MACF,IAAK,GAAG,CACR,IAAK,WAAW,CACdF,UAAU,CAACG,IAAI,CAAG,KAAK,CACvB,MACF,IAAK,GAAG,CACR,IAAK,YAAY,CACfH,UAAU,CAACI,KAAK,CAAG,KAAK,CACxB,MACJ,CACF,CAAC,CAEDQ,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEN,aAAa,CAAC,CACjDK,MAAM,CAACC,gBAAgB,CAAC,OAAO,CAAEF,WAAW,CAAC,CAC7CN,cAAc,CAAG,IAAI,CACvB,CAAC,CAED,MAAO,MAAM,CAAAS,WAAW,CAAGA,CAAA,GAAqB,CAC9Cf,SAAS,CAAC,IAAM,CACdO,sBAAsB,CAAC,CAAC,CAC1B,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAAN,UAAU,CACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}