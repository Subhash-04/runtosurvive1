{"ast":null,"code":"import{useEffect,useRef,useState}from'react';import*as THREE from'three';import{useKeyboard}from'../hooks/useKeyboard';import{puzzles}from'../data/puzzles';import PuzzleOverlay from'./PuzzleOverlay';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MazeGame(){const mountRef=useRef(null);const minimapCanvasRef=useRef(null);const[isPlaying,setIsPlaying]=useState(false);const[gameWon,setGameWon]=useState(false);const[gameAborted,setGameAborted]=useState(false);// Time ran out\nconst[showRegistration,setShowRegistration]=useState(false);// Registration form\nconst[timeRemaining,setTimeRemaining]=useState(45*60);// 45 minutes countdown\nconst[elapsedTime,setElapsedTime]=useState(0);// Time taken to complete\nconst[showInstructions,setShowInstructions]=useState(true);const[activePuzzle,setActivePuzzle]=useState(null);const[solvedPuzzles,setSolvedPuzzles]=useState([]);const[collectedKeys,setCollectedKeys]=useState([]);const solvedPuzzlesRef=useRef([]);const collectedKeysRef=useRef([]);const setActivePuzzleRef=useRef(p=>setActivePuzzle(p));// Professional movement hooks\nconst keys=useKeyboard();const keysRef=useRef(keys);const headBob=useRef({phase:0,amplitude:0.02});// Keep keysRef updated with latest keys\nuseEffect(()=>{keysRef.current=keys;},[keys]);// Keep puzzle refs updated\nuseEffect(()=>{solvedPuzzlesRef.current=solvedPuzzles;},[solvedPuzzles]);// Keep collected keys ref updated\nuseEffect(()=>{collectedKeysRef.current=collectedKeys;},[collectedKeys]);useEffect(()=>{if(!isPlaying)return;let animationId;const scene=new THREE.Scene();// Morning sky color\nscene.background=new THREE.Color(0x87CEEB);scene.fog=new THREE.Fog(0x87CEEB,10,50);// Camera - First Person Setup\nconst camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,100);// Set initial camera position and rotation for first-person view\ncamera.position.set(1.5,0.5,1.5);// Start at ground level\ncamera.rotation.order='YXZ';// Proper rotation order for FPS camera\ncamera.rotation.set(0,0,0);// Start looking forward (no pitch/yaw)\n// Renderer\nconst renderer=new THREE.WebGLRenderer({antialias:true});renderer.setSize(window.innerWidth,window.innerHeight);renderer.shadowMap.enabled=true;renderer.shadowMap.type=THREE.PCFSoftShadowMap;if(mountRef.current){mountRef.current.appendChild(renderer.domElement);}// Professional player state - based on 3D Maze Master\nconst player={position:new THREE.Vector3(1.5,0.2,1.5),rotation:new THREE.Euler(0,0,0,'YXZ'),velocity:new THREE.Vector3(0,0,0),moveState:{up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0},height:0.3,radius:0.4};// Professional movement constants\nlet isLocked=false;const movementSpeed=2.0;// units/second\nconst playerRadius=0.3;// collision radius\nconst startTime=Date.now();const countdownDuration=45*60;// 45 minutes in seconds\n// Complex Maze with Dead Ends, Loops, Puzzle Gates and Locked Final Doors (41x41)\n// 0 = path, 1 = wall, 2 = goal, 3-7 = puzzle gates (puzzles 1-5), 8 = locked door (needs all keys)\nconst maze=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,0,1,0,1,0,1,1,1,0,1,0,1,1,1,0,1,0,1,0,1,0,1,1,1,0,1,0,1,1,1,0,1,0,1,1,1,1,1,0,1],[1,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1],[1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,0,1],[1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1],[1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1],[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1],[1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1],[1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,4,1,1,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,1],[1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1],[1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1],[1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,5,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1],[1,1,1,1,1,1,1,6,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1],[1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,7,1,1,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,1],[1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1],[1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,0,0,1,0,1,1,8,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,2,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]];// Morning lighting\nconst ambientLight=new THREE.AmbientLight(0xffffff,0.8);scene.add(ambientLight);// Sun light\nconst sunLight=new THREE.DirectionalLight(0xffffff,1.2);sunLight.position.set(10,20,10);sunLight.castShadow=true;sunLight.shadow.mapSize.width=2048;sunLight.shadow.mapSize.height=2048;sunLight.shadow.camera.near=0.5;sunLight.shadow.camera.far=50;sunLight.shadow.camera.left=-20;sunLight.shadow.camera.right=20;sunLight.shadow.camera.top=20;sunLight.shadow.camera.bottom=-20;scene.add(sunLight);// Soft fill light\nconst fillLight=new THREE.DirectionalLight(0x87CEEB,0.4);fillLight.position.set(-5,10,-5);scene.add(fillLight);// Perfect 3D Block System - Minecraft Style\nconst blockSize=1;const wallHeight=2.5;// Create perfect stone brick texture\nconst createStoneTexture=()=>{const canvas=document.createElement('canvas');canvas.width=64;canvas.height=64;const ctx=canvas.getContext('2d');// Stone base color\nctx.fillStyle='#696969';ctx.fillRect(0,0,64,64);// Add stone texture details\nfor(let i=0;i<100;i++){const x=Math.random()*64;const y=Math.random()*64;const size=Math.random()*2+1;const brightness=Math.random()*0.3+0.7;ctx.fillStyle=\"rgb(\".concat(Math.floor(105*brightness),\", \").concat(Math.floor(105*brightness),\", \").concat(Math.floor(105*brightness),\")\");ctx.fillRect(x,y,size,size);}// Add some darker spots\nfor(let i=0;i<50;i++){const x=Math.random()*64;const y=Math.random()*64;const size=Math.random()*3+1;ctx.fillStyle='#555555';ctx.fillRect(x,y,size,size);}const texture=new THREE.CanvasTexture(canvas);texture.wrapS=THREE.RepeatWrapping;texture.wrapT=THREE.RepeatWrapping;texture.magFilter=THREE.NearestFilter;texture.minFilter=THREE.NearestFilter;return texture;};// Create perfect grass texture\nconst createGrassTexture=()=>{const canvas=document.createElement('canvas');canvas.width=64;canvas.height=64;const ctx=canvas.getContext('2d');// Grass base color\nctx.fillStyle='#228B22';ctx.fillRect(0,0,64,64);// Add grass blade details\nfor(let i=0;i<150;i++){const x=Math.random()*64;const y=Math.random()*64;const size=Math.random()*2+1;const grassColors=['#32CD32','#228B22','#006400','#90EE90'];ctx.fillStyle=grassColors[Math.floor(Math.random()*grassColors.length)];ctx.fillRect(x,y,size,size);}const texture=new THREE.CanvasTexture(canvas);texture.wrapS=THREE.RepeatWrapping;texture.wrapT=THREE.RepeatWrapping;texture.repeat.set(8,8);texture.magFilter=THREE.NearestFilter;texture.minFilter=THREE.NearestFilter;return texture;};// Create materials\nconst stoneTexture=createStoneTexture();const grassTexture=createGrassTexture();const wallMaterial=new THREE.MeshStandardMaterial({map:stoneTexture,roughness:0.9,metalness:0.0});const floorMaterial=new THREE.MeshStandardMaterial({map:grassTexture,roughness:0.8,metalness:0.0});// Create individual wall blocks for perfect placement\nconst createWallBlocks=()=>{const wallGroup=new THREE.Group();// Puzzle gate colors (different color for each puzzle)\nconst puzzleColors=[0xff4444,// Puzzle 1 - Red\n0xff8800,// Puzzle 2 - Orange\n0xffff00,// Puzzle 3 - Yellow\n0x00aaff,// Puzzle 4 - Blue\n0xff00ff// Puzzle 5 - Purple\n];maze.forEach((row,z)=>{row.forEach((cell,x)=>{if(cell===1){// Create individual wall block\nconst wallGeometry=new THREE.BoxGeometry(blockSize,wallHeight,blockSize);const wall=new THREE.Mesh(wallGeometry,wallMaterial);// Position centered in grid cell\nwall.position.set(x+0.5,wallHeight/2,z+0.5);wall.castShadow=true;wall.receiveShadow=true;wallGroup.add(wall);}else if(cell>=3&&cell<=7){// Puzzle gate - glowing door\nconst puzzleId=cell-2;// 3->1, 4->2, 5->3, 6->4, 7->5\nconst gateGeometry=new THREE.BoxGeometry(blockSize,wallHeight,blockSize);const gateMaterial=new THREE.MeshStandardMaterial({color:puzzleColors[puzzleId-1],emissive:puzzleColors[puzzleId-1],emissiveIntensity:0.5,transparent:true,opacity:0.85,metalness:0.3,roughness:0.4});const gate=new THREE.Mesh(gateGeometry,gateMaterial);gate.position.set(x+0.5,wallHeight/2,z+0.5);gate.castShadow=true;gate.receiveShadow=true;gate.userData={isPuzzleGate:true,puzzleId:puzzleId,gridX:x,gridZ:z};wallGroup.add(gate);// Add light for puzzle gate\nconst gateLight=new THREE.PointLight(puzzleColors[puzzleId-1],1,5);gateLight.position.set(x+0.5,1.5,z+0.5);wallGroup.add(gateLight);}else if(cell===8){// Locked final door - requires all 5 keys\nconst doorGeometry=new THREE.BoxGeometry(blockSize,wallHeight,blockSize);const doorMaterial=new THREE.MeshStandardMaterial({color:0xffd700,// Gold\nemissive:0xffd700,emissiveIntensity:0.7,transparent:true,opacity:0.9,metalness:0.6,roughness:0.2});const door=new THREE.Mesh(doorGeometry,doorMaterial);door.position.set(x+0.5,wallHeight/2,z+0.5);door.castShadow=true;door.receiveShadow=true;door.userData={isLockedDoor:true,gridX:x,gridZ:z};wallGroup.add(door);// Add golden light for locked door\nconst doorLight=new THREE.PointLight(0xffd700,2,6);doorLight.position.set(x+0.5,1.5,z+0.5);wallGroup.add(doorLight);}});});return wallGroup;};// Add perfect wall blocks to scene\nconst wallBlocks=createWallBlocks();scene.add(wallBlocks);// Create goal with advanced effects\nlet goal;let goalParticles;maze.forEach((row,z)=>{row.forEach((cell,x)=>{if(cell===2){// Advanced goal design\nconst goalGroup=new THREE.Group();// Main goal crystal\nconst goalGeometry=new THREE.OctahedronGeometry(0.4,2);const goalMaterial=new THREE.MeshStandardMaterial({color:0x00ff44,emissive:0x00ff44,emissiveIntensity:0.6,transparent:true,opacity:0.8,roughness:0.1,metalness:0.3});goal=new THREE.Mesh(goalGeometry,goalMaterial);goal.position.set(0,1,0);goalGroup.add(goal);// Particle system for goal\nconst particleGeometry=new THREE.BufferGeometry();const particleCount=50;const positions=new Float32Array(particleCount*3);for(let i=0;i<particleCount*3;i+=3){positions[i]=(Math.random()-0.5)*2;positions[i+1]=Math.random()*2;positions[i+2]=(Math.random()-0.5)*2;}particleGeometry.setAttribute('position',new THREE.BufferAttribute(positions,3));const particleMaterial=new THREE.PointsMaterial({color:0x00ff44,size:0.05,transparent:true,opacity:0.8});goalParticles=new THREE.Points(particleGeometry,particleMaterial);goalGroup.add(goalParticles);// Goal light with better settings\nconst goalLight=new THREE.PointLight(0x00ff44,2,10);goalLight.position.set(0,1,0);goalLight.castShadow=true;goalLight.shadow.mapSize.width=512;goalLight.shadow.mapSize.height=512;goalGroup.add(goalLight);// Position goal group centered in cell\ngoalGroup.position.set(x+0.5,0,z+0.5);scene.add(goalGroup);// Enhanced goal animation\nconst animateGoal=()=>{const time=Date.now()*0.001;// Rotate crystal\ngoal.rotation.y+=0.02;goal.rotation.x=Math.sin(time)*0.1;// Float up and down\ngoal.position.y=1+Math.sin(time*2)*0.2;// Animate particles\nconst positions=goalParticles.geometry.attributes.position.array;for(let i=1;i<positions.length;i+=3){positions[i]+=0.01;if(positions[i]>3){positions[i]=0;}}goalParticles.geometry.attributes.position.needsUpdate=true;// Pulse light intensity\ngoalLight.intensity=2+Math.sin(time*3)*0.5;};goal.userData.animate=animateGoal;}});});// Floor covering entire maze area\nconst floorGeometry=new THREE.PlaneGeometry(maze[0].length,maze.length);const floor=new THREE.Mesh(floorGeometry,floorMaterial);floor.rotation.x=-Math.PI/2;floor.position.set(maze[0].length/2,0,maze.length/2);// Center floor on maze grid\nfloor.receiveShadow=true;scene.add(floor);// Add some decorative elements\nconst addDecorations=()=>{maze.forEach((row,z)=>{row.forEach((cell,x)=>{if(cell===0&&Math.random()>0.95){// Add small grass tufts\nconst grassGeometry=new THREE.ConeGeometry(0.05,0.2,6);const grassMaterial=new THREE.MeshStandardMaterial({color:0x228B22,roughness:0.9});const grass=new THREE.Mesh(grassGeometry,grassMaterial);grass.position.set(x+0.5+(Math.random()-0.5)*0.8,0.1,z+0.5+(Math.random()-0.5)*0.8);grass.castShadow=true;scene.add(grass);}});});};addDecorations();// Simple and reliable grid-based collision detection\nconst isWall=(x,z)=>{const gridX=Math.floor(x);const gridZ=Math.floor(z);// Out of bounds = wall\nif(gridX<0||gridX>=maze[0].length||gridZ<0||gridZ>=maze.length){return true;}const cellValue=maze[gridZ][gridX];// Regular wall\nif(cellValue===1)return true;// Puzzle gate (3-7) - check if solved\nif(cellValue>=3&&cellValue<=7){const puzzleId=cellValue-2;return!solvedPuzzlesRef.current.includes(puzzleId);}// Locked door (8) - requires all 5 keys\nif(cellValue===8){return collectedKeysRef.current.length<5;}return false;};// Check if player is near a puzzle gate\nconst checkPuzzleTrigger=(x,z)=>{const gridX=Math.floor(x);const gridZ=Math.floor(z);// Check surrounding cells for puzzle gates\nconst checkRadius=1;for(let dz=-checkRadius;dz<=checkRadius;dz++){for(let dx=-checkRadius;dx<=checkRadius;dx++){const checkX=gridX+dx;const checkZ=gridZ+dz;if(checkX>=0&&checkX<maze[0].length&&checkZ>=0&&checkZ<maze.length){const cellValue=maze[checkZ][checkX];if(cellValue>=3&&cellValue<=7){const puzzleId=cellValue-2;if(!solvedPuzzlesRef.current.includes(puzzleId)){// Calculate distance to gate center\nconst gateCenterX=checkX+0.5;const gateCenterZ=checkZ+0.5;const distance=Math.sqrt((x-gateCenterX)**2+(z-gateCenterZ)**2);if(distance<1.5){// Trigger puzzle\nconst puzzle=puzzles.find(p=>p.id===puzzleId);if(puzzle){setActivePuzzleRef.current(puzzle);document.exitPointerLock();}return;}}}}}}};// Check collision at position with player radius\nconst checkCollision=(x,z)=>{// Check 4 corners of player bounding box\nreturn isWall(x-playerRadius,z-playerRadius)||isWall(x+playerRadius,z-playerRadius)||isWall(x-playerRadius,z+playerRadius)||isWall(x+playerRadius,z+playerRadius);};// Try to move and handle collision with wall sliding\nconst tryMove=(deltaX,deltaZ)=>{const currentX=camera.position.x;const currentZ=camera.position.z;// Try full movement first\nconst newX=currentX+deltaX;const newZ=currentZ+deltaZ;if(!checkCollision(newX,newZ)){camera.position.x=newX;camera.position.z=newZ;return;}// Try X movement only (wall sliding)\nif(!checkCollision(newX,currentZ)){camera.position.x=newX;}// Try Z movement only (wall sliding)\nif(!checkCollision(camera.position.x,newZ)){camera.position.z=newZ;}};// Check win condition using simple grid coordinates\nconst checkWin=()=>{const gridX=Math.floor(camera.position.x);const gridZ=Math.floor(camera.position.z);// Check if we're at the goal position (maze is 41x41)\nif(gridX>=0&&gridX<maze[0].length&&gridZ>=0&&gridZ<maze.length){return maze[gridZ][gridX]===2;}return false;};// Minimap functionality\nconst updateMinimap=()=>{const canvas=minimapCanvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');if(!ctx)return;const cellSize=8;canvas.width=maze[0].length*cellSize;canvas.height=maze.length*cellSize;// Clear canvas\nctx.fillStyle='#87CEEB';ctx.fillRect(0,0,canvas.width,canvas.height);// Puzzle gate colors for minimap\nconst puzzleGateColors=['#ff4444','#ff8800','#ffff00','#00aaff','#ff00ff'];// Draw maze\nmaze.forEach((row,z)=>{row.forEach((cell,x)=>{if(cell===1){// Wall\nctx.fillStyle='#8B4513';ctx.fillRect(x*cellSize,z*cellSize,cellSize,cellSize);}else if(cell===2){// Goal\nctx.fillStyle='#00FF00';ctx.fillRect(x*cellSize,z*cellSize,cellSize,cellSize);}else if(cell>=3&&cell<=7){// Puzzle gate\nconst puzzleId=cell-2;if(solvedPuzzlesRef.current.includes(puzzleId)){// Solved - show as path\nctx.fillStyle='#90EE90';}else{// Unsolved - show gate color\nctx.fillStyle=puzzleGateColors[puzzleId-1];}ctx.fillRect(x*cellSize,z*cellSize,cellSize,cellSize);}else if(cell===8){// Locked door\nif(collectedKeysRef.current.length>=5){// Unlocked - show as path\nctx.fillStyle='#90EE90';}else{// Locked - show as gold\nctx.fillStyle='#FFD700';}ctx.fillRect(x*cellSize,z*cellSize,cellSize,cellSize);}else{// Path\nctx.fillStyle='#90EE90';ctx.fillRect(x*cellSize,z*cellSize,cellSize,cellSize);}});});// Draw player using simple grid coordinates\nconst playerX=camera.position.x*cellSize;const playerZ=camera.position.z*cellSize;ctx.fillStyle='#FF0000';ctx.beginPath();ctx.arc(playerX,playerZ,cellSize/3,0,2*Math.PI);ctx.fill();// Draw player direction using camera rotation\nconst dirX=Math.sin(camera.rotation.y)*cellSize/2;const dirZ=Math.cos(camera.rotation.y)*cellSize/2;ctx.strokeStyle='#FF0000';ctx.lineWidth=2;ctx.beginPath();ctx.moveTo(playerX,playerZ);ctx.lineTo(playerX+dirX,playerZ+dirZ);ctx.stroke();};// Mouse sensitivity constant\nconst mouseSensitivity=0.002;// Professional mouse controls from 3D Maze Master\nconst applyRotation=function(rotationVector){let scaleFactor=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;const tmpEulerAngle=new THREE.Euler().setFromQuaternion(camera.quaternion,'YXZ');tmpEulerAngle.y+=rotationVector.y*scaleFactor;tmpEulerAngle.x+=rotationVector.x*scaleFactor;// Clamp pitch to prevent gimbal lock (±88.2°)\ntmpEulerAngle.x=Math.max(-Math.PI*0.49,Math.min(Math.PI*0.49,tmpEulerAngle.x));camera.quaternion.setFromEuler(tmpEulerAngle);camera.rotation.setFromQuaternion(camera.quaternion,camera.rotation.order);};const onMouseMove=e=>{if(!isLocked)return;const movementX=e.movementX||0;const movementY=e.movementY||0;const rotationVector=new THREE.Vector3(-movementY,-movementX,0);applyRotation(rotationVector,mouseSensitivity);};const onPointerLockChange=()=>{isLocked=document.pointerLockElement===renderer.domElement;if(isLocked){setShowInstructions(false);}};const onClick=()=>{if(!isLocked){renderer.domElement.requestPointerLock();}};document.addEventListener('mousemove',onMouseMove);document.addEventListener('pointerlockchange',onPointerLockChange);renderer.domElement.addEventListener('click',onClick);// Animation loop\nconst animate=()=>{animationId=requestAnimationFrame(animate);// Update countdown timer\nconst elapsed=(Date.now()-startTime)/1000;setElapsedTime(elapsed);const remaining=Math.max(0,countdownDuration-elapsed);setTimeRemaining(remaining);// Check if time ran out\nif(remaining<=0){setGameAborted(true);// Time ran out - game over\ncancelAnimationFrame(animationId);document.exitPointerLock();return;}// 3D Maze Master movement system\nlet moveVector=new THREE.Vector3(0,0,0);if(isLocked){// Update move state based on keyboard input (using ref to avoid re-renders)\nconst currentKeys=keysRef.current;player.moveState.forward=currentKeys.forward?1:0;player.moveState.back=currentKeys.backward?1:0;player.moveState.left=currentKeys.left?1:0;player.moveState.right=currentKeys.right?1:0;// Calculate movement vector in local space\nmoveVector=new THREE.Vector3(-player.moveState.left+player.moveState.right,0,// no vertical movement in maze\n-player.moveState.forward+player.moveState.back);// Normalize movement vector to prevent faster diagonal movement\nif(moveVector.length()>1){moveVector.normalize();}// Apply movement with proper delta time\nconst delta=1/60;// Assume 60fps for consistent movement\nconst moveMult=delta*movementSpeed;// Apply movement relative to camera orientation with collision detection\nif(moveVector.length()>0){// Get camera forward and right vectors (in world space)\nconst forward=new THREE.Vector3(0,0,-1).applyQuaternion(camera.quaternion);const right=new THREE.Vector3(1,0,0).applyQuaternion(camera.quaternion);// Calculate world-space movement\nconst worldMoveX=(right.x*moveVector.x+forward.x*-moveVector.z)*moveMult;const worldMoveZ=(right.z*moveVector.x+forward.z*-moveVector.z)*moveMult;// Use collision-safe movement\ntryMove(worldMoveX,worldMoveZ);// Check for puzzle triggers\ncheckPuzzleTrigger(camera.position.x,camera.position.z);}// Update player position to match camera\nplayer.position.copy(camera.position);// Update head bob for walking animation\nif(moveVector.length()>0.001){headBob.current.phase+=delta*8;// Walking speed\n}}// Update minimap\nupdateMinimap();// Check win condition\nif(checkWin()){setGameWon(true);cancelAnimationFrame(animationId);document.exitPointerLock();return;}// Professional first-person camera sync with head bob\nconst movementDistance=moveVector.length();const bobOffset=movementDistance>0.001?Math.sin(headBob.current.phase)*headBob.current.amplitude*0.5:0;// Maintain ground-level camera height with subtle head bob effect\nconst groundHeight=0.5;// Fixed ground-level camera height\ncamera.position.y=groundHeight+bobOffset;// Animate goals\nscene.traverse(obj=>{if(obj.userData.animate){obj.userData.animate();}});renderer.render(scene,camera);};animate();// Window resize\nconst onResize=()=>{camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight);};window.addEventListener('resize',onResize);// Store ref for cleanup\nconst currentMount=mountRef.current;// Cleanup\nreturn()=>{cancelAnimationFrame(animationId);document.removeEventListener('mousemove',onMouseMove);document.removeEventListener('pointerlockchange',onPointerLockChange);window.removeEventListener('resize',onResize);if(currentMount&&renderer.domElement.parentNode){currentMount.removeChild(renderer.domElement);}renderer.dispose();// Dispose of textures and materials\nstoneTexture.dispose();grassTexture.dispose();wallMaterial.dispose();floorMaterial.dispose();// Dispose of geometries\nfloorGeometry.dispose();// Dispose of wall blocks\nwallBlocks.traverse(child=>{if(child instanceof THREE.Mesh){child.geometry.dispose();if(Array.isArray(child.material)){child.material.forEach(material=>material.dispose());}else{child.material.dispose();}}});};},[isPlaying]);// Only restart when play state changes, not on key presses\nif(!isPlaying){return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100vw',height:'100vh',display:'flex',alignItems:'center',justifyContent:'center',background:'linear-gradient(135deg, #87CEEB 0%, #98FB98 100%)',fontFamily:\"'Trebuchet MS', sans-serif\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'50px',background:'rgba(255, 255, 255, 0.95)',borderRadius:'20px',border:'3px solid #4169E1',boxShadow:'0 0 60px rgba(65, 105, 225, 0.4), inset 0 0 40px rgba(255, 255, 255, 0.5)',maxWidth:'600px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'64px',margin:'0 0 10px 0',color:'#4169E1',textShadow:'0 0 30px #4169E1, 0 0 60px #1E90FF',letterSpacing:'4px',fontWeight:'bold'},children:\"MORNING MAZE\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'20px',color:'#2F4F4F',marginBottom:'40px',letterSpacing:'1px'},children:\"Navigate the sunny garden maze\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowRegistration(true);// Show registration form first\n},style:{padding:'20px 60px',fontSize:'24px',background:'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)',color:'#fff',border:'3px solid #4169E1',borderRadius:'12px',cursor:'pointer',fontFamily:\"'Trebuchet MS', sans-serif\",fontWeight:'bold',boxShadow:'0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)',transition:'all 0.3s ease',textTransform:'uppercase',letterSpacing:'2px'},onMouseEnter:e=>{const target=e.target;target.style.background='linear-gradient(135deg, #1E90FF 0%, #4169E1 100%)';target.style.transform='translateY(-4px) scale(1.05)';target.style.boxShadow='0 10px 30px rgba(65, 105, 225, 0.5), inset 0 2px 10px rgba(255, 255, 255, 0.3)';},onMouseLeave:e=>{const target=e.target;target.style.background='linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)';target.style.transform='translateY(0) scale(1)';target.style.boxShadow='0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)';},children:\"Start Game\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'40px',padding:'20px',background:'rgba(255, 255, 255, 0.7)',borderRadius:'10px',border:'2px solid #4169E1'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:'#2F4F4F',fontSize:'16px',margin:'8px 0'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#4169E1'},children:\"W A S D\"}),\" or\",' ',/*#__PURE__*/_jsx(\"strong\",{style:{color:'#4169E1'},children:\"Arrow Keys\"}),\" - Move\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#2F4F4F',fontSize:'16px',margin:'8px 0'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#4169E1'},children:\"Mouse\"}),\" - Look around\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#2F4F4F',fontSize:'16px',margin:'8px 0'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#4169E1'},children:\"Goal\"}),\" - Find the glowing green marker!\"]})]})]}),showRegistration&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0, 0, 0, 0.9)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,fontFamily:\"'Trebuchet MS', sans-serif\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'30px',background:'rgba(255, 255, 255, 0.98)',borderRadius:'20px',border:'4px solid #4169E1',boxShadow:'0 0 60px rgba(65, 105, 225, 0.5)',maxWidth:'700px',width:'90%'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#4169E1',marginBottom:'20px',fontSize:'28px'},children:\"\\uD83D\\uDCDD Register to Start\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',marginBottom:'20px'},children:\"Please fill out the form below, then click \\\"Start Game\\\"\"}),/*#__PURE__*/_jsx(\"iframe\",{src:\"https://docs.google.com/forms/d/e/1FAIpQLScpaiG3cHfoVUMSBklPvvMOJ2-9Gae-166hsIF6NRfpQXTz8g/viewform?embedded=true\",width:\"100%\",height:\"500\",style:{border:'none',borderRadius:'10px'},title:\"Registration Form\",children:\"Loading\\u2026\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',display:'flex',gap:'15px',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowRegistration(false);setIsPlaying(true);setGameWon(false);setGameAborted(false);setTimeRemaining(45*60);setElapsedTime(0);setSolvedPuzzles([]);setCollectedKeys([]);},style:{padding:'15px 40px',fontSize:'18px',background:'linear-gradient(135deg, #00cc44 0%, #00aa33 100%)',color:'#fff',border:'none',borderRadius:'10px',cursor:'pointer',fontWeight:'bold',boxShadow:'0 4px 15px rgba(0, 204, 68, 0.4)',transition:'all 0.3s ease',textTransform:'uppercase',letterSpacing:'2px'},onMouseEnter:e=>{const target=e.target;target.style.transform='translateY(-2px) scale(1.02)';},onMouseLeave:e=>{const target=e.target;target.style.transform='translateY(0) scale(1)';},children:\"\\uD83C\\uDFAE Start Game\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowRegistration(false),style:{padding:'15px 30px',fontSize:'18px',background:'#666',color:'#fff',border:'none',borderRadius:'10px',cursor:'pointer',fontWeight:'bold',transition:'all 0.3s ease'},onMouseEnter:e=>{const target=e.target;target.style.background='#888';},onMouseLeave:e=>{const target=e.target;target.style.background='#666';},children:\"Cancel\"})]})]})})]});}// Helper function to format time as MM:SS\nconst formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=Math.floor(seconds%60);return\"\".concat(mins.toString().padStart(2,'0'),\":\").concat(secs.toString().padStart(2,'0'));};// Helper to format elapsed time for victory\nconst formatElapsedTime=seconds=>{const mins=Math.floor(seconds/60);const secs=Math.floor(seconds%60);const ms=Math.floor(seconds%1*100);return\"\".concat(mins,\"m \").concat(secs,\"s \").concat(ms,\"ms\");};return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',width:'100vw',height:'100vh'},children:[/*#__PURE__*/_jsx(\"div\",{ref:mountRef,style:{width:'100%',height:'100%'}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'30px',left:'50%',transform:'translateX(-50%)',padding:'15px 40px',background:timeRemaining<300?'rgba(255, 50, 50, 0.95)':'rgba(255, 255, 255, 0.95)',color:timeRemaining<300?'#fff':'#4169E1',fontFamily:\"'Courier New', monospace\",fontSize:'36px',fontWeight:'bold',borderRadius:'15px',border:timeRemaining<300?'3px solid #ff3333':'3px solid #4169E1',boxShadow:timeRemaining<300?'0 4px 20px rgba(255, 50, 50, 0.5)':'0 4px 15px rgba(65, 105, 225, 0.3)',pointerEvents:'none',zIndex:100},children:[\"\\u23F1 \",formatTime(timeRemaining)]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',bottom:'30px',right:'30px',padding:'10px',background:'rgba(255, 255, 255, 0.9)',borderRadius:'10px',border:'3px solid #4169E1',boxShadow:'0 4px 15px rgba(65, 105, 225, 0.3)',pointerEvents:'none'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#4169E1',fontFamily:\"'Courier New', monospace\",fontSize:'12px',fontWeight:'bold',marginBottom:'5px',textAlign:'center'},children:\"MAP\"}),/*#__PURE__*/_jsx(\"canvas\",{ref:minimapCanvasRef,style:{border:'2px solid #4169E1',borderRadius:'5px',display:'block'}}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#2F4F4F',fontFamily:\"'Courier New', monospace\",fontSize:'10px',marginTop:'5px',textAlign:'center'},children:\"\\uD83D\\uDD34 You | \\uD83D\\uDFE2 Goal\"})]}),showInstructions&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',padding:'30px 50px',background:'rgba(255, 255, 255, 0.95)',color:'#4169E1',fontFamily:\"'Trebuchet MS', sans-serif\",fontSize:'24px',fontWeight:'bold',borderRadius:'15px',border:'3px solid #4169E1',boxShadow:'0 0 40px rgba(65, 105, 225, 0.4)',textAlign:'center'},children:\"\\uD83D\\uDDB1\\uFE0F CLICK TO START \\uD83D\\uDDB1\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'30px',right:'30px',padding:'15px 20px',background:'rgba(255, 255, 255, 0.9)',color:'#2F4F4F',fontFamily:\"'Courier New', monospace\",fontSize:'14px',borderRadius:'8px',border:'2px solid #4169E1',pointerEvents:'none',lineHeight:'1.8'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#4169E1'},children:\"W/\\u2191\"}),\" - Forward\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#4169E1'},children:\"S/\\u2193\"}),\" - Backward\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#4169E1'},children:\"A/\\u2190\"}),\" - Left\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#4169E1'},children:\"D/\\u2192\"}),\" - Right\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#4169E1'},children:\"Mouse\"}),\" - Look\"]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'5px',fontSize:'12px',color:'#666'},children:\"Click to lock cursor\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'30px',left:'30px',padding:'15px 20px',background:'rgba(255, 255, 255, 0.9)',color:'#2F4F4F',fontFamily:\"'Courier New', monospace\",fontSize:'14px',borderRadius:'8px',border:'2px solid #4169E1',pointerEvents:'none'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'5px',fontWeight:'bold',color:'#4169E1'},children:\"\\uD83D\\uDD11 KEYS COLLECTED\"}),/*#__PURE__*/_jsxs(\"div\",{children:[collectedKeys.length,\" / 5 Keys\"]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'8px',fontSize:'11px',lineHeight:'1.4'},children:collectedKeys.length>0?collectedKeys.map((key,i)=>/*#__PURE__*/_jsx(\"div\",{style:{color:'#00ff88'},children:key},i)):/*#__PURE__*/_jsx(\"div\",{style:{color:'#888'},children:\"Solve puzzles to earn keys!\"})}),collectedKeys.length>=5&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'8px',color:'#ffd700',fontWeight:'bold'},children:\"\\uD83D\\uDEAA Final doors unlocked!\"})]}),activePuzzle&&/*#__PURE__*/_jsx(PuzzleOverlay,{puzzle:activePuzzle,onSolve:keyName=>{setSolvedPuzzles(prev=>[...prev,activePuzzle.id]);setCollectedKeys(prev=>[...prev,keyName]);setActivePuzzle(null);},onClose:()=>setActivePuzzle(null)}),gameWon&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0, 0, 0, 0.85)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,fontFamily:\"'Trebuchet MS', sans-serif\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'50px 80px',background:'linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(240, 248, 255, 0.98) 100%)',borderRadius:'25px',border:'4px solid #4169E1',boxShadow:'0 0 100px rgba(65, 105, 225, 0.6), 0 0 200px rgba(0, 255, 136, 0.3)'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'64px',margin:'0 0 20px 0',color:'#4169E1',textShadow:'0 0 30px #4169E1',letterSpacing:'4px'},children:\"\\uD83C\\uDFC6 VICTORY! \\uD83C\\uDFC6\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'24px',color:'#2F4F4F',marginBottom:'15px'},children:\"You escaped the maze!\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'20px',color:'#666',marginBottom:'30px'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{margin:'10px 0'},children:[\"\\u23F1 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Time Taken:\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'42px',color:'#00cc44',fontWeight:'bold',margin:'10px 0'},children:formatElapsedTime(elapsedTime)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Open Google Form with prefilled time\nconst timeStr=formatTime(elapsedTime);window.open(\"https://docs.google.com/forms/d/e/1FAIpQLSetfH5GhS5QvTRcQDb0y3oBnHKverKQOdk4hvY958GFHZj68A/viewform?usp=pp_url&entry.2039261618=\".concat(timeStr),'_blank');},style:{padding:'18px 60px',fontSize:'22px',background:'linear-gradient(135deg, #00cc44 0%, #00aa33 100%)',color:'#fff',border:'none',borderRadius:'12px',cursor:'pointer',fontWeight:'bold',boxShadow:'0 6px 25px rgba(0, 204, 68, 0.4)',transition:'all 0.3s ease',textTransform:'uppercase',letterSpacing:'3px'},onMouseEnter:e=>{const target=e.target;target.style.transform='translateY(-4px) scale(1.05)';target.style.boxShadow='0 10px 35px rgba(0, 204, 68, 0.6)';},onMouseLeave:e=>{const target=e.target;target.style.transform='translateY(0) scale(1)';target.style.boxShadow='0 6px 25px rgba(0, 204, 68, 0.4)';},children:\"\\u2713 SUBMIT\"})]})}),gameAborted&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0, 0, 0, 0.9)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,fontFamily:\"'Trebuchet MS', sans-serif\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'50px 80px',background:'linear-gradient(135deg, rgba(255, 50, 50, 0.98) 0%, rgba(200, 30, 30, 0.98) 100%)',borderRadius:'25px',border:'4px solid #ff3333',boxShadow:'0 0 100px rgba(255, 50, 50, 0.6)'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'56px',margin:'0 0 20px 0',color:'#fff',textShadow:'0 0 30px rgba(0,0,0,0.5)',letterSpacing:'4px'},children:\"\\u23F0 TIME'S UP! \\u23F0\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'24px',color:'#ffcccc',marginBottom:'15px'},children:\"You ran out of time!\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',color:'#ffaaaa',marginBottom:'30px'},children:/*#__PURE__*/_jsxs(\"p\",{style:{margin:'10px 0'},children:[\"Total Time: \",/*#__PURE__*/_jsx(\"strong\",{children:\"45:00\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Open Google Form with prefilled 45:00\nwindow.open('https://docs.google.com/forms/d/e/1FAIpQLSedwaApArTj1A0xtfRmh-yy86ap12XF8l1ahMv0vmPxLPKVug/viewform?usp=pp_url&entry.2039261618=45:00','_blank');},style:{padding:'18px 60px',fontSize:'22px',background:'linear-gradient(135deg, #fff 0%, #eee 100%)',color:'#cc3333',border:'none',borderRadius:'12px',cursor:'pointer',fontWeight:'bold',boxShadow:'0 6px 25px rgba(255, 255, 255, 0.4)',transition:'all 0.3s ease',textTransform:'uppercase',letterSpacing:'3px'},onMouseEnter:e=>{const target=e.target;target.style.transform='translateY(-4px) scale(1.05)';target.style.boxShadow='0 10px 35px rgba(255, 255, 255, 0.6)';},onMouseLeave:e=>{const target=e.target;target.style.transform='translateY(0) scale(1)';target.style.boxShadow='0 6px 25px rgba(255, 255, 255, 0.4)';},children:\"\\u2713 SUBMIT\"})]})})]});}","map":{"version":3,"names":["useEffect","useRef","useState","THREE","useKeyboard","puzzles","PuzzleOverlay","jsx","_jsx","jsxs","_jsxs","MazeGame","mountRef","minimapCanvasRef","isPlaying","setIsPlaying","gameWon","setGameWon","gameAborted","setGameAborted","showRegistration","setShowRegistration","timeRemaining","setTimeRemaining","elapsedTime","setElapsedTime","showInstructions","setShowInstructions","activePuzzle","setActivePuzzle","solvedPuzzles","setSolvedPuzzles","collectedKeys","setCollectedKeys","solvedPuzzlesRef","collectedKeysRef","setActivePuzzleRef","p","keys","keysRef","headBob","phase","amplitude","current","animationId","scene","Scene","background","Color","fog","Fog","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","set","rotation","order","renderer","WebGLRenderer","antialias","setSize","shadowMap","enabled","type","PCFSoftShadowMap","appendChild","domElement","player","Vector3","Euler","velocity","moveState","up","down","left","right","forward","back","pitchUp","pitchDown","yawLeft","yawRight","height","radius","isLocked","movementSpeed","playerRadius","startTime","Date","now","countdownDuration","maze","ambientLight","AmbientLight","add","sunLight","DirectionalLight","castShadow","shadow","mapSize","width","near","far","top","bottom","fillLight","blockSize","wallHeight","createStoneTexture","canvas","document","createElement","ctx","getContext","fillStyle","fillRect","i","x","Math","random","y","size","brightness","concat","floor","texture","CanvasTexture","wrapS","RepeatWrapping","wrapT","magFilter","NearestFilter","minFilter","createGrassTexture","grassColors","length","repeat","stoneTexture","grassTexture","wallMaterial","MeshStandardMaterial","map","roughness","metalness","floorMaterial","createWallBlocks","wallGroup","Group","puzzleColors","forEach","row","z","cell","wallGeometry","BoxGeometry","wall","Mesh","receiveShadow","puzzleId","gateGeometry","gateMaterial","color","emissive","emissiveIntensity","transparent","opacity","gate","userData","isPuzzleGate","gridX","gridZ","gateLight","PointLight","doorGeometry","doorMaterial","door","isLockedDoor","doorLight","wallBlocks","goal","goalParticles","goalGroup","goalGeometry","OctahedronGeometry","goalMaterial","particleGeometry","BufferGeometry","particleCount","positions","Float32Array","setAttribute","BufferAttribute","particleMaterial","PointsMaterial","Points","goalLight","animateGoal","time","sin","geometry","attributes","array","needsUpdate","intensity","animate","floorGeometry","PlaneGeometry","PI","addDecorations","grassGeometry","ConeGeometry","grassMaterial","grass","isWall","cellValue","includes","checkPuzzleTrigger","checkRadius","dz","dx","checkX","checkZ","gateCenterX","gateCenterZ","distance","sqrt","puzzle","find","id","exitPointerLock","checkCollision","tryMove","deltaX","deltaZ","currentX","currentZ","newX","newZ","checkWin","updateMinimap","cellSize","puzzleGateColors","playerX","playerZ","beginPath","arc","fill","dirX","dirZ","cos","strokeStyle","lineWidth","moveTo","lineTo","stroke","mouseSensitivity","applyRotation","rotationVector","scaleFactor","arguments","undefined","tmpEulerAngle","setFromQuaternion","quaternion","max","min","setFromEuler","onMouseMove","e","movementX","movementY","onPointerLockChange","pointerLockElement","onClick","requestPointerLock","addEventListener","requestAnimationFrame","elapsed","remaining","cancelAnimationFrame","moveVector","currentKeys","backward","normalize","delta","moveMult","applyQuaternion","worldMoveX","worldMoveZ","copy","movementDistance","bobOffset","groundHeight","traverse","obj","render","onResize","aspect","updateProjectionMatrix","currentMount","removeEventListener","parentNode","removeChild","dispose","child","Array","isArray","material","style","display","alignItems","justifyContent","fontFamily","children","textAlign","padding","borderRadius","border","boxShadow","maxWidth","fontSize","margin","textShadow","letterSpacing","fontWeight","marginBottom","cursor","transition","textTransform","onMouseEnter","target","transform","onMouseLeave","marginTop","zIndex","src","title","gap","formatTime","seconds","mins","secs","toString","padStart","formatElapsedTime","ms","ref","pointerEvents","lineHeight","key","onSolve","keyName","prev","onClose","timeStr","open"],"sources":["C:/Users/subha/Downloads/ma/src/components/MazeGame.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport * as THREE from 'three';\r\nimport { useKeyboard } from '../hooks/useKeyboard';\r\nimport { puzzles, Puzzle } from '../data/puzzles';\r\nimport PuzzleOverlay from './PuzzleOverlay';\r\n\r\nexport default function MazeGame() {\r\n  const mountRef = useRef<HTMLDivElement>(null);\r\n  const minimapCanvasRef = useRef<HTMLCanvasElement>(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [gameWon, setGameWon] = useState(false);\r\n  const [gameAborted, setGameAborted] = useState(false); // Time ran out\r\n  const [showRegistration, setShowRegistration] = useState(false); // Registration form\r\n  const [timeRemaining, setTimeRemaining] = useState(45 * 60); // 45 minutes countdown\r\n  const [elapsedTime, setElapsedTime] = useState(0); // Time taken to complete\r\n  const [showInstructions, setShowInstructions] = useState(true);\r\n  const [activePuzzle, setActivePuzzle] = useState<Puzzle | null>(null);\r\n  const [solvedPuzzles, setSolvedPuzzles] = useState<number[]>([]);\r\n  const [collectedKeys, setCollectedKeys] = useState<string[]>([]);\r\n  const solvedPuzzlesRef = useRef<number[]>([]);\r\n  const collectedKeysRef = useRef<string[]>([]);\r\n  const setActivePuzzleRef = useRef<(p: Puzzle | null) => void>((p) => setActivePuzzle(p));\r\n\r\n  // Professional movement hooks\r\n  const keys = useKeyboard();\r\n  const keysRef = useRef(keys);\r\n  const headBob = useRef({ phase: 0, amplitude: 0.02 });\r\n\r\n  // Keep keysRef updated with latest keys\r\n  useEffect(() => {\r\n    keysRef.current = keys;\r\n  }, [keys]);\r\n\r\n  // Keep puzzle refs updated\r\n  useEffect(() => {\r\n    solvedPuzzlesRef.current = solvedPuzzles;\r\n  }, [solvedPuzzles]);\r\n\r\n  // Keep collected keys ref updated\r\n  useEffect(() => {\r\n    collectedKeysRef.current = collectedKeys;\r\n  }, [collectedKeys]);\r\n\r\n  useEffect(() => {\r\n    if (!isPlaying) return;\r\n\r\n    let animationId: number;\r\n    const scene = new THREE.Scene();\r\n    // Morning sky color\r\n    scene.background = new THREE.Color(0x87CEEB);\r\n    scene.fog = new THREE.Fog(0x87CEEB, 10, 50);\r\n\r\n    // Camera - First Person Setup\r\n    const camera = new THREE.PerspectiveCamera(\r\n      75,\r\n      window.innerWidth / window.innerHeight,\r\n      0.1,\r\n      100\r\n    );\r\n\r\n    // Set initial camera position and rotation for first-person view\r\n    camera.position.set(1.5, 0.5, 1.5); // Start at ground level\r\n    camera.rotation.order = 'YXZ'; // Proper rotation order for FPS camera\r\n    camera.rotation.set(0, 0, 0); // Start looking forward (no pitch/yaw)\r\n\r\n    // Renderer\r\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.shadowMap.enabled = true;\r\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n\r\n    if (mountRef.current) {\r\n      mountRef.current.appendChild(renderer.domElement);\r\n    }\r\n\r\n    // Professional player state - based on 3D Maze Master\r\n    const player = {\r\n      position: new THREE.Vector3(1.5, 0.2, 1.5),\r\n      rotation: new THREE.Euler(0, 0, 0, 'YXZ'),\r\n      velocity: new THREE.Vector3(0, 0, 0),\r\n      moveState: {\r\n        up: 0, down: 0, left: 0, right: 0,\r\n        forward: 0, back: 0,\r\n        pitchUp: 0, pitchDown: 0,\r\n        yawLeft: 0, yawRight: 0\r\n      },\r\n      height: 0.3,\r\n      radius: 0.4,\r\n    };\r\n\r\n    // Professional movement constants\r\n    let isLocked = false;\r\n    const movementSpeed = 2.0; // units/second\r\n    const playerRadius = 0.3; // collision radius\r\n    const startTime = Date.now();\r\n    const countdownDuration = 45 * 60; // 45 minutes in seconds\r\n\r\n    // Complex Maze with Dead Ends, Loops, Puzzle Gates and Locked Final Doors (41x41)\r\n    // 0 = path, 1 = wall, 2 = goal, 3-7 = puzzle gates (puzzles 1-5), 8 = locked door (needs all keys)\r\n    const maze = [\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\r\n      [1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1],\r\n      [1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 4, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1],\r\n      [1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 5, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 6, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 7, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 8, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 2, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    ];\r\n\r\n    // Morning lighting\r\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);\r\n    scene.add(ambientLight);\r\n\r\n    // Sun light\r\n    const sunLight = new THREE.DirectionalLight(0xffffff, 1.2);\r\n    sunLight.position.set(10, 20, 10);\r\n    sunLight.castShadow = true;\r\n    sunLight.shadow.mapSize.width = 2048;\r\n    sunLight.shadow.mapSize.height = 2048;\r\n    sunLight.shadow.camera.near = 0.5;\r\n    sunLight.shadow.camera.far = 50;\r\n    sunLight.shadow.camera.left = -20;\r\n    sunLight.shadow.camera.right = 20;\r\n    sunLight.shadow.camera.top = 20;\r\n    sunLight.shadow.camera.bottom = -20;\r\n    scene.add(sunLight);\r\n\r\n    // Soft fill light\r\n    const fillLight = new THREE.DirectionalLight(0x87CEEB, 0.4);\r\n    fillLight.position.set(-5, 10, -5);\r\n    scene.add(fillLight);\r\n\r\n    // Perfect 3D Block System - Minecraft Style\r\n    const blockSize = 1;\r\n    const wallHeight = 2.5;\r\n\r\n    // Create perfect stone brick texture\r\n    const createStoneTexture = () => {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = 64;\r\n      canvas.height = 64;\r\n      const ctx = canvas.getContext('2d')!;\r\n\r\n      // Stone base color\r\n      ctx.fillStyle = '#696969';\r\n      ctx.fillRect(0, 0, 64, 64);\r\n\r\n      // Add stone texture details\r\n      for (let i = 0; i < 100; i++) {\r\n        const x = Math.random() * 64;\r\n        const y = Math.random() * 64;\r\n        const size = Math.random() * 2 + 1;\r\n        const brightness = Math.random() * 0.3 + 0.7;\r\n\r\n        ctx.fillStyle = `rgb(${Math.floor(105 * brightness)}, ${Math.floor(105 * brightness)}, ${Math.floor(105 * brightness)})`;\r\n        ctx.fillRect(x, y, size, size);\r\n      }\r\n\r\n      // Add some darker spots\r\n      for (let i = 0; i < 50; i++) {\r\n        const x = Math.random() * 64;\r\n        const y = Math.random() * 64;\r\n        const size = Math.random() * 3 + 1;\r\n\r\n        ctx.fillStyle = '#555555';\r\n        ctx.fillRect(x, y, size, size);\r\n      }\r\n\r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      texture.wrapS = THREE.RepeatWrapping;\r\n      texture.wrapT = THREE.RepeatWrapping;\r\n      texture.magFilter = THREE.NearestFilter;\r\n      texture.minFilter = THREE.NearestFilter;\r\n      return texture;\r\n    };\r\n\r\n    // Create perfect grass texture\r\n    const createGrassTexture = () => {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = 64;\r\n      canvas.height = 64;\r\n      const ctx = canvas.getContext('2d')!;\r\n\r\n      // Grass base color\r\n      ctx.fillStyle = '#228B22';\r\n      ctx.fillRect(0, 0, 64, 64);\r\n\r\n      // Add grass blade details\r\n      for (let i = 0; i < 150; i++) {\r\n        const x = Math.random() * 64;\r\n        const y = Math.random() * 64;\r\n        const size = Math.random() * 2 + 1;\r\n\r\n        const grassColors = ['#32CD32', '#228B22', '#006400', '#90EE90'];\r\n        ctx.fillStyle = grassColors[Math.floor(Math.random() * grassColors.length)];\r\n        ctx.fillRect(x, y, size, size);\r\n      }\r\n\r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      texture.wrapS = THREE.RepeatWrapping;\r\n      texture.wrapT = THREE.RepeatWrapping;\r\n      texture.repeat.set(8, 8);\r\n      texture.magFilter = THREE.NearestFilter;\r\n      texture.minFilter = THREE.NearestFilter;\r\n      return texture;\r\n    };\r\n\r\n    // Create materials\r\n    const stoneTexture = createStoneTexture();\r\n    const grassTexture = createGrassTexture();\r\n\r\n    const wallMaterial = new THREE.MeshStandardMaterial({\r\n      map: stoneTexture,\r\n      roughness: 0.9,\r\n      metalness: 0.0,\r\n    });\r\n\r\n    const floorMaterial = new THREE.MeshStandardMaterial({\r\n      map: grassTexture,\r\n      roughness: 0.8,\r\n      metalness: 0.0,\r\n    });\r\n\r\n    // Create individual wall blocks for perfect placement\r\n    const createWallBlocks = () => {\r\n      const wallGroup = new THREE.Group();\r\n\r\n      // Puzzle gate colors (different color for each puzzle)\r\n      const puzzleColors = [\r\n        0xff4444, // Puzzle 1 - Red\r\n        0xff8800, // Puzzle 2 - Orange\r\n        0xffff00, // Puzzle 3 - Yellow\r\n        0x00aaff, // Puzzle 4 - Blue\r\n        0xff00ff, // Puzzle 5 - Purple\r\n      ];\r\n\r\n      maze.forEach((row, z) => {\r\n        row.forEach((cell, x) => {\r\n          if (cell === 1) {\r\n            // Create individual wall block\r\n            const wallGeometry = new THREE.BoxGeometry(blockSize, wallHeight, blockSize);\r\n            const wall = new THREE.Mesh(wallGeometry, wallMaterial);\r\n\r\n            // Position centered in grid cell\r\n            wall.position.set(x + 0.5, wallHeight / 2, z + 0.5);\r\n            wall.castShadow = true;\r\n            wall.receiveShadow = true;\r\n\r\n            wallGroup.add(wall);\r\n          } else if (cell >= 3 && cell <= 7) {\r\n            // Puzzle gate - glowing door\r\n            const puzzleId = cell - 2; // 3->1, 4->2, 5->3, 6->4, 7->5\r\n            const gateGeometry = new THREE.BoxGeometry(blockSize, wallHeight, blockSize);\r\n            const gateMaterial = new THREE.MeshStandardMaterial({\r\n              color: puzzleColors[puzzleId - 1],\r\n              emissive: puzzleColors[puzzleId - 1],\r\n              emissiveIntensity: 0.5,\r\n              transparent: true,\r\n              opacity: 0.85,\r\n              metalness: 0.3,\r\n              roughness: 0.4,\r\n            });\r\n            const gate = new THREE.Mesh(gateGeometry, gateMaterial);\r\n            gate.position.set(x + 0.5, wallHeight / 2, z + 0.5);\r\n            gate.castShadow = true;\r\n            gate.receiveShadow = true;\r\n            gate.userData = { isPuzzleGate: true, puzzleId: puzzleId, gridX: x, gridZ: z };\r\n            wallGroup.add(gate);\r\n\r\n            // Add light for puzzle gate\r\n            const gateLight = new THREE.PointLight(puzzleColors[puzzleId - 1], 1, 5);\r\n            gateLight.position.set(x + 0.5, 1.5, z + 0.5);\r\n            wallGroup.add(gateLight);\r\n          } else if (cell === 8) {\r\n            // Locked final door - requires all 5 keys\r\n            const doorGeometry = new THREE.BoxGeometry(blockSize, wallHeight, blockSize);\r\n            const doorMaterial = new THREE.MeshStandardMaterial({\r\n              color: 0xffd700, // Gold\r\n              emissive: 0xffd700,\r\n              emissiveIntensity: 0.7,\r\n              transparent: true,\r\n              opacity: 0.9,\r\n              metalness: 0.6,\r\n              roughness: 0.2,\r\n            });\r\n            const door = new THREE.Mesh(doorGeometry, doorMaterial);\r\n            door.position.set(x + 0.5, wallHeight / 2, z + 0.5);\r\n            door.castShadow = true;\r\n            door.receiveShadow = true;\r\n            door.userData = { isLockedDoor: true, gridX: x, gridZ: z };\r\n            wallGroup.add(door);\r\n\r\n            // Add golden light for locked door\r\n            const doorLight = new THREE.PointLight(0xffd700, 2, 6);\r\n            doorLight.position.set(x + 0.5, 1.5, z + 0.5);\r\n            wallGroup.add(doorLight);\r\n          }\r\n        });\r\n      });\r\n\r\n      return wallGroup;\r\n    };\r\n\r\n    // Add perfect wall blocks to scene\r\n    const wallBlocks = createWallBlocks();\r\n    scene.add(wallBlocks);\r\n\r\n    // Create goal with advanced effects\r\n    let goal: THREE.Mesh;\r\n    let goalParticles: THREE.Points;\r\n\r\n    maze.forEach((row, z) => {\r\n      row.forEach((cell, x) => {\r\n        if (cell === 2) {\r\n          // Advanced goal design\r\n          const goalGroup = new THREE.Group();\r\n\r\n          // Main goal crystal\r\n          const goalGeometry = new THREE.OctahedronGeometry(0.4, 2);\r\n          const goalMaterial = new THREE.MeshStandardMaterial({\r\n            color: 0x00ff44,\r\n            emissive: 0x00ff44,\r\n            emissiveIntensity: 0.6,\r\n            transparent: true,\r\n            opacity: 0.8,\r\n            roughness: 0.1,\r\n            metalness: 0.3,\r\n          });\r\n          goal = new THREE.Mesh(goalGeometry, goalMaterial);\r\n          goal.position.set(0, 1, 0);\r\n          goalGroup.add(goal);\r\n\r\n          // Particle system for goal\r\n          const particleGeometry = new THREE.BufferGeometry();\r\n          const particleCount = 50;\r\n          const positions = new Float32Array(particleCount * 3);\r\n\r\n          for (let i = 0; i < particleCount * 3; i += 3) {\r\n            positions[i] = (Math.random() - 0.5) * 2;\r\n            positions[i + 1] = Math.random() * 2;\r\n            positions[i + 2] = (Math.random() - 0.5) * 2;\r\n          }\r\n\r\n          particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\r\n\r\n          const particleMaterial = new THREE.PointsMaterial({\r\n            color: 0x00ff44,\r\n            size: 0.05,\r\n            transparent: true,\r\n            opacity: 0.8,\r\n          });\r\n\r\n          goalParticles = new THREE.Points(particleGeometry, particleMaterial);\r\n          goalGroup.add(goalParticles);\r\n\r\n          // Goal light with better settings\r\n          const goalLight = new THREE.PointLight(0x00ff44, 2, 10);\r\n          goalLight.position.set(0, 1, 0);\r\n          goalLight.castShadow = true;\r\n          goalLight.shadow.mapSize.width = 512;\r\n          goalLight.shadow.mapSize.height = 512;\r\n          goalGroup.add(goalLight);\r\n\r\n          // Position goal group centered in cell\r\n          goalGroup.position.set(x + 0.5, 0, z + 0.5);\r\n          scene.add(goalGroup);\r\n\r\n          // Enhanced goal animation\r\n          const animateGoal = () => {\r\n            const time = Date.now() * 0.001;\r\n\r\n            // Rotate crystal\r\n            goal.rotation.y += 0.02;\r\n            goal.rotation.x = Math.sin(time) * 0.1;\r\n\r\n            // Float up and down\r\n            goal.position.y = 1 + Math.sin(time * 2) * 0.2;\r\n\r\n            // Animate particles\r\n            const positions = goalParticles.geometry.attributes.position.array as Float32Array;\r\n            for (let i = 1; i < positions.length; i += 3) {\r\n              positions[i] += 0.01;\r\n              if (positions[i] > 3) {\r\n                positions[i] = 0;\r\n              }\r\n            }\r\n            goalParticles.geometry.attributes.position.needsUpdate = true;\r\n\r\n            // Pulse light intensity\r\n            goalLight.intensity = 2 + Math.sin(time * 3) * 0.5;\r\n          };\r\n          (goal as any).userData.animate = animateGoal;\r\n        }\r\n      });\r\n    });\r\n\r\n    // Floor covering entire maze area\r\n    const floorGeometry = new THREE.PlaneGeometry(maze[0].length, maze.length);\r\n    const floor = new THREE.Mesh(floorGeometry, floorMaterial);\r\n    floor.rotation.x = -Math.PI / 2;\r\n    floor.position.set(maze[0].length / 2, 0, maze.length / 2); // Center floor on maze grid\r\n    floor.receiveShadow = true;\r\n    scene.add(floor);\r\n\r\n    // Add some decorative elements\r\n    const addDecorations = () => {\r\n      maze.forEach((row, z) => {\r\n        row.forEach((cell, x) => {\r\n          if (cell === 0 && Math.random() > 0.95) {\r\n            // Add small grass tufts\r\n            const grassGeometry = new THREE.ConeGeometry(0.05, 0.2, 6);\r\n            const grassMaterial = new THREE.MeshStandardMaterial({\r\n              color: 0x228B22,\r\n              roughness: 0.9,\r\n            });\r\n            const grass = new THREE.Mesh(grassGeometry, grassMaterial);\r\n            grass.position.set(\r\n              x + 0.5 + (Math.random() - 0.5) * 0.8,\r\n              0.1,\r\n              z + 0.5 + (Math.random() - 0.5) * 0.8\r\n            );\r\n            grass.castShadow = true;\r\n            scene.add(grass);\r\n          }\r\n        });\r\n      });\r\n    };\r\n\r\n    addDecorations();\r\n\r\n    // Simple and reliable grid-based collision detection\r\n    const isWall = (x: number, z: number): boolean => {\r\n      const gridX = Math.floor(x);\r\n      const gridZ = Math.floor(z);\r\n\r\n      // Out of bounds = wall\r\n      if (gridX < 0 || gridX >= maze[0].length || gridZ < 0 || gridZ >= maze.length) {\r\n        return true;\r\n      }\r\n\r\n      const cellValue = maze[gridZ][gridX];\r\n\r\n      // Regular wall\r\n      if (cellValue === 1) return true;\r\n\r\n      // Puzzle gate (3-7) - check if solved\r\n      if (cellValue >= 3 && cellValue <= 7) {\r\n        const puzzleId = cellValue - 2;\r\n        return !solvedPuzzlesRef.current.includes(puzzleId);\r\n      }\r\n\r\n      // Locked door (8) - requires all 5 keys\r\n      if (cellValue === 8) {\r\n        return collectedKeysRef.current.length < 5;\r\n      }\r\n\r\n      return false;\r\n    };\r\n\r\n    // Check if player is near a puzzle gate\r\n    const checkPuzzleTrigger = (x: number, z: number) => {\r\n      const gridX = Math.floor(x);\r\n      const gridZ = Math.floor(z);\r\n\r\n      // Check surrounding cells for puzzle gates\r\n      const checkRadius = 1;\r\n      for (let dz = -checkRadius; dz <= checkRadius; dz++) {\r\n        for (let dx = -checkRadius; dx <= checkRadius; dx++) {\r\n          const checkX = gridX + dx;\r\n          const checkZ = gridZ + dz;\r\n\r\n          if (checkX >= 0 && checkX < maze[0].length && checkZ >= 0 && checkZ < maze.length) {\r\n            const cellValue = maze[checkZ][checkX];\r\n            if (cellValue >= 3 && cellValue <= 7) {\r\n              const puzzleId = cellValue - 2;\r\n              if (!solvedPuzzlesRef.current.includes(puzzleId)) {\r\n                // Calculate distance to gate center\r\n                const gateCenterX = checkX + 0.5;\r\n                const gateCenterZ = checkZ + 0.5;\r\n                const distance = Math.sqrt((x - gateCenterX) ** 2 + (z - gateCenterZ) ** 2);\r\n\r\n                if (distance < 1.5) {\r\n                  // Trigger puzzle\r\n                  const puzzle = puzzles.find(p => p.id === puzzleId);\r\n                  if (puzzle) {\r\n                    setActivePuzzleRef.current(puzzle);\r\n                    document.exitPointerLock();\r\n                  }\r\n                  return;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    // Check collision at position with player radius\r\n    const checkCollision = (x: number, z: number): boolean => {\r\n      // Check 4 corners of player bounding box\r\n      return (\r\n        isWall(x - playerRadius, z - playerRadius) ||\r\n        isWall(x + playerRadius, z - playerRadius) ||\r\n        isWall(x - playerRadius, z + playerRadius) ||\r\n        isWall(x + playerRadius, z + playerRadius)\r\n      );\r\n    };\r\n\r\n    // Try to move and handle collision with wall sliding\r\n    const tryMove = (deltaX: number, deltaZ: number) => {\r\n      const currentX = camera.position.x;\r\n      const currentZ = camera.position.z;\r\n\r\n      // Try full movement first\r\n      const newX = currentX + deltaX;\r\n      const newZ = currentZ + deltaZ;\r\n\r\n      if (!checkCollision(newX, newZ)) {\r\n        camera.position.x = newX;\r\n        camera.position.z = newZ;\r\n        return;\r\n      }\r\n\r\n      // Try X movement only (wall sliding)\r\n      if (!checkCollision(newX, currentZ)) {\r\n        camera.position.x = newX;\r\n      }\r\n\r\n      // Try Z movement only (wall sliding)\r\n      if (!checkCollision(camera.position.x, newZ)) {\r\n        camera.position.z = newZ;\r\n      }\r\n    };\r\n\r\n    // Check win condition using simple grid coordinates\r\n    const checkWin = () => {\r\n      const gridX = Math.floor(camera.position.x);\r\n      const gridZ = Math.floor(camera.position.z);\r\n\r\n      // Check if we're at the goal position (maze is 41x41)\r\n      if (gridX >= 0 && gridX < maze[0].length && gridZ >= 0 && gridZ < maze.length) {\r\n        return maze[gridZ][gridX] === 2;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    // Minimap functionality\r\n    const updateMinimap = () => {\r\n      const canvas = minimapCanvasRef.current;\r\n      if (!canvas) return;\r\n\r\n      const ctx = canvas.getContext('2d');\r\n      if (!ctx) return;\r\n\r\n      const cellSize = 8;\r\n      canvas.width = maze[0].length * cellSize;\r\n      canvas.height = maze.length * cellSize;\r\n\r\n      // Clear canvas\r\n      ctx.fillStyle = '#87CEEB';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n      // Puzzle gate colors for minimap\r\n      const puzzleGateColors = ['#ff4444', '#ff8800', '#ffff00', '#00aaff', '#ff00ff'];\r\n\r\n      // Draw maze\r\n      maze.forEach((row, z) => {\r\n        row.forEach((cell, x) => {\r\n          if (cell === 1) {\r\n            // Wall\r\n            ctx.fillStyle = '#8B4513';\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          } else if (cell === 2) {\r\n            // Goal\r\n            ctx.fillStyle = '#00FF00';\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          } else if (cell >= 3 && cell <= 7) {\r\n            // Puzzle gate\r\n            const puzzleId = cell - 2;\r\n            if (solvedPuzzlesRef.current.includes(puzzleId)) {\r\n              // Solved - show as path\r\n              ctx.fillStyle = '#90EE90';\r\n            } else {\r\n              // Unsolved - show gate color\r\n              ctx.fillStyle = puzzleGateColors[puzzleId - 1];\r\n            }\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          } else if (cell === 8) {\r\n            // Locked door\r\n            if (collectedKeysRef.current.length >= 5) {\r\n              // Unlocked - show as path\r\n              ctx.fillStyle = '#90EE90';\r\n            } else {\r\n              // Locked - show as gold\r\n              ctx.fillStyle = '#FFD700';\r\n            }\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          } else {\r\n            // Path\r\n            ctx.fillStyle = '#90EE90';\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          }\r\n        });\r\n      });\r\n\r\n      // Draw player using simple grid coordinates\r\n      const playerX = camera.position.x * cellSize;\r\n      const playerZ = camera.position.z * cellSize;\r\n\r\n      ctx.fillStyle = '#FF0000';\r\n      ctx.beginPath();\r\n      ctx.arc(playerX, playerZ, cellSize / 3, 0, 2 * Math.PI);\r\n      ctx.fill();\r\n\r\n      // Draw player direction using camera rotation\r\n      const dirX = Math.sin(camera.rotation.y) * cellSize / 2;\r\n      const dirZ = Math.cos(camera.rotation.y) * cellSize / 2;\r\n\r\n      ctx.strokeStyle = '#FF0000';\r\n      ctx.lineWidth = 2;\r\n      ctx.beginPath();\r\n      ctx.moveTo(playerX, playerZ);\r\n      ctx.lineTo(playerX + dirX, playerZ + dirZ);\r\n      ctx.stroke();\r\n    };\r\n\r\n    // Mouse sensitivity constant\r\n    const mouseSensitivity = 0.002;\r\n\r\n    // Professional mouse controls from 3D Maze Master\r\n    const applyRotation = (rotationVector: THREE.Vector3, scaleFactor: number = 1) => {\r\n      const tmpEulerAngle = new THREE.Euler().setFromQuaternion(camera.quaternion, 'YXZ');\r\n\r\n      tmpEulerAngle.y += rotationVector.y * scaleFactor;\r\n      tmpEulerAngle.x += rotationVector.x * scaleFactor;\r\n\r\n      // Clamp pitch to prevent gimbal lock (±88.2°)\r\n      tmpEulerAngle.x = Math.max(-Math.PI * 0.49, Math.min(Math.PI * 0.49, tmpEulerAngle.x));\r\n\r\n      camera.quaternion.setFromEuler(tmpEulerAngle);\r\n      camera.rotation.setFromQuaternion(camera.quaternion, camera.rotation.order);\r\n    };\r\n\r\n    const onMouseMove = (e: MouseEvent) => {\r\n      if (!isLocked) return;\r\n\r\n      const movementX = e.movementX || 0;\r\n      const movementY = e.movementY || 0;\r\n\r\n      const rotationVector = new THREE.Vector3(-movementY, -movementX, 0);\r\n      applyRotation(rotationVector, mouseSensitivity);\r\n    };\r\n\r\n    const onPointerLockChange = () => {\r\n      isLocked = document.pointerLockElement === renderer.domElement;\r\n      if (isLocked) {\r\n        setShowInstructions(false);\r\n      }\r\n    };\r\n\r\n    const onClick = () => {\r\n      if (!isLocked) {\r\n        renderer.domElement.requestPointerLock();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousemove', onMouseMove);\r\n    document.addEventListener('pointerlockchange', onPointerLockChange);\r\n    renderer.domElement.addEventListener('click', onClick);\r\n\r\n    // Animation loop\r\n    const animate = () => {\r\n      animationId = requestAnimationFrame(animate);\r\n\r\n      // Update countdown timer\r\n      const elapsed = (Date.now() - startTime) / 1000;\r\n      setElapsedTime(elapsed);\r\n      const remaining = Math.max(0, countdownDuration - elapsed);\r\n      setTimeRemaining(remaining);\r\n\r\n      // Check if time ran out\r\n      if (remaining <= 0) {\r\n        setGameAborted(true); // Time ran out - game over\r\n        cancelAnimationFrame(animationId);\r\n        document.exitPointerLock();\r\n        return;\r\n      }\r\n\r\n      // 3D Maze Master movement system\r\n      let moveVector = new THREE.Vector3(0, 0, 0);\r\n\r\n      if (isLocked) {\r\n        // Update move state based on keyboard input (using ref to avoid re-renders)\r\n        const currentKeys = keysRef.current;\r\n        player.moveState.forward = currentKeys.forward ? 1 : 0;\r\n        player.moveState.back = currentKeys.backward ? 1 : 0;\r\n        player.moveState.left = currentKeys.left ? 1 : 0;\r\n        player.moveState.right = currentKeys.right ? 1 : 0;\r\n\r\n        // Calculate movement vector in local space\r\n        moveVector = new THREE.Vector3(\r\n          -player.moveState.left + player.moveState.right,\r\n          0, // no vertical movement in maze\r\n          -(player.moveState.forward) + player.moveState.back\r\n        );\r\n\r\n        // Normalize movement vector to prevent faster diagonal movement\r\n        if (moveVector.length() > 1) {\r\n          moveVector.normalize();\r\n        }\r\n\r\n        // Apply movement with proper delta time\r\n        const delta = 1 / 60; // Assume 60fps for consistent movement\r\n        const moveMult = delta * movementSpeed;\r\n\r\n        // Apply movement relative to camera orientation with collision detection\r\n        if (moveVector.length() > 0) {\r\n          // Get camera forward and right vectors (in world space)\r\n          const forward = new THREE.Vector3(0, 0, -1).applyQuaternion(camera.quaternion);\r\n          const right = new THREE.Vector3(1, 0, 0).applyQuaternion(camera.quaternion);\r\n\r\n          // Calculate world-space movement\r\n          const worldMoveX = (right.x * moveVector.x + forward.x * -moveVector.z) * moveMult;\r\n          const worldMoveZ = (right.z * moveVector.x + forward.z * -moveVector.z) * moveMult;\r\n\r\n          // Use collision-safe movement\r\n          tryMove(worldMoveX, worldMoveZ);\r\n\r\n          // Check for puzzle triggers\r\n          checkPuzzleTrigger(camera.position.x, camera.position.z);\r\n        }\r\n\r\n        // Update player position to match camera\r\n        player.position.copy(camera.position);\r\n\r\n        // Update head bob for walking animation\r\n        if (moveVector.length() > 0.001) {\r\n          headBob.current.phase += delta * 8; // Walking speed\r\n        }\r\n      }\r\n\r\n      // Update minimap\r\n      updateMinimap();\r\n\r\n      // Check win condition\r\n      if (checkWin()) {\r\n        setGameWon(true);\r\n        cancelAnimationFrame(animationId);\r\n        document.exitPointerLock();\r\n        return;\r\n      }\r\n\r\n      // Professional first-person camera sync with head bob\r\n      const movementDistance = moveVector.length();\r\n      const bobOffset = movementDistance > 0.001 ? Math.sin(headBob.current.phase) * headBob.current.amplitude * 0.5 : 0;\r\n\r\n      // Maintain ground-level camera height with subtle head bob effect\r\n      const groundHeight = 0.5; // Fixed ground-level camera height\r\n      camera.position.y = groundHeight + bobOffset;\r\n\r\n      // Animate goals\r\n      scene.traverse((obj) => {\r\n        if ((obj as any).userData.animate) {\r\n          (obj as any).userData.animate();\r\n        }\r\n      });\r\n\r\n      renderer.render(scene, camera);\r\n    };\r\n\r\n    animate();\r\n\r\n    // Window resize\r\n    const onResize = () => {\r\n      camera.aspect = window.innerWidth / window.innerHeight;\r\n      camera.updateProjectionMatrix();\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n    };\r\n\r\n    window.addEventListener('resize', onResize);\r\n\r\n    // Store ref for cleanup\r\n    const currentMount = mountRef.current;\r\n\r\n    // Cleanup\r\n    return () => {\r\n      cancelAnimationFrame(animationId);\r\n      document.removeEventListener('mousemove', onMouseMove);\r\n      document.removeEventListener('pointerlockchange', onPointerLockChange);\r\n      window.removeEventListener('resize', onResize);\r\n\r\n      if (currentMount && renderer.domElement.parentNode) {\r\n        currentMount.removeChild(renderer.domElement);\r\n      }\r\n\r\n      renderer.dispose();\r\n\r\n      // Dispose of textures and materials\r\n      stoneTexture.dispose();\r\n      grassTexture.dispose();\r\n      wallMaterial.dispose();\r\n      floorMaterial.dispose();\r\n\r\n      // Dispose of geometries\r\n      floorGeometry.dispose();\r\n\r\n      // Dispose of wall blocks\r\n      wallBlocks.traverse((child) => {\r\n        if (child instanceof THREE.Mesh) {\r\n          child.geometry.dispose();\r\n          if (Array.isArray(child.material)) {\r\n            child.material.forEach(material => material.dispose());\r\n          } else {\r\n            child.material.dispose();\r\n          }\r\n        }\r\n      });\r\n    };\r\n  }, [isPlaying]); // Only restart when play state changes, not on key presses\r\n\r\n  if (!isPlaying) {\r\n    return (\r\n      <div\r\n        style={{\r\n          width: '100vw',\r\n          height: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          background: 'linear-gradient(135deg, #87CEEB 0%, #98FB98 100%)',\r\n          fontFamily: \"'Trebuchet MS', sans-serif\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            textAlign: 'center',\r\n            padding: '50px',\r\n            background: 'rgba(255, 255, 255, 0.95)',\r\n            borderRadius: '20px',\r\n            border: '3px solid #4169E1',\r\n            boxShadow: '0 0 60px rgba(65, 105, 225, 0.4), inset 0 0 40px rgba(255, 255, 255, 0.5)',\r\n            maxWidth: '600px',\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              fontSize: '64px',\r\n              margin: '0 0 10px 0',\r\n              color: '#4169E1',\r\n              textShadow: '0 0 30px #4169E1, 0 0 60px #1E90FF',\r\n              letterSpacing: '4px',\r\n              fontWeight: 'bold',\r\n            }}\r\n          >\r\n            MORNING MAZE\r\n          </h1>\r\n          <p\r\n            style={{\r\n              fontSize: '20px',\r\n              color: '#2F4F4F',\r\n              marginBottom: '40px',\r\n              letterSpacing: '1px',\r\n            }}\r\n          >\r\n            Navigate the sunny garden maze\r\n          </p>\r\n          <button\r\n            onClick={() => {\r\n              setShowRegistration(true); // Show registration form first\r\n            }}\r\n            style={{\r\n              padding: '20px 60px',\r\n              fontSize: '24px',\r\n              background: 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)',\r\n              color: '#fff',\r\n              border: '3px solid #4169E1',\r\n              borderRadius: '12px',\r\n              cursor: 'pointer',\r\n              fontFamily: \"'Trebuchet MS', sans-serif\",\r\n              fontWeight: 'bold',\r\n              boxShadow: '0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)',\r\n              transition: 'all 0.3s ease',\r\n              textTransform: 'uppercase',\r\n              letterSpacing: '2px',\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              const target = e.target as HTMLButtonElement;\r\n              target.style.background = 'linear-gradient(135deg, #1E90FF 0%, #4169E1 100%)';\r\n              target.style.transform = 'translateY(-4px) scale(1.05)';\r\n              target.style.boxShadow = '0 10px 30px rgba(65, 105, 225, 0.5), inset 0 2px 10px rgba(255, 255, 255, 0.3)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              const target = e.target as HTMLButtonElement;\r\n              target.style.background = 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)';\r\n              target.style.transform = 'translateY(0) scale(1)';\r\n              target.style.boxShadow = '0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)';\r\n            }}\r\n          >\r\n            Start Game\r\n          </button>\r\n          <div\r\n            style={{\r\n              marginTop: '40px',\r\n              padding: '20px',\r\n              background: 'rgba(255, 255, 255, 0.7)',\r\n              borderRadius: '10px',\r\n              border: '2px solid #4169E1',\r\n            }}\r\n          >\r\n            <p style={{ color: '#2F4F4F', fontSize: '16px', margin: '8px 0' }}>\r\n              <strong style={{ color: '#4169E1' }}>W A S D</strong> or{' '}\r\n              <strong style={{ color: '#4169E1' }}>Arrow Keys</strong> - Move\r\n            </p>\r\n            <p style={{ color: '#2F4F4F', fontSize: '16px', margin: '8px 0' }}>\r\n              <strong style={{ color: '#4169E1' }}>Mouse</strong> - Look around\r\n            </p>\r\n            <p style={{ color: '#2F4F4F', fontSize: '16px', margin: '8px 0' }}>\r\n              <strong style={{ color: '#4169E1' }}>Goal</strong> - Find the glowing green marker!\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Registration Form Overlay - shown on start screen */}\r\n        {showRegistration && (\r\n          <div\r\n            style={{\r\n              position: 'fixed',\r\n              top: 0,\r\n              left: 0,\r\n              width: '100vw',\r\n              height: '100vh',\r\n              background: 'rgba(0, 0, 0, 0.9)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              zIndex: 1000,\r\n              fontFamily: \"'Trebuchet MS', sans-serif\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                textAlign: 'center',\r\n                padding: '30px',\r\n                background: 'rgba(255, 255, 255, 0.98)',\r\n                borderRadius: '20px',\r\n                border: '4px solid #4169E1',\r\n                boxShadow: '0 0 60px rgba(65, 105, 225, 0.5)',\r\n                maxWidth: '700px',\r\n                width: '90%',\r\n              }}\r\n            >\r\n              <h2 style={{ color: '#4169E1', marginBottom: '20px', fontSize: '28px' }}>\r\n                📝 Register to Start\r\n              </h2>\r\n              <p style={{ color: '#666', marginBottom: '20px' }}>\r\n                Please fill out the form below, then click \"Start Game\"\r\n              </p>\r\n              <iframe\r\n                src=\"https://docs.google.com/forms/d/e/1FAIpQLScpaiG3cHfoVUMSBklPvvMOJ2-9Gae-166hsIF6NRfpQXTz8g/viewform?embedded=true\"\r\n                width=\"100%\"\r\n                height=\"500\"\r\n                style={{ border: 'none', borderRadius: '10px' }}\r\n                title=\"Registration Form\"\r\n              >\r\n                Loading…\r\n              </iframe>\r\n              <div style={{ marginTop: '20px', display: 'flex', gap: '15px', justifyContent: 'center' }}>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowRegistration(false);\r\n                    setIsPlaying(true);\r\n                    setGameWon(false);\r\n                    setGameAborted(false);\r\n                    setTimeRemaining(45 * 60);\r\n                    setElapsedTime(0);\r\n                    setSolvedPuzzles([]);\r\n                    setCollectedKeys([]);\r\n                  }}\r\n                  style={{\r\n                    padding: '15px 40px',\r\n                    fontSize: '18px',\r\n                    background: 'linear-gradient(135deg, #00cc44 0%, #00aa33 100%)',\r\n                    color: '#fff',\r\n                    border: 'none',\r\n                    borderRadius: '10px',\r\n                    cursor: 'pointer',\r\n                    fontWeight: 'bold',\r\n                    boxShadow: '0 4px 15px rgba(0, 204, 68, 0.4)',\r\n                    transition: 'all 0.3s ease',\r\n                    textTransform: 'uppercase',\r\n                    letterSpacing: '2px',\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    const target = e.target as HTMLButtonElement;\r\n                    target.style.transform = 'translateY(-2px) scale(1.02)';\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    const target = e.target as HTMLButtonElement;\r\n                    target.style.transform = 'translateY(0) scale(1)';\r\n                  }}\r\n                >\r\n                  🎮 Start Game\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowRegistration(false)}\r\n                  style={{\r\n                    padding: '15px 30px',\r\n                    fontSize: '18px',\r\n                    background: '#666',\r\n                    color: '#fff',\r\n                    border: 'none',\r\n                    borderRadius: '10px',\r\n                    cursor: 'pointer',\r\n                    fontWeight: 'bold',\r\n                    transition: 'all 0.3s ease',\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    const target = e.target as HTMLButtonElement;\r\n                    target.style.background = '#888';\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    const target = e.target as HTMLButtonElement;\r\n                    target.style.background = '#666';\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Helper function to format time as MM:SS\r\n  const formatTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  // Helper to format elapsed time for victory\r\n  const formatElapsedTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    const ms = Math.floor((seconds % 1) * 100);\r\n    return `${mins}m ${secs}s ${ms}ms`;\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative', width: '100vw', height: '100vh' }}>\r\n      <div ref={mountRef} style={{ width: '100%', height: '100%' }} />\r\n\r\n      {/* Countdown Timer - Top Center */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: '30px',\r\n          left: '50%',\r\n          transform: 'translateX(-50%)',\r\n          padding: '15px 40px',\r\n          background: timeRemaining < 300 ? 'rgba(255, 50, 50, 0.95)' : 'rgba(255, 255, 255, 0.95)',\r\n          color: timeRemaining < 300 ? '#fff' : '#4169E1',\r\n          fontFamily: \"'Courier New', monospace\",\r\n          fontSize: '36px',\r\n          fontWeight: 'bold',\r\n          borderRadius: '15px',\r\n          border: timeRemaining < 300 ? '3px solid #ff3333' : '3px solid #4169E1',\r\n          boxShadow: timeRemaining < 300 ? '0 4px 20px rgba(255, 50, 50, 0.5)' : '0 4px 15px rgba(65, 105, 225, 0.3)',\r\n          pointerEvents: 'none',\r\n          zIndex: 100,\r\n        }}\r\n      >\r\n        ⏱ {formatTime(timeRemaining)}\r\n      </div>\r\n\r\n      {/* Minimap */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: '30px',\r\n          right: '30px',\r\n          padding: '10px',\r\n          background: 'rgba(255, 255, 255, 0.9)',\r\n          borderRadius: '10px',\r\n          border: '3px solid #4169E1',\r\n          boxShadow: '0 4px 15px rgba(65, 105, 225, 0.3)',\r\n          pointerEvents: 'none',\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            color: '#4169E1',\r\n            fontFamily: \"'Courier New', monospace\",\r\n            fontSize: '12px',\r\n            fontWeight: 'bold',\r\n            marginBottom: '5px',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          MAP\r\n        </div>\r\n        <canvas\r\n          ref={minimapCanvasRef}\r\n          style={{\r\n            border: '2px solid #4169E1',\r\n            borderRadius: '5px',\r\n            display: 'block',\r\n          }}\r\n        />\r\n        <div\r\n          style={{\r\n            color: '#2F4F4F',\r\n            fontFamily: \"'Courier New', monospace\",\r\n            fontSize: '10px',\r\n            marginTop: '5px',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          🔴 You | 🟢 Goal\r\n        </div>\r\n      </div>\r\n\r\n      {/* Instructions overlay */}\r\n      {showInstructions && (\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            top: '50%',\r\n            left: '50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            padding: '30px 50px',\r\n            background: 'rgba(255, 255, 255, 0.95)',\r\n            color: '#4169E1',\r\n            fontFamily: \"'Trebuchet MS', sans-serif\",\r\n            fontSize: '24px',\r\n            fontWeight: 'bold',\r\n            borderRadius: '15px',\r\n            border: '3px solid #4169E1',\r\n            boxShadow: '0 0 40px rgba(65, 105, 225, 0.4)',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          🖱️ CLICK TO START 🖱️\r\n        </div>\r\n      )}\r\n\r\n      {/* Controls hint */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: '30px',\r\n          right: '30px',\r\n          padding: '15px 20px',\r\n          background: 'rgba(255, 255, 255, 0.9)',\r\n          color: '#2F4F4F',\r\n          fontFamily: \"'Courier New', monospace\",\r\n          fontSize: '14px',\r\n          borderRadius: '8px',\r\n          border: '2px solid #4169E1',\r\n          pointerEvents: 'none',\r\n          lineHeight: '1.8',\r\n        }}\r\n      >\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>W/↑</strong> - Forward\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>S/↓</strong> - Backward\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>A/←</strong> - Left\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>D/→</strong> - Right\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>Mouse</strong> - Look\r\n        </div>\r\n        <div style={{ marginTop: '5px', fontSize: '12px', color: '#666' }}>\r\n          Click to lock cursor\r\n        </div>\r\n      </div>\r\n\r\n      {/* Puzzle progress indicator */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: '30px',\r\n          left: '30px',\r\n          padding: '15px 20px',\r\n          background: 'rgba(255, 255, 255, 0.9)',\r\n          color: '#2F4F4F',\r\n          fontFamily: \"'Courier New', monospace\",\r\n          fontSize: '14px',\r\n          borderRadius: '8px',\r\n          border: '2px solid #4169E1',\r\n          pointerEvents: 'none',\r\n        }}\r\n      >\r\n        <div style={{ marginBottom: '5px', fontWeight: 'bold', color: '#4169E1' }}>\r\n          🔑 KEYS COLLECTED\r\n        </div>\r\n        <div>\r\n          {collectedKeys.length} / 5 Keys\r\n        </div>\r\n        <div style={{ marginTop: '8px', fontSize: '11px', lineHeight: '1.4' }}>\r\n          {collectedKeys.length > 0 ? (\r\n            collectedKeys.map((key, i) => (\r\n              <div key={i} style={{ color: '#00ff88' }}>{key}</div>\r\n            ))\r\n          ) : (\r\n            <div style={{ color: '#888' }}>Solve puzzles to earn keys!</div>\r\n          )}\r\n        </div>\r\n        {collectedKeys.length >= 5 && (\r\n          <div style={{ marginTop: '8px', color: '#ffd700', fontWeight: 'bold' }}>\r\n            🚪 Final doors unlocked!\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Puzzle overlay */}\r\n      {activePuzzle && (\r\n        <PuzzleOverlay\r\n          puzzle={activePuzzle}\r\n          onSolve={(keyName: string) => {\r\n            setSolvedPuzzles(prev => [...prev, activePuzzle.id]);\r\n            setCollectedKeys(prev => [...prev, keyName]);\r\n            setActivePuzzle(null);\r\n          }}\r\n          onClose={() => setActivePuzzle(null)}\r\n        />\r\n      )}\r\n\r\n      {/* Victory Overlay */}\r\n      {gameWon && (\r\n        <div\r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100vw',\r\n            height: '100vh',\r\n            background: 'rgba(0, 0, 0, 0.85)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            zIndex: 1000,\r\n            fontFamily: \"'Trebuchet MS', sans-serif\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              textAlign: 'center',\r\n              padding: '50px 80px',\r\n              background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(240, 248, 255, 0.98) 100%)',\r\n              borderRadius: '25px',\r\n              border: '4px solid #4169E1',\r\n              boxShadow: '0 0 100px rgba(65, 105, 225, 0.6), 0 0 200px rgba(0, 255, 136, 0.3)',\r\n            }}\r\n          >\r\n            <h1\r\n              style={{\r\n                fontSize: '64px',\r\n                margin: '0 0 20px 0',\r\n                color: '#4169E1',\r\n                textShadow: '0 0 30px #4169E1',\r\n                letterSpacing: '4px',\r\n              }}\r\n            >\r\n              🏆 VICTORY! 🏆\r\n            </h1>\r\n            <p style={{ fontSize: '24px', color: '#2F4F4F', marginBottom: '15px' }}>\r\n              You escaped the maze!\r\n            </p>\r\n            <div\r\n              style={{\r\n                fontSize: '20px',\r\n                color: '#666',\r\n                marginBottom: '30px',\r\n              }}\r\n            >\r\n              <p style={{ margin: '10px 0' }}>⏱ <strong>Time Taken:</strong></p>\r\n              <p\r\n                style={{\r\n                  fontSize: '42px',\r\n                  color: '#00cc44',\r\n                  fontWeight: 'bold',\r\n                  margin: '10px 0',\r\n                }}\r\n              >\r\n                {formatElapsedTime(elapsedTime)}\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => {\r\n                // Open Google Form with prefilled time\r\n                const timeStr = formatTime(elapsedTime);\r\n                window.open(`https://docs.google.com/forms/d/e/1FAIpQLSetfH5GhS5QvTRcQDb0y3oBnHKverKQOdk4hvY958GFHZj68A/viewform?usp=pp_url&entry.2039261618=${timeStr}`, '_blank');\r\n              }}\r\n              style={{\r\n                padding: '18px 60px',\r\n                fontSize: '22px',\r\n                background: 'linear-gradient(135deg, #00cc44 0%, #00aa33 100%)',\r\n                color: '#fff',\r\n                border: 'none',\r\n                borderRadius: '12px',\r\n                cursor: 'pointer',\r\n                fontWeight: 'bold',\r\n                boxShadow: '0 6px 25px rgba(0, 204, 68, 0.4)',\r\n                transition: 'all 0.3s ease',\r\n                textTransform: 'uppercase',\r\n                letterSpacing: '3px',\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                const target = e.target as HTMLButtonElement;\r\n                target.style.transform = 'translateY(-4px) scale(1.05)';\r\n                target.style.boxShadow = '0 10px 35px rgba(0, 204, 68, 0.6)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                const target = e.target as HTMLButtonElement;\r\n                target.style.transform = 'translateY(0) scale(1)';\r\n                target.style.boxShadow = '0 6px 25px rgba(0, 204, 68, 0.4)';\r\n              }}\r\n            >\r\n              ✓ SUBMIT\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Game Aborted Overlay - Time Ran Out */}\r\n      {gameAborted && (\r\n        <div\r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100vw',\r\n            height: '100vh',\r\n            background: 'rgba(0, 0, 0, 0.9)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            zIndex: 1000,\r\n            fontFamily: \"'Trebuchet MS', sans-serif\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              textAlign: 'center',\r\n              padding: '50px 80px',\r\n              background: 'linear-gradient(135deg, rgba(255, 50, 50, 0.98) 0%, rgba(200, 30, 30, 0.98) 100%)',\r\n              borderRadius: '25px',\r\n              border: '4px solid #ff3333',\r\n              boxShadow: '0 0 100px rgba(255, 50, 50, 0.6)',\r\n            }}\r\n          >\r\n            <h1\r\n              style={{\r\n                fontSize: '56px',\r\n                margin: '0 0 20px 0',\r\n                color: '#fff',\r\n                textShadow: '0 0 30px rgba(0,0,0,0.5)',\r\n                letterSpacing: '4px',\r\n              }}\r\n            >\r\n              ⏰ TIME'S UP! ⏰\r\n            </h1>\r\n            <p style={{ fontSize: '24px', color: '#ffcccc', marginBottom: '15px' }}>\r\n              You ran out of time!\r\n            </p>\r\n            <div\r\n              style={{\r\n                fontSize: '20px',\r\n                color: '#ffaaaa',\r\n                marginBottom: '30px',\r\n              }}\r\n            >\r\n              <p style={{ margin: '10px 0' }}>Total Time: <strong>45:00</strong></p>\r\n            </div>\r\n            <button\r\n              onClick={() => {\r\n                // Open Google Form with prefilled 45:00\r\n                window.open('https://docs.google.com/forms/d/e/1FAIpQLSedwaApArTj1A0xtfRmh-yy86ap12XF8l1ahMv0vmPxLPKVug/viewform?usp=pp_url&entry.2039261618=45:00', '_blank');\r\n              }}\r\n              style={{\r\n                padding: '18px 60px',\r\n                fontSize: '22px',\r\n                background: 'linear-gradient(135deg, #fff 0%, #eee 100%)',\r\n                color: '#cc3333',\r\n                border: 'none',\r\n                borderRadius: '12px',\r\n                cursor: 'pointer',\r\n                fontWeight: 'bold',\r\n                boxShadow: '0 6px 25px rgba(255, 255, 255, 0.4)',\r\n                transition: 'all 0.3s ease',\r\n                textTransform: 'uppercase',\r\n                letterSpacing: '3px',\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                const target = e.target as HTMLButtonElement;\r\n                target.style.transform = 'translateY(-4px) scale(1.05)';\r\n                target.style.boxShadow = '0 10px 35px rgba(255, 255, 255, 0.6)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                const target = e.target as HTMLButtonElement;\r\n                target.style.transform = 'translateY(0) scale(1)';\r\n                target.style.boxShadow = '0 6px 25px rgba(255, 255, 255, 0.4)';\r\n              }}\r\n            >\r\n              ✓ SUBMIT\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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AC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC3H,CAAC,CAAC,CAAE,CAAC,CAAE,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}