{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\subha\\\\Downloads\\\\ma\\\\src\\\\components\\\\MazeGame.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport * as THREE from 'three';\nimport { useKeyboard } from '../hooks/useKeyboard';\nimport { puzzles } from '../data/puzzles';\nimport PuzzleOverlay from './PuzzleOverlay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MazeGame() {\n  _s();\n  const mountRef = useRef(null);\n  const minimapCanvasRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [gameWon, setGameWon] = useState(false);\n  const [gameAborted, setGameAborted] = useState(false); // Time ran out\n  const [showRegistration, setShowRegistration] = useState(false); // Registration form\n  const [timeRemaining, setTimeRemaining] = useState(45 * 60); // 45 minutes countdown\n  const [elapsedTime, setElapsedTime] = useState(0); // Time taken to complete\n  const [showInstructions, setShowInstructions] = useState(true);\n  const [activePuzzle, setActivePuzzle] = useState(null);\n  const [solvedPuzzles, setSolvedPuzzles] = useState([]);\n  const [collectedKeys, setCollectedKeys] = useState([]);\n  const solvedPuzzlesRef = useRef([]);\n  const collectedKeysRef = useRef([]);\n  const setActivePuzzleRef = useRef(p => setActivePuzzle(p));\n\n  // Professional movement hooks\n  const keys = useKeyboard();\n  const keysRef = useRef(keys);\n  const headBob = useRef({\n    phase: 0,\n    amplitude: 0.02\n  });\n\n  // Keep keysRef updated with latest keys\n  useEffect(() => {\n    keysRef.current = keys;\n  }, [keys]);\n\n  // Keep puzzle refs updated\n  useEffect(() => {\n    solvedPuzzlesRef.current = solvedPuzzles;\n  }, [solvedPuzzles]);\n\n  // Keep collected keys ref updated\n  useEffect(() => {\n    collectedKeysRef.current = collectedKeys;\n  }, [collectedKeys]);\n  useEffect(() => {\n    if (!isPlaying) return;\n    let animationId;\n    const scene = new THREE.Scene();\n    // Morning sky color\n    scene.background = new THREE.Color(0x87CEEB);\n    scene.fog = new THREE.Fog(0x87CEEB, 10, 50);\n\n    // Camera - First Person Setup\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);\n\n    // Set initial camera position and rotation for first-person view\n    camera.position.set(1.5, 0.5, 1.5); // Start at ground level\n    camera.rotation.order = 'YXZ'; // Proper rotation order for FPS camera\n    camera.rotation.set(0, 0, 0); // Start looking forward (no pitch/yaw)\n\n    // Renderer\n    const renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n    if (mountRef.current) {\n      mountRef.current.appendChild(renderer.domElement);\n    }\n\n    // Professional player state - based on 3D Maze Master\n    const player = {\n      position: new THREE.Vector3(1.5, 0.2, 1.5),\n      rotation: new THREE.Euler(0, 0, 0, 'YXZ'),\n      velocity: new THREE.Vector3(0, 0, 0),\n      moveState: {\n        up: 0,\n        down: 0,\n        left: 0,\n        right: 0,\n        forward: 0,\n        back: 0,\n        pitchUp: 0,\n        pitchDown: 0,\n        yawLeft: 0,\n        yawRight: 0\n      },\n      height: 0.3,\n      radius: 0.4\n    };\n\n    // Professional movement constants\n    let isLocked = false;\n    const movementSpeed = 2.0; // units/second\n    const playerRadius = 0.3; // collision radius\n    const startTime = Date.now();\n    const countdownDuration = 45 * 60; // 45 minutes in seconds\n\n    // Complex Maze with Dead Ends, Loops, Puzzle Gates and Locked Final Doors (41x41)\n    // 0 = path, 1 = wall, 2 = goal, 3-7 = puzzle gates (puzzles 1-5), 8 = locked door (needs all keys)\n    const maze = [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1], [1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1], [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1], [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1], [1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1], [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1], [1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1], [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1], [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 4, 1, 1, 1, 0, 1], [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1], [1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1], [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1], [1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1], [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1], [1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 5, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1], [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1], [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1, 6, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1], [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1], [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 7, 1, 1, 1, 0, 1], [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1], [1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1], [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1], [1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 8, 1], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 2, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]];\n\n    // Morning lighting\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);\n    scene.add(ambientLight);\n\n    // Sun light\n    const sunLight = new THREE.DirectionalLight(0xffffff, 1.2);\n    sunLight.position.set(10, 20, 10);\n    sunLight.castShadow = true;\n    sunLight.shadow.mapSize.width = 2048;\n    sunLight.shadow.mapSize.height = 2048;\n    sunLight.shadow.camera.near = 0.5;\n    sunLight.shadow.camera.far = 50;\n    sunLight.shadow.camera.left = -20;\n    sunLight.shadow.camera.right = 20;\n    sunLight.shadow.camera.top = 20;\n    sunLight.shadow.camera.bottom = -20;\n    scene.add(sunLight);\n\n    // Soft fill light\n    const fillLight = new THREE.DirectionalLight(0x87CEEB, 0.4);\n    fillLight.position.set(-5, 10, -5);\n    scene.add(fillLight);\n\n    // Perfect 3D Block System - Minecraft Style\n    const blockSize = 1;\n    const wallHeight = 2.5;\n\n    // Create perfect stone brick texture\n    const createStoneTexture = () => {\n      const canvas = document.createElement('canvas');\n      canvas.width = 64;\n      canvas.height = 64;\n      const ctx = canvas.getContext('2d');\n\n      // Stone base color\n      ctx.fillStyle = '#696969';\n      ctx.fillRect(0, 0, 64, 64);\n\n      // Add stone texture details\n      for (let i = 0; i < 100; i++) {\n        const x = Math.random() * 64;\n        const y = Math.random() * 64;\n        const size = Math.random() * 2 + 1;\n        const brightness = Math.random() * 0.3 + 0.7;\n        ctx.fillStyle = `rgb(${Math.floor(105 * brightness)}, ${Math.floor(105 * brightness)}, ${Math.floor(105 * brightness)})`;\n        ctx.fillRect(x, y, size, size);\n      }\n\n      // Add some darker spots\n      for (let i = 0; i < 50; i++) {\n        const x = Math.random() * 64;\n        const y = Math.random() * 64;\n        const size = Math.random() * 3 + 1;\n        ctx.fillStyle = '#555555';\n        ctx.fillRect(x, y, size, size);\n      }\n      const texture = new THREE.CanvasTexture(canvas);\n      texture.wrapS = THREE.RepeatWrapping;\n      texture.wrapT = THREE.RepeatWrapping;\n      texture.magFilter = THREE.NearestFilter;\n      texture.minFilter = THREE.NearestFilter;\n      return texture;\n    };\n\n    // Create perfect grass texture\n    const createGrassTexture = () => {\n      const canvas = document.createElement('canvas');\n      canvas.width = 64;\n      canvas.height = 64;\n      const ctx = canvas.getContext('2d');\n\n      // Grass base color\n      ctx.fillStyle = '#228B22';\n      ctx.fillRect(0, 0, 64, 64);\n\n      // Add grass blade details\n      for (let i = 0; i < 150; i++) {\n        const x = Math.random() * 64;\n        const y = Math.random() * 64;\n        const size = Math.random() * 2 + 1;\n        const grassColors = ['#32CD32', '#228B22', '#006400', '#90EE90'];\n        ctx.fillStyle = grassColors[Math.floor(Math.random() * grassColors.length)];\n        ctx.fillRect(x, y, size, size);\n      }\n      const texture = new THREE.CanvasTexture(canvas);\n      texture.wrapS = THREE.RepeatWrapping;\n      texture.wrapT = THREE.RepeatWrapping;\n      texture.repeat.set(8, 8);\n      texture.magFilter = THREE.NearestFilter;\n      texture.minFilter = THREE.NearestFilter;\n      return texture;\n    };\n\n    // Create materials\n    const stoneTexture = createStoneTexture();\n    const grassTexture = createGrassTexture();\n    const wallMaterial = new THREE.MeshStandardMaterial({\n      map: stoneTexture,\n      roughness: 0.9,\n      metalness: 0.0\n    });\n    const floorMaterial = new THREE.MeshStandardMaterial({\n      map: grassTexture,\n      roughness: 0.8,\n      metalness: 0.0\n    });\n\n    // Create individual wall blocks for perfect placement\n    const createWallBlocks = () => {\n      const wallGroup = new THREE.Group();\n\n      // Puzzle gate colors (different color for each puzzle)\n      const puzzleColors = [0xff4444,\n      // Puzzle 1 - Red\n      0xff8800,\n      // Puzzle 2 - Orange\n      0xffff00,\n      // Puzzle 3 - Yellow\n      0x00aaff,\n      // Puzzle 4 - Blue\n      0xff00ff // Puzzle 5 - Purple\n      ];\n      maze.forEach((row, z) => {\n        row.forEach((cell, x) => {\n          if (cell === 1) {\n            // Create individual wall block\n            const wallGeometry = new THREE.BoxGeometry(blockSize, wallHeight, blockSize);\n            const wall = new THREE.Mesh(wallGeometry, wallMaterial);\n\n            // Position centered in grid cell\n            wall.position.set(x + 0.5, wallHeight / 2, z + 0.5);\n            wall.castShadow = true;\n            wall.receiveShadow = true;\n            wallGroup.add(wall);\n          } else if (cell >= 3 && cell <= 7) {\n            // Puzzle gate - glowing door\n            const puzzleId = cell - 2; // 3->1, 4->2, 5->3, 6->4, 7->5\n            const gateGeometry = new THREE.BoxGeometry(blockSize, wallHeight, blockSize);\n            const gateMaterial = new THREE.MeshStandardMaterial({\n              color: puzzleColors[puzzleId - 1],\n              emissive: puzzleColors[puzzleId - 1],\n              emissiveIntensity: 0.5,\n              transparent: true,\n              opacity: 0.85,\n              metalness: 0.3,\n              roughness: 0.4\n            });\n            const gate = new THREE.Mesh(gateGeometry, gateMaterial);\n            gate.position.set(x + 0.5, wallHeight / 2, z + 0.5);\n            gate.castShadow = true;\n            gate.receiveShadow = true;\n            gate.userData = {\n              isPuzzleGate: true,\n              puzzleId: puzzleId,\n              gridX: x,\n              gridZ: z\n            };\n            wallGroup.add(gate);\n\n            // Add light for puzzle gate\n            const gateLight = new THREE.PointLight(puzzleColors[puzzleId - 1], 1, 5);\n            gateLight.position.set(x + 0.5, 1.5, z + 0.5);\n            wallGroup.add(gateLight);\n          } else if (cell === 8) {\n            // Locked final door - requires all 5 keys\n            const doorGeometry = new THREE.BoxGeometry(blockSize, wallHeight, blockSize);\n            const doorMaterial = new THREE.MeshStandardMaterial({\n              color: 0xffd700,\n              // Gold\n              emissive: 0xffd700,\n              emissiveIntensity: 0.7,\n              transparent: true,\n              opacity: 0.9,\n              metalness: 0.6,\n              roughness: 0.2\n            });\n            const door = new THREE.Mesh(doorGeometry, doorMaterial);\n            door.position.set(x + 0.5, wallHeight / 2, z + 0.5);\n            door.castShadow = true;\n            door.receiveShadow = true;\n            door.userData = {\n              isLockedDoor: true,\n              gridX: x,\n              gridZ: z\n            };\n            wallGroup.add(door);\n\n            // Add golden light for locked door\n            const doorLight = new THREE.PointLight(0xffd700, 2, 6);\n            doorLight.position.set(x + 0.5, 1.5, z + 0.5);\n            wallGroup.add(doorLight);\n          }\n        });\n      });\n      return wallGroup;\n    };\n\n    // Add perfect wall blocks to scene\n    const wallBlocks = createWallBlocks();\n    scene.add(wallBlocks);\n\n    // Create goal with advanced effects\n    let goal;\n    let goalParticles;\n    maze.forEach((row, z) => {\n      row.forEach((cell, x) => {\n        if (cell === 2) {\n          // Advanced goal design\n          const goalGroup = new THREE.Group();\n\n          // Main goal crystal\n          const goalGeometry = new THREE.OctahedronGeometry(0.4, 2);\n          const goalMaterial = new THREE.MeshStandardMaterial({\n            color: 0x00ff44,\n            emissive: 0x00ff44,\n            emissiveIntensity: 0.6,\n            transparent: true,\n            opacity: 0.8,\n            roughness: 0.1,\n            metalness: 0.3\n          });\n          goal = new THREE.Mesh(goalGeometry, goalMaterial);\n          goal.position.set(0, 1, 0);\n          goalGroup.add(goal);\n\n          // Particle system for goal\n          const particleGeometry = new THREE.BufferGeometry();\n          const particleCount = 50;\n          const positions = new Float32Array(particleCount * 3);\n          for (let i = 0; i < particleCount * 3; i += 3) {\n            positions[i] = (Math.random() - 0.5) * 2;\n            positions[i + 1] = Math.random() * 2;\n            positions[i + 2] = (Math.random() - 0.5) * 2;\n          }\n          particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n          const particleMaterial = new THREE.PointsMaterial({\n            color: 0x00ff44,\n            size: 0.05,\n            transparent: true,\n            opacity: 0.8\n          });\n          goalParticles = new THREE.Points(particleGeometry, particleMaterial);\n          goalGroup.add(goalParticles);\n\n          // Goal light with better settings\n          const goalLight = new THREE.PointLight(0x00ff44, 2, 10);\n          goalLight.position.set(0, 1, 0);\n          goalLight.castShadow = true;\n          goalLight.shadow.mapSize.width = 512;\n          goalLight.shadow.mapSize.height = 512;\n          goalGroup.add(goalLight);\n\n          // Position goal group centered in cell\n          goalGroup.position.set(x + 0.5, 0, z + 0.5);\n          scene.add(goalGroup);\n\n          // Enhanced goal animation\n          const animateGoal = () => {\n            const time = Date.now() * 0.001;\n\n            // Rotate crystal\n            goal.rotation.y += 0.02;\n            goal.rotation.x = Math.sin(time) * 0.1;\n\n            // Float up and down\n            goal.position.y = 1 + Math.sin(time * 2) * 0.2;\n\n            // Animate particles\n            const positions = goalParticles.geometry.attributes.position.array;\n            for (let i = 1; i < positions.length; i += 3) {\n              positions[i] += 0.01;\n              if (positions[i] > 3) {\n                positions[i] = 0;\n              }\n            }\n            goalParticles.geometry.attributes.position.needsUpdate = true;\n\n            // Pulse light intensity\n            goalLight.intensity = 2 + Math.sin(time * 3) * 0.5;\n          };\n          goal.userData.animate = animateGoal;\n        }\n      });\n    });\n\n    // Floor covering entire maze area\n    const floorGeometry = new THREE.PlaneGeometry(maze[0].length, maze.length);\n    const floor = new THREE.Mesh(floorGeometry, floorMaterial);\n    floor.rotation.x = -Math.PI / 2;\n    floor.position.set(maze[0].length / 2, 0, maze.length / 2); // Center floor on maze grid\n    floor.receiveShadow = true;\n    scene.add(floor);\n\n    // Add some decorative elements\n    const addDecorations = () => {\n      maze.forEach((row, z) => {\n        row.forEach((cell, x) => {\n          if (cell === 0 && Math.random() > 0.95) {\n            // Add small grass tufts\n            const grassGeometry = new THREE.ConeGeometry(0.05, 0.2, 6);\n            const grassMaterial = new THREE.MeshStandardMaterial({\n              color: 0x228B22,\n              roughness: 0.9\n            });\n            const grass = new THREE.Mesh(grassGeometry, grassMaterial);\n            grass.position.set(x + 0.5 + (Math.random() - 0.5) * 0.8, 0.1, z + 0.5 + (Math.random() - 0.5) * 0.8);\n            grass.castShadow = true;\n            scene.add(grass);\n          }\n        });\n      });\n    };\n    addDecorations();\n\n    // Simple and reliable grid-based collision detection\n    const isWall = (x, z) => {\n      const gridX = Math.floor(x);\n      const gridZ = Math.floor(z);\n\n      // Out of bounds = wall\n      if (gridX < 0 || gridX >= maze[0].length || gridZ < 0 || gridZ >= maze.length) {\n        return true;\n      }\n      const cellValue = maze[gridZ][gridX];\n\n      // Regular wall\n      if (cellValue === 1) return true;\n\n      // Puzzle gate (3-7) - check if solved\n      if (cellValue >= 3 && cellValue <= 7) {\n        const puzzleId = cellValue - 2;\n        return !solvedPuzzlesRef.current.includes(puzzleId);\n      }\n\n      // Locked door (8) - requires all 5 keys\n      if (cellValue === 8) {\n        return collectedKeysRef.current.length < 5;\n      }\n      return false;\n    };\n\n    // Check if player is near a puzzle gate\n    const checkPuzzleTrigger = (x, z) => {\n      const gridX = Math.floor(x);\n      const gridZ = Math.floor(z);\n\n      // Check surrounding cells for puzzle gates\n      const checkRadius = 1;\n      for (let dz = -checkRadius; dz <= checkRadius; dz++) {\n        for (let dx = -checkRadius; dx <= checkRadius; dx++) {\n          const checkX = gridX + dx;\n          const checkZ = gridZ + dz;\n          if (checkX >= 0 && checkX < maze[0].length && checkZ >= 0 && checkZ < maze.length) {\n            const cellValue = maze[checkZ][checkX];\n            if (cellValue >= 3 && cellValue <= 7) {\n              const puzzleId = cellValue - 2;\n              if (!solvedPuzzlesRef.current.includes(puzzleId)) {\n                // Calculate distance to gate center\n                const gateCenterX = checkX + 0.5;\n                const gateCenterZ = checkZ + 0.5;\n                const distance = Math.sqrt((x - gateCenterX) ** 2 + (z - gateCenterZ) ** 2);\n                if (distance < 1.5) {\n                  // Trigger puzzle\n                  const puzzle = puzzles.find(p => p.id === puzzleId);\n                  if (puzzle) {\n                    setActivePuzzleRef.current(puzzle);\n                    document.exitPointerLock();\n                  }\n                  return;\n                }\n              }\n            }\n          }\n        }\n      }\n    };\n\n    // Check collision at position with player radius\n    const checkCollision = (x, z) => {\n      // Check 4 corners of player bounding box\n      return isWall(x - playerRadius, z - playerRadius) || isWall(x + playerRadius, z - playerRadius) || isWall(x - playerRadius, z + playerRadius) || isWall(x + playerRadius, z + playerRadius);\n    };\n\n    // Try to move and handle collision with wall sliding\n    const tryMove = (deltaX, deltaZ) => {\n      const currentX = camera.position.x;\n      const currentZ = camera.position.z;\n\n      // Try full movement first\n      const newX = currentX + deltaX;\n      const newZ = currentZ + deltaZ;\n      if (!checkCollision(newX, newZ)) {\n        camera.position.x = newX;\n        camera.position.z = newZ;\n        return;\n      }\n\n      // Try X movement only (wall sliding)\n      if (!checkCollision(newX, currentZ)) {\n        camera.position.x = newX;\n      }\n\n      // Try Z movement only (wall sliding)\n      if (!checkCollision(camera.position.x, newZ)) {\n        camera.position.z = newZ;\n      }\n    };\n\n    // Check win condition using simple grid coordinates\n    const checkWin = () => {\n      const gridX = Math.floor(camera.position.x);\n      const gridZ = Math.floor(camera.position.z);\n\n      // Check if we're at the goal position\n      if (gridX >= 0 && gridX < 15 && gridZ >= 0 && gridZ < 15) {\n        return maze[gridZ][gridX] === 2;\n      }\n      return false;\n    };\n\n    // Minimap functionality\n    const updateMinimap = () => {\n      const canvas = minimapCanvasRef.current;\n      if (!canvas) return;\n      const ctx = canvas.getContext('2d');\n      if (!ctx) return;\n      const cellSize = 8;\n      canvas.width = maze[0].length * cellSize;\n      canvas.height = maze.length * cellSize;\n\n      // Clear canvas\n      ctx.fillStyle = '#87CEEB';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      // Puzzle gate colors for minimap\n      const puzzleGateColors = ['#ff4444', '#ff8800', '#ffff00', '#00aaff', '#ff00ff'];\n\n      // Draw maze\n      maze.forEach((row, z) => {\n        row.forEach((cell, x) => {\n          if (cell === 1) {\n            // Wall\n            ctx.fillStyle = '#8B4513';\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\n          } else if (cell === 2) {\n            // Goal\n            ctx.fillStyle = '#00FF00';\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\n          } else if (cell >= 3 && cell <= 7) {\n            // Puzzle gate\n            const puzzleId = cell - 2;\n            if (solvedPuzzlesRef.current.includes(puzzleId)) {\n              // Solved - show as path\n              ctx.fillStyle = '#90EE90';\n            } else {\n              // Unsolved - show gate color\n              ctx.fillStyle = puzzleGateColors[puzzleId - 1];\n            }\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\n          } else if (cell === 8) {\n            // Locked door\n            if (collectedKeysRef.current.length >= 5) {\n              // Unlocked - show as path\n              ctx.fillStyle = '#90EE90';\n            } else {\n              // Locked - show as gold\n              ctx.fillStyle = '#FFD700';\n            }\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\n          } else {\n            // Path\n            ctx.fillStyle = '#90EE90';\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\n          }\n        });\n      });\n\n      // Draw player using simple grid coordinates\n      const playerX = camera.position.x * cellSize;\n      const playerZ = camera.position.z * cellSize;\n      ctx.fillStyle = '#FF0000';\n      ctx.beginPath();\n      ctx.arc(playerX, playerZ, cellSize / 3, 0, 2 * Math.PI);\n      ctx.fill();\n\n      // Draw player direction using camera rotation\n      const dirX = Math.sin(camera.rotation.y) * cellSize / 2;\n      const dirZ = Math.cos(camera.rotation.y) * cellSize / 2;\n      ctx.strokeStyle = '#FF0000';\n      ctx.lineWidth = 2;\n      ctx.beginPath();\n      ctx.moveTo(playerX, playerZ);\n      ctx.lineTo(playerX + dirX, playerZ + dirZ);\n      ctx.stroke();\n    };\n\n    // Mouse sensitivity constant\n    const mouseSensitivity = 0.002;\n\n    // Professional mouse controls from 3D Maze Master\n    const applyRotation = (rotationVector, scaleFactor = 1) => {\n      const tmpEulerAngle = new THREE.Euler().setFromQuaternion(camera.quaternion, 'YXZ');\n      tmpEulerAngle.y += rotationVector.y * scaleFactor;\n      tmpEulerAngle.x += rotationVector.x * scaleFactor;\n\n      // Clamp pitch to prevent gimbal lock (±88.2°)\n      tmpEulerAngle.x = Math.max(-Math.PI * 0.49, Math.min(Math.PI * 0.49, tmpEulerAngle.x));\n      camera.quaternion.setFromEuler(tmpEulerAngle);\n      camera.rotation.setFromQuaternion(camera.quaternion, camera.rotation.order);\n    };\n    const onMouseMove = e => {\n      if (!isLocked) return;\n      const movementX = e.movementX || 0;\n      const movementY = e.movementY || 0;\n      const rotationVector = new THREE.Vector3(-movementY, -movementX, 0);\n      applyRotation(rotationVector, mouseSensitivity);\n    };\n    const onPointerLockChange = () => {\n      isLocked = document.pointerLockElement === renderer.domElement;\n      if (isLocked) {\n        setShowInstructions(false);\n      }\n    };\n    const onClick = () => {\n      if (!isLocked) {\n        renderer.domElement.requestPointerLock();\n      }\n    };\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('pointerlockchange', onPointerLockChange);\n    renderer.domElement.addEventListener('click', onClick);\n\n    // Animation loop\n    const animate = () => {\n      animationId = requestAnimationFrame(animate);\n\n      // Update countdown timer\n      const elapsed = (Date.now() - startTime) / 1000;\n      setElapsedTime(elapsed);\n      const remaining = Math.max(0, countdownDuration - elapsed);\n      setTimeRemaining(remaining);\n\n      // Check if time ran out\n      if (remaining <= 0) {\n        setGameAborted(true); // Time ran out - game over\n        cancelAnimationFrame(animationId);\n        document.exitPointerLock();\n        return;\n      }\n\n      // 3D Maze Master movement system\n      let moveVector = new THREE.Vector3(0, 0, 0);\n      if (isLocked) {\n        // Update move state based on keyboard input (using ref to avoid re-renders)\n        const currentKeys = keysRef.current;\n        player.moveState.forward = currentKeys.forward ? 1 : 0;\n        player.moveState.back = currentKeys.backward ? 1 : 0;\n        player.moveState.left = currentKeys.left ? 1 : 0;\n        player.moveState.right = currentKeys.right ? 1 : 0;\n\n        // Calculate movement vector in local space\n        moveVector = new THREE.Vector3(-player.moveState.left + player.moveState.right, 0,\n        // no vertical movement in maze\n        -player.moveState.forward + player.moveState.back);\n\n        // Normalize movement vector to prevent faster diagonal movement\n        if (moveVector.length() > 1) {\n          moveVector.normalize();\n        }\n\n        // Apply movement with proper delta time\n        const delta = 1 / 60; // Assume 60fps for consistent movement\n        const moveMult = delta * movementSpeed;\n\n        // Apply movement relative to camera orientation with collision detection\n        if (moveVector.length() > 0) {\n          // Get camera forward and right vectors (in world space)\n          const forward = new THREE.Vector3(0, 0, -1).applyQuaternion(camera.quaternion);\n          const right = new THREE.Vector3(1, 0, 0).applyQuaternion(camera.quaternion);\n\n          // Calculate world-space movement\n          const worldMoveX = (right.x * moveVector.x + forward.x * -moveVector.z) * moveMult;\n          const worldMoveZ = (right.z * moveVector.x + forward.z * -moveVector.z) * moveMult;\n\n          // Use collision-safe movement\n          tryMove(worldMoveX, worldMoveZ);\n\n          // Check for puzzle triggers\n          checkPuzzleTrigger(camera.position.x, camera.position.z);\n        }\n\n        // Update player position to match camera\n        player.position.copy(camera.position);\n\n        // Update head bob for walking animation\n        if (moveVector.length() > 0.001) {\n          headBob.current.phase += delta * 8; // Walking speed\n        }\n      }\n\n      // Update minimap\n      updateMinimap();\n\n      // Check win condition\n      if (checkWin()) {\n        setGameWon(true);\n        cancelAnimationFrame(animationId);\n        document.exitPointerLock();\n        return;\n      }\n\n      // Professional first-person camera sync with head bob\n      const movementDistance = moveVector.length();\n      const bobOffset = movementDistance > 0.001 ? Math.sin(headBob.current.phase) * headBob.current.amplitude * 0.5 : 0;\n\n      // Maintain ground-level camera height with subtle head bob effect\n      const groundHeight = 0.5; // Fixed ground-level camera height\n      camera.position.y = groundHeight + bobOffset;\n\n      // Animate goals\n      scene.traverse(obj => {\n        if (obj.userData.animate) {\n          obj.userData.animate();\n        }\n      });\n      renderer.render(scene, camera);\n    };\n    animate();\n\n    // Window resize\n    const onResize = () => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    };\n    window.addEventListener('resize', onResize);\n\n    // Store ref for cleanup\n    const currentMount = mountRef.current;\n\n    // Cleanup\n    return () => {\n      cancelAnimationFrame(animationId);\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('pointerlockchange', onPointerLockChange);\n      window.removeEventListener('resize', onResize);\n      if (currentMount && renderer.domElement.parentNode) {\n        currentMount.removeChild(renderer.domElement);\n      }\n      renderer.dispose();\n\n      // Dispose of textures and materials\n      stoneTexture.dispose();\n      grassTexture.dispose();\n      wallMaterial.dispose();\n      floorMaterial.dispose();\n\n      // Dispose of geometries\n      floorGeometry.dispose();\n\n      // Dispose of wall blocks\n      wallBlocks.traverse(child => {\n        if (child instanceof THREE.Mesh) {\n          child.geometry.dispose();\n          if (Array.isArray(child.material)) {\n            child.material.forEach(material => material.dispose());\n          } else {\n            child.material.dispose();\n          }\n        }\n      });\n    };\n  }, [isPlaying]); // Only restart when play state changes, not on key presses\n\n  if (!isPlaying) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'linear-gradient(135deg, #87CEEB 0%, #98FB98 100%)',\n        fontFamily: \"'Trebuchet MS', sans-serif\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '50px',\n          background: 'rgba(255, 255, 255, 0.95)',\n          borderRadius: '20px',\n          border: '3px solid #4169E1',\n          boxShadow: '0 0 60px rgba(65, 105, 225, 0.4), inset 0 0 40px rgba(255, 255, 255, 0.5)',\n          maxWidth: '600px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: '64px',\n            margin: '0 0 10px 0',\n            color: '#4169E1',\n            textShadow: '0 0 30px #4169E1, 0 0 60px #1E90FF',\n            letterSpacing: '4px',\n            fontWeight: 'bold'\n          },\n          children: \"MORNING MAZE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '20px',\n            color: '#2F4F4F',\n            marginBottom: '40px',\n            letterSpacing: '1px'\n          },\n          children: \"Navigate the sunny garden maze\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 889,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowRegistration(true); // Show registration form first\n          },\n          style: {\n            padding: '20px 60px',\n            fontSize: '24px',\n            background: 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)',\n            color: '#fff',\n            border: '3px solid #4169E1',\n            borderRadius: '12px',\n            cursor: 'pointer',\n            fontFamily: \"'Trebuchet MS', sans-serif\",\n            fontWeight: 'bold',\n            boxShadow: '0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)',\n            transition: 'all 0.3s ease',\n            textTransform: 'uppercase',\n            letterSpacing: '2px'\n          },\n          onMouseEnter: e => {\n            const target = e.target;\n            target.style.background = 'linear-gradient(135deg, #1E90FF 0%, #4169E1 100%)';\n            target.style.transform = 'translateY(-4px) scale(1.05)';\n            target.style.boxShadow = '0 10px 30px rgba(65, 105, 225, 0.5), inset 0 2px 10px rgba(255, 255, 255, 0.3)';\n          },\n          onMouseLeave: e => {\n            const target = e.target;\n            target.style.background = 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)';\n            target.style.transform = 'translateY(0) scale(1)';\n            target.style.boxShadow = '0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)';\n          },\n          children: \"Start Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 899,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '40px',\n            padding: '20px',\n            background: 'rgba(255, 255, 255, 0.7)',\n            borderRadius: '10px',\n            border: '2px solid #4169E1'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#2F4F4F',\n              fontSize: '16px',\n              margin: '8px 0'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: '#4169E1'\n              },\n              children: \"W A S D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 943,\n              columnNumber: 15\n            }, this), \" or\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: '#4169E1'\n              },\n              children: \"Arrow Keys\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 944,\n              columnNumber: 15\n            }, this), \" - Move\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 942,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#2F4F4F',\n              fontSize: '16px',\n              margin: '8px 0'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: '#4169E1'\n              },\n              children: \"Mouse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 947,\n              columnNumber: 15\n            }, this), \" - Look around\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 946,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#2F4F4F',\n              fontSize: '16px',\n              margin: '8px 0'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: '#4169E1'\n              },\n              children: \"Goal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 950,\n              columnNumber: 15\n            }, this), \" - Find the glowing green marker!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 949,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 933,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 866,\n        columnNumber: 9\n      }, this), showRegistration && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          width: '100vw',\n          height: '100vh',\n          background: 'rgba(0, 0, 0, 0.9)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000,\n          fontFamily: \"'Trebuchet MS', sans-serif\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '30px',\n            background: 'rgba(255, 255, 255, 0.98)',\n            borderRadius: '20px',\n            border: '4px solid #4169E1',\n            boxShadow: '0 0 60px rgba(65, 105, 225, 0.5)',\n            maxWidth: '700px',\n            width: '90%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: '#4169E1',\n              marginBottom: '20px',\n              fontSize: '28px'\n            },\n            children: \"\\uD83D\\uDCDD Register to Start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 984,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#666',\n              marginBottom: '20px'\n            },\n            children: \"Please fill out the form below, then click \\\"Start Game\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 987,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: \"https://docs.google.com/forms/d/e/1FAIpQLScpaiG3cHfoVUMSBklPvvMOJ2-9Gae-166hsIF6NRfpQXTz8g/viewform?embedded=true\",\n            width: \"100%\",\n            height: \"500\",\n            style: {\n              border: 'none',\n              borderRadius: '10px'\n            },\n            title: \"Registration Form\",\n            children: \"Loading\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '20px',\n              display: 'flex',\n              gap: '15px',\n              justifyContent: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowRegistration(false);\n                setIsPlaying(true);\n                setGameWon(false);\n                setGameAborted(false);\n                setTimeRemaining(45 * 60);\n                setElapsedTime(0);\n                setSolvedPuzzles([]);\n                setCollectedKeys([]);\n              },\n              style: {\n                padding: '15px 40px',\n                fontSize: '18px',\n                background: 'linear-gradient(135deg, #00cc44 0%, #00aa33 100%)',\n                color: '#fff',\n                border: 'none',\n                borderRadius: '10px',\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                boxShadow: '0 4px 15px rgba(0, 204, 68, 0.4)',\n                transition: 'all 0.3s ease',\n                textTransform: 'uppercase',\n                letterSpacing: '2px'\n              },\n              onMouseEnter: e => {\n                const target = e.target;\n                target.style.transform = 'translateY(-2px) scale(1.02)';\n              },\n              onMouseLeave: e => {\n                const target = e.target;\n                target.style.transform = 'translateY(0) scale(1)';\n              },\n              children: \"\\uD83C\\uDFAE Start Game\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1000,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowRegistration(false),\n              style: {\n                padding: '15px 30px',\n                fontSize: '18px',\n                background: '#666',\n                color: '#fff',\n                border: 'none',\n                borderRadius: '10px',\n                cursor: 'pointer',\n                fontWeight: 'bold',\n                transition: 'all 0.3s ease'\n              },\n              onMouseEnter: e => {\n                const target = e.target;\n                target.style.background = '#888';\n              },\n              onMouseLeave: e => {\n                const target = e.target;\n                target.style.background = '#666';\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 999,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 972,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 957,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 855,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Helper function to format time as MM:SS\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Helper to format elapsed time for victory\n  const formatElapsedTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    const ms = Math.floor(seconds % 1 * 100);\n    return `${mins}m ${secs}s ${ms}ms`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      width: '100vw',\n      height: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mountRef,\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1085,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '30px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        padding: '15px 40px',\n        background: timeRemaining < 300 ? 'rgba(255, 50, 50, 0.95)' : 'rgba(255, 255, 255, 0.95)',\n        color: timeRemaining < 300 ? '#fff' : '#4169E1',\n        fontFamily: \"'Courier New', monospace\",\n        fontSize: '36px',\n        fontWeight: 'bold',\n        borderRadius: '15px',\n        border: timeRemaining < 300 ? '3px solid #ff3333' : '3px solid #4169E1',\n        boxShadow: timeRemaining < 300 ? '0 4px 20px rgba(255, 50, 50, 0.5)' : '0 4px 15px rgba(65, 105, 225, 0.3)',\n        pointerEvents: 'none',\n        zIndex: 100\n      },\n      children: [\"\\u23F1 \", formatTime(timeRemaining)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1088,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '30px',\n        right: '30px',\n        padding: '10px',\n        background: 'rgba(255, 255, 255, 0.9)',\n        borderRadius: '10px',\n        border: '3px solid #4169E1',\n        boxShadow: '0 4px 15px rgba(65, 105, 225, 0.3)',\n        pointerEvents: 'none'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#4169E1',\n          fontFamily: \"'Courier New', monospace\",\n          fontSize: '12px',\n          fontWeight: 'bold',\n          marginBottom: '5px',\n          textAlign: 'center'\n        },\n        children: \"MAP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: minimapCanvasRef,\n        style: {\n          border: '2px solid #4169E1',\n          borderRadius: '5px',\n          display: 'block'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#2F4F4F',\n          fontFamily: \"'Courier New', monospace\",\n          fontSize: '10px',\n          marginTop: '5px',\n          textAlign: 'center'\n        },\n        children: \"\\uD83D\\uDD34 You | \\uD83D\\uDFE2 Goal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1111,\n      columnNumber: 7\n    }, this), showInstructions && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        padding: '30px 50px',\n        background: 'rgba(255, 255, 255, 0.95)',\n        color: '#4169E1',\n        fontFamily: \"'Trebuchet MS', sans-serif\",\n        fontSize: '24px',\n        fontWeight: 'bold',\n        borderRadius: '15px',\n        border: '3px solid #4169E1',\n        boxShadow: '0 0 40px rgba(65, 105, 225, 0.4)',\n        textAlign: 'center'\n      },\n      children: \"\\uD83D\\uDDB1\\uFE0F CLICK TO START \\uD83D\\uDDB1\\uFE0F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1159,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '30px',\n        right: '30px',\n        padding: '15px 20px',\n        background: 'rgba(255, 255, 255, 0.9)',\n        color: '#2F4F4F',\n        fontFamily: \"'Courier New', monospace\",\n        fontSize: '14px',\n        borderRadius: '8px',\n        border: '2px solid #4169E1',\n        pointerEvents: 'none',\n        lineHeight: '1.8'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#4169E1'\n          },\n          children: \"W/\\u2191\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1199,\n          columnNumber: 11\n        }, this), \" - Forward\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#4169E1'\n          },\n          children: \"S/\\u2193\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1202,\n          columnNumber: 11\n        }, this), \" - Backward\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#4169E1'\n          },\n          children: \"A/\\u2190\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1205,\n          columnNumber: 11\n        }, this), \" - Left\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#4169E1'\n          },\n          children: \"D/\\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1208,\n          columnNumber: 11\n        }, this), \" - Right\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            color: '#4169E1'\n          },\n          children: \"Mouse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1211,\n          columnNumber: 11\n        }, this), \" - Look\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '5px',\n          fontSize: '12px',\n          color: '#666'\n        },\n        children: \"Click to lock cursor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '30px',\n        left: '30px',\n        padding: '15px 20px',\n        background: 'rgba(255, 255, 255, 0.9)',\n        color: '#2F4F4F',\n        fontFamily: \"'Courier New', monospace\",\n        fontSize: '14px',\n        borderRadius: '8px',\n        border: '2px solid #4169E1',\n        pointerEvents: 'none'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '5px',\n          fontWeight: 'bold',\n          color: '#4169E1'\n        },\n        children: \"\\uD83D\\uDD11 KEYS COLLECTED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [collectedKeys.length, \" / 5 Keys\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '8px',\n          fontSize: '11px',\n          lineHeight: '1.4'\n        },\n        children: collectedKeys.length > 0 ? collectedKeys.map((key, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#00ff88'\n          },\n          children: key\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1243,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#888'\n          },\n          children: \"Solve puzzles to earn keys!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1246,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1240,\n        columnNumber: 9\n      }, this), collectedKeys.length >= 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '8px',\n          color: '#ffd700',\n          fontWeight: 'bold'\n        },\n        children: \"\\uD83D\\uDEAA Final doors unlocked!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1250,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1219,\n      columnNumber: 7\n    }, this), activePuzzle && /*#__PURE__*/_jsxDEV(PuzzleOverlay, {\n      puzzle: activePuzzle,\n      onSolve: keyName => {\n        setSolvedPuzzles(prev => [...prev, activePuzzle.id]);\n        setCollectedKeys(prev => [...prev, keyName]);\n        setActivePuzzle(null);\n      },\n      onClose: () => setActivePuzzle(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1258,\n      columnNumber: 9\n    }, this), gameWon && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        background: 'rgba(0, 0, 0, 0.85)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1000,\n        fontFamily: \"'Trebuchet MS', sans-serif\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '50px 80px',\n          background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(240, 248, 255, 0.98) 100%)',\n          borderRadius: '25px',\n          border: '4px solid #4169E1',\n          boxShadow: '0 0 100px rgba(65, 105, 225, 0.6), 0 0 200px rgba(0, 255, 136, 0.3)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: '64px',\n            margin: '0 0 20px 0',\n            color: '#4169E1',\n            textShadow: '0 0 30px #4169E1',\n            letterSpacing: '4px'\n          },\n          children: \"\\uD83C\\uDFC6 VICTORY! \\uD83C\\uDFC6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1296,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '24px',\n            color: '#2F4F4F',\n            marginBottom: '15px'\n          },\n          children: \"You escaped the maze!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1307,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '20px',\n            color: '#666',\n            marginBottom: '30px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '10px 0'\n            },\n            children: [\"\\u23F1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Time Taken:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1317,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1317,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '42px',\n              color: '#00cc44',\n              fontWeight: 'bold',\n              margin: '10px 0'\n            },\n            children: formatElapsedTime(elapsedTime)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1318,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1310,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            // Open Google Form with prefilled time\n            const timeStr = formatTime(elapsedTime);\n            window.open(`https://docs.google.com/forms/d/e/1FAIpQLSetfH5GhS5QvTRcQDb0y3oBnHKverKQOdk4hvY958GFHZj68A/viewform?usp=pp_url&entry.2039261618=${timeStr}`, '_blank');\n          },\n          style: {\n            padding: '18px 60px',\n            fontSize: '22px',\n            background: 'linear-gradient(135deg, #00cc44 0%, #00aa33 100%)',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '12px',\n            cursor: 'pointer',\n            fontWeight: 'bold',\n            boxShadow: '0 6px 25px rgba(0, 204, 68, 0.4)',\n            transition: 'all 0.3s ease',\n            textTransform: 'uppercase',\n            letterSpacing: '3px'\n          },\n          onMouseEnter: e => {\n            const target = e.target;\n            target.style.transform = 'translateY(-4px) scale(1.05)';\n            target.style.boxShadow = '0 10px 35px rgba(0, 204, 68, 0.6)';\n          },\n          onMouseLeave: e => {\n            const target = e.target;\n            target.style.transform = 'translateY(0) scale(1)';\n            target.style.boxShadow = '0 6px 25px rgba(0, 204, 68, 0.4)';\n          },\n          children: \"\\u2713 SUBMIT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1329,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1286,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1271,\n      columnNumber: 9\n    }, this), gameAborted && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        background: 'rgba(0, 0, 0, 0.9)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1000,\n        fontFamily: \"'Trebuchet MS', sans-serif\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '50px 80px',\n          background: 'linear-gradient(135deg, rgba(255, 50, 50, 0.98) 0%, rgba(200, 30, 30, 0.98) 100%)',\n          borderRadius: '25px',\n          border: '4px solid #ff3333',\n          boxShadow: '0 0 100px rgba(255, 50, 50, 0.6)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: '56px',\n            margin: '0 0 20px 0',\n            color: '#fff',\n            textShadow: '0 0 30px rgba(0,0,0,0.5)',\n            letterSpacing: '4px'\n          },\n          children: \"\\u23F0 TIME'S UP! \\u23F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1393,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '24px',\n            color: '#ffcccc',\n            marginBottom: '15px'\n          },\n          children: \"You ran out of time!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1404,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '20px',\n            color: '#ffaaaa',\n            marginBottom: '30px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '10px 0'\n            },\n            children: [\"Total Time: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"45:00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1414,\n              columnNumber: 59\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1414,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1407,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            // Open Google Form with prefilled 45:00\n            window.open('https://docs.google.com/forms/d/e/1FAIpQLSedwaApArTj1A0xtfRmh-yy86ap12XF8l1ahMv0vmPxLPKVug/viewform?usp=pp_url&entry.2039261618=45:00', '_blank');\n          },\n          style: {\n            padding: '18px 60px',\n            fontSize: '22px',\n            background: 'linear-gradient(135deg, #fff 0%, #eee 100%)',\n            color: '#cc3333',\n            border: 'none',\n            borderRadius: '12px',\n            cursor: 'pointer',\n            fontWeight: 'bold',\n            boxShadow: '0 6px 25px rgba(255, 255, 255, 0.4)',\n            transition: 'all 0.3s ease',\n            textTransform: 'uppercase',\n            letterSpacing: '3px'\n          },\n          onMouseEnter: e => {\n            const target = e.target;\n            target.style.transform = 'translateY(-4px) scale(1.05)';\n            target.style.boxShadow = '0 10px 35px rgba(255, 255, 255, 0.6)';\n          },\n          onMouseLeave: e => {\n            const target = e.target;\n            target.style.transform = 'translateY(0) scale(1)';\n            target.style.boxShadow = '0 6px 25px rgba(255, 255, 255, 0.4)';\n          },\n          children: \"\\u2713 SUBMIT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1416,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1383,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1368,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1084,\n    columnNumber: 5\n  }, this);\n}\n_s(MazeGame, \"+cZUZwQXbIJ0Hf8SJN6WhOesmAc=\", false, function () {\n  return [useKeyboard];\n});\n_c = MazeGame;\nvar _c;\n$RefreshReg$(_c, \"MazeGame\");","map":{"version":3,"names":["useEffect","useRef","useState","THREE","useKeyboard","puzzles","PuzzleOverlay","jsxDEV","_jsxDEV","MazeGame","_s","mountRef","minimapCanvasRef","isPlaying","setIsPlaying","gameWon","setGameWon","gameAborted","setGameAborted","showRegistration","setShowRegistration","timeRemaining","setTimeRemaining","elapsedTime","setElapsedTime","showInstructions","setShowInstructions","activePuzzle","setActivePuzzle","solvedPuzzles","setSolvedPuzzles","collectedKeys","setCollectedKeys","solvedPuzzlesRef","collectedKeysRef","setActivePuzzleRef","p","keys","keysRef","headBob","phase","amplitude","current","animationId","scene","Scene","background","Color","fog","Fog","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","set","rotation","order","renderer","WebGLRenderer","antialias","setSize","shadowMap","enabled","type","PCFSoftShadowMap","appendChild","domElement","player","Vector3","Euler","velocity","moveState","up","down","left","right","forward","back","pitchUp","pitchDown","yawLeft","yawRight","height","radius","isLocked","movementSpeed","playerRadius","startTime","Date","now","countdownDuration","maze","ambientLight","AmbientLight","add","sunLight","DirectionalLight","castShadow","shadow","mapSize","width","near","far","top","bottom","fillLight","blockSize","wallHeight","createStoneTexture","canvas","document","createElement","ctx","getContext","fillStyle","fillRect","i","x","Math","random","y","size","brightness","floor","texture","CanvasTexture","wrapS","RepeatWrapping","wrapT","magFilter","NearestFilter","minFilter","createGrassTexture","grassColors","length","repeat","stoneTexture","grassTexture","wallMaterial","MeshStandardMaterial","map","roughness","metalness","floorMaterial","createWallBlocks","wallGroup","Group","puzzleColors","forEach","row","z","cell","wallGeometry","BoxGeometry","wall","Mesh","receiveShadow","puzzleId","gateGeometry","gateMaterial","color","emissive","emissiveIntensity","transparent","opacity","gate","userData","isPuzzleGate","gridX","gridZ","gateLight","PointLight","doorGeometry","doorMaterial","door","isLockedDoor","doorLight","wallBlocks","goal","goalParticles","goalGroup","goalGeometry","OctahedronGeometry","goalMaterial","particleGeometry","BufferGeometry","particleCount","positions","Float32Array","setAttribute","BufferAttribute","particleMaterial","PointsMaterial","Points","goalLight","animateGoal","time","sin","geometry","attributes","array","needsUpdate","intensity","animate","floorGeometry","PlaneGeometry","PI","addDecorations","grassGeometry","ConeGeometry","grassMaterial","grass","isWall","cellValue","includes","checkPuzzleTrigger","checkRadius","dz","dx","checkX","checkZ","gateCenterX","gateCenterZ","distance","sqrt","puzzle","find","id","exitPointerLock","checkCollision","tryMove","deltaX","deltaZ","currentX","currentZ","newX","newZ","checkWin","updateMinimap","cellSize","puzzleGateColors","playerX","playerZ","beginPath","arc","fill","dirX","dirZ","cos","strokeStyle","lineWidth","moveTo","lineTo","stroke","mouseSensitivity","applyRotation","rotationVector","scaleFactor","tmpEulerAngle","setFromQuaternion","quaternion","max","min","setFromEuler","onMouseMove","e","movementX","movementY","onPointerLockChange","pointerLockElement","onClick","requestPointerLock","addEventListener","requestAnimationFrame","elapsed","remaining","cancelAnimationFrame","moveVector","currentKeys","backward","normalize","delta","moveMult","applyQuaternion","worldMoveX","worldMoveZ","copy","movementDistance","bobOffset","groundHeight","traverse","obj","render","onResize","aspect","updateProjectionMatrix","currentMount","removeEventListener","parentNode","removeChild","dispose","child","Array","isArray","material","style","display","alignItems","justifyContent","fontFamily","children","textAlign","padding","borderRadius","border","boxShadow","maxWidth","fontSize","margin","textShadow","letterSpacing","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","cursor","transition","textTransform","onMouseEnter","target","transform","onMouseLeave","marginTop","zIndex","src","title","gap","formatTime","seconds","mins","secs","toString","padStart","formatElapsedTime","ms","ref","pointerEvents","lineHeight","key","onSolve","keyName","prev","onClose","timeStr","open","_c","$RefreshReg$"],"sources":["C:/Users/subha/Downloads/ma/src/components/MazeGame.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport * as THREE from 'three';\r\nimport { useKeyboard } from '../hooks/useKeyboard';\r\nimport { puzzles, Puzzle } from '../data/puzzles';\r\nimport PuzzleOverlay from './PuzzleOverlay';\r\n\r\nexport default function MazeGame() {\r\n  const mountRef = useRef<HTMLDivElement>(null);\r\n  const minimapCanvasRef = useRef<HTMLCanvasElement>(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [gameWon, setGameWon] = useState(false);\r\n  const [gameAborted, setGameAborted] = useState(false); // Time ran out\r\n  const [showRegistration, setShowRegistration] = useState(false); // Registration form\r\n  const [timeRemaining, setTimeRemaining] = useState(45 * 60); // 45 minutes countdown\r\n  const [elapsedTime, setElapsedTime] = useState(0); // Time taken to complete\r\n  const [showInstructions, setShowInstructions] = useState(true);\r\n  const [activePuzzle, setActivePuzzle] = useState<Puzzle | null>(null);\r\n  const [solvedPuzzles, setSolvedPuzzles] = useState<number[]>([]);\r\n  const [collectedKeys, setCollectedKeys] = useState<string[]>([]);\r\n  const solvedPuzzlesRef = useRef<number[]>([]);\r\n  const collectedKeysRef = useRef<string[]>([]);\r\n  const setActivePuzzleRef = useRef<(p: Puzzle | null) => void>((p) => setActivePuzzle(p));\r\n\r\n  // Professional movement hooks\r\n  const keys = useKeyboard();\r\n  const keysRef = useRef(keys);\r\n  const headBob = useRef({ phase: 0, amplitude: 0.02 });\r\n\r\n  // Keep keysRef updated with latest keys\r\n  useEffect(() => {\r\n    keysRef.current = keys;\r\n  }, [keys]);\r\n\r\n  // Keep puzzle refs updated\r\n  useEffect(() => {\r\n    solvedPuzzlesRef.current = solvedPuzzles;\r\n  }, [solvedPuzzles]);\r\n\r\n  // Keep collected keys ref updated\r\n  useEffect(() => {\r\n    collectedKeysRef.current = collectedKeys;\r\n  }, [collectedKeys]);\r\n\r\n  useEffect(() => {\r\n    if (!isPlaying) return;\r\n\r\n    let animationId: number;\r\n    const scene = new THREE.Scene();\r\n    // Morning sky color\r\n    scene.background = new THREE.Color(0x87CEEB);\r\n    scene.fog = new THREE.Fog(0x87CEEB, 10, 50);\r\n\r\n    // Camera - First Person Setup\r\n    const camera = new THREE.PerspectiveCamera(\r\n      75,\r\n      window.innerWidth / window.innerHeight,\r\n      0.1,\r\n      100\r\n    );\r\n\r\n    // Set initial camera position and rotation for first-person view\r\n    camera.position.set(1.5, 0.5, 1.5); // Start at ground level\r\n    camera.rotation.order = 'YXZ'; // Proper rotation order for FPS camera\r\n    camera.rotation.set(0, 0, 0); // Start looking forward (no pitch/yaw)\r\n\r\n    // Renderer\r\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.shadowMap.enabled = true;\r\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n\r\n    if (mountRef.current) {\r\n      mountRef.current.appendChild(renderer.domElement);\r\n    }\r\n\r\n    // Professional player state - based on 3D Maze Master\r\n    const player = {\r\n      position: new THREE.Vector3(1.5, 0.2, 1.5),\r\n      rotation: new THREE.Euler(0, 0, 0, 'YXZ'),\r\n      velocity: new THREE.Vector3(0, 0, 0),\r\n      moveState: {\r\n        up: 0, down: 0, left: 0, right: 0,\r\n        forward: 0, back: 0,\r\n        pitchUp: 0, pitchDown: 0,\r\n        yawLeft: 0, yawRight: 0\r\n      },\r\n      height: 0.3,\r\n      radius: 0.4,\r\n    };\r\n\r\n    // Professional movement constants\r\n    let isLocked = false;\r\n    const movementSpeed = 2.0; // units/second\r\n    const playerRadius = 0.3; // collision radius\r\n    const startTime = Date.now();\r\n    const countdownDuration = 45 * 60; // 45 minutes in seconds\r\n\r\n    // Complex Maze with Dead Ends, Loops, Puzzle Gates and Locked Final Doors (41x41)\r\n    // 0 = path, 1 = wall, 2 = goal, 3-7 = puzzle gates (puzzles 1-5), 8 = locked door (needs all keys)\r\n    const maze = [\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\r\n      [1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1],\r\n      [1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 4, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1],\r\n      [1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 5, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 6, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 7, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 8, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 2, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    ];\r\n\r\n    // Morning lighting\r\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);\r\n    scene.add(ambientLight);\r\n\r\n    // Sun light\r\n    const sunLight = new THREE.DirectionalLight(0xffffff, 1.2);\r\n    sunLight.position.set(10, 20, 10);\r\n    sunLight.castShadow = true;\r\n    sunLight.shadow.mapSize.width = 2048;\r\n    sunLight.shadow.mapSize.height = 2048;\r\n    sunLight.shadow.camera.near = 0.5;\r\n    sunLight.shadow.camera.far = 50;\r\n    sunLight.shadow.camera.left = -20;\r\n    sunLight.shadow.camera.right = 20;\r\n    sunLight.shadow.camera.top = 20;\r\n    sunLight.shadow.camera.bottom = -20;\r\n    scene.add(sunLight);\r\n\r\n    // Soft fill light\r\n    const fillLight = new THREE.DirectionalLight(0x87CEEB, 0.4);\r\n    fillLight.position.set(-5, 10, -5);\r\n    scene.add(fillLight);\r\n\r\n    // Perfect 3D Block System - Minecraft Style\r\n    const blockSize = 1;\r\n    const wallHeight = 2.5;\r\n\r\n    // Create perfect stone brick texture\r\n    const createStoneTexture = () => {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = 64;\r\n      canvas.height = 64;\r\n      const ctx = canvas.getContext('2d')!;\r\n\r\n      // Stone base color\r\n      ctx.fillStyle = '#696969';\r\n      ctx.fillRect(0, 0, 64, 64);\r\n\r\n      // Add stone texture details\r\n      for (let i = 0; i < 100; i++) {\r\n        const x = Math.random() * 64;\r\n        const y = Math.random() * 64;\r\n        const size = Math.random() * 2 + 1;\r\n        const brightness = Math.random() * 0.3 + 0.7;\r\n\r\n        ctx.fillStyle = `rgb(${Math.floor(105 * brightness)}, ${Math.floor(105 * brightness)}, ${Math.floor(105 * brightness)})`;\r\n        ctx.fillRect(x, y, size, size);\r\n      }\r\n\r\n      // Add some darker spots\r\n      for (let i = 0; i < 50; i++) {\r\n        const x = Math.random() * 64;\r\n        const y = Math.random() * 64;\r\n        const size = Math.random() * 3 + 1;\r\n\r\n        ctx.fillStyle = '#555555';\r\n        ctx.fillRect(x, y, size, size);\r\n      }\r\n\r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      texture.wrapS = THREE.RepeatWrapping;\r\n      texture.wrapT = THREE.RepeatWrapping;\r\n      texture.magFilter = THREE.NearestFilter;\r\n      texture.minFilter = THREE.NearestFilter;\r\n      return texture;\r\n    };\r\n\r\n    // Create perfect grass texture\r\n    const createGrassTexture = () => {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = 64;\r\n      canvas.height = 64;\r\n      const ctx = canvas.getContext('2d')!;\r\n\r\n      // Grass base color\r\n      ctx.fillStyle = '#228B22';\r\n      ctx.fillRect(0, 0, 64, 64);\r\n\r\n      // Add grass blade details\r\n      for (let i = 0; i < 150; i++) {\r\n        const x = Math.random() * 64;\r\n        const y = Math.random() * 64;\r\n        const size = Math.random() * 2 + 1;\r\n\r\n        const grassColors = ['#32CD32', '#228B22', '#006400', '#90EE90'];\r\n        ctx.fillStyle = grassColors[Math.floor(Math.random() * grassColors.length)];\r\n        ctx.fillRect(x, y, size, size);\r\n      }\r\n\r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      texture.wrapS = THREE.RepeatWrapping;\r\n      texture.wrapT = THREE.RepeatWrapping;\r\n      texture.repeat.set(8, 8);\r\n      texture.magFilter = THREE.NearestFilter;\r\n      texture.minFilter = THREE.NearestFilter;\r\n      return texture;\r\n    };\r\n\r\n    // Create materials\r\n    const stoneTexture = createStoneTexture();\r\n    const grassTexture = createGrassTexture();\r\n\r\n    const wallMaterial = new THREE.MeshStandardMaterial({\r\n      map: stoneTexture,\r\n      roughness: 0.9,\r\n      metalness: 0.0,\r\n    });\r\n\r\n    const floorMaterial = new THREE.MeshStandardMaterial({\r\n      map: grassTexture,\r\n      roughness: 0.8,\r\n      metalness: 0.0,\r\n    });\r\n\r\n    // Create individual wall blocks for perfect placement\r\n    const createWallBlocks = () => {\r\n      const wallGroup = new THREE.Group();\r\n\r\n      // Puzzle gate colors (different color for each puzzle)\r\n      const puzzleColors = [\r\n        0xff4444, // Puzzle 1 - Red\r\n        0xff8800, // Puzzle 2 - Orange\r\n        0xffff00, // Puzzle 3 - Yellow\r\n        0x00aaff, // Puzzle 4 - Blue\r\n        0xff00ff, // Puzzle 5 - Purple\r\n      ];\r\n\r\n      maze.forEach((row, z) => {\r\n        row.forEach((cell, x) => {\r\n          if (cell === 1) {\r\n            // Create individual wall block\r\n            const wallGeometry = new THREE.BoxGeometry(blockSize, wallHeight, blockSize);\r\n            const wall = new THREE.Mesh(wallGeometry, wallMaterial);\r\n\r\n            // Position centered in grid cell\r\n            wall.position.set(x + 0.5, wallHeight / 2, z + 0.5);\r\n            wall.castShadow = true;\r\n            wall.receiveShadow = true;\r\n\r\n            wallGroup.add(wall);\r\n          } else if (cell >= 3 && cell <= 7) {\r\n            // Puzzle gate - glowing door\r\n            const puzzleId = cell - 2; // 3->1, 4->2, 5->3, 6->4, 7->5\r\n            const gateGeometry = new THREE.BoxGeometry(blockSize, wallHeight, blockSize);\r\n            const gateMaterial = new THREE.MeshStandardMaterial({\r\n              color: puzzleColors[puzzleId - 1],\r\n              emissive: puzzleColors[puzzleId - 1],\r\n              emissiveIntensity: 0.5,\r\n              transparent: true,\r\n              opacity: 0.85,\r\n              metalness: 0.3,\r\n              roughness: 0.4,\r\n            });\r\n            const gate = new THREE.Mesh(gateGeometry, gateMaterial);\r\n            gate.position.set(x + 0.5, wallHeight / 2, z + 0.5);\r\n            gate.castShadow = true;\r\n            gate.receiveShadow = true;\r\n            gate.userData = { isPuzzleGate: true, puzzleId: puzzleId, gridX: x, gridZ: z };\r\n            wallGroup.add(gate);\r\n\r\n            // Add light for puzzle gate\r\n            const gateLight = new THREE.PointLight(puzzleColors[puzzleId - 1], 1, 5);\r\n            gateLight.position.set(x + 0.5, 1.5, z + 0.5);\r\n            wallGroup.add(gateLight);\r\n          } else if (cell === 8) {\r\n            // Locked final door - requires all 5 keys\r\n            const doorGeometry = new THREE.BoxGeometry(blockSize, wallHeight, blockSize);\r\n            const doorMaterial = new THREE.MeshStandardMaterial({\r\n              color: 0xffd700, // Gold\r\n              emissive: 0xffd700,\r\n              emissiveIntensity: 0.7,\r\n              transparent: true,\r\n              opacity: 0.9,\r\n              metalness: 0.6,\r\n              roughness: 0.2,\r\n            });\r\n            const door = new THREE.Mesh(doorGeometry, doorMaterial);\r\n            door.position.set(x + 0.5, wallHeight / 2, z + 0.5);\r\n            door.castShadow = true;\r\n            door.receiveShadow = true;\r\n            door.userData = { isLockedDoor: true, gridX: x, gridZ: z };\r\n            wallGroup.add(door);\r\n\r\n            // Add golden light for locked door\r\n            const doorLight = new THREE.PointLight(0xffd700, 2, 6);\r\n            doorLight.position.set(x + 0.5, 1.5, z + 0.5);\r\n            wallGroup.add(doorLight);\r\n          }\r\n        });\r\n      });\r\n\r\n      return wallGroup;\r\n    };\r\n\r\n    // Add perfect wall blocks to scene\r\n    const wallBlocks = createWallBlocks();\r\n    scene.add(wallBlocks);\r\n\r\n    // Create goal with advanced effects\r\n    let goal: THREE.Mesh;\r\n    let goalParticles: THREE.Points;\r\n\r\n    maze.forEach((row, z) => {\r\n      row.forEach((cell, x) => {\r\n        if (cell === 2) {\r\n          // Advanced goal design\r\n          const goalGroup = new THREE.Group();\r\n\r\n          // Main goal crystal\r\n          const goalGeometry = new THREE.OctahedronGeometry(0.4, 2);\r\n          const goalMaterial = new THREE.MeshStandardMaterial({\r\n            color: 0x00ff44,\r\n            emissive: 0x00ff44,\r\n            emissiveIntensity: 0.6,\r\n            transparent: true,\r\n            opacity: 0.8,\r\n            roughness: 0.1,\r\n            metalness: 0.3,\r\n          });\r\n          goal = new THREE.Mesh(goalGeometry, goalMaterial);\r\n          goal.position.set(0, 1, 0);\r\n          goalGroup.add(goal);\r\n\r\n          // Particle system for goal\r\n          const particleGeometry = new THREE.BufferGeometry();\r\n          const particleCount = 50;\r\n          const positions = new Float32Array(particleCount * 3);\r\n\r\n          for (let i = 0; i < particleCount * 3; i += 3) {\r\n            positions[i] = (Math.random() - 0.5) * 2;\r\n            positions[i + 1] = Math.random() * 2;\r\n            positions[i + 2] = (Math.random() - 0.5) * 2;\r\n          }\r\n\r\n          particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\r\n\r\n          const particleMaterial = new THREE.PointsMaterial({\r\n            color: 0x00ff44,\r\n            size: 0.05,\r\n            transparent: true,\r\n            opacity: 0.8,\r\n          });\r\n\r\n          goalParticles = new THREE.Points(particleGeometry, particleMaterial);\r\n          goalGroup.add(goalParticles);\r\n\r\n          // Goal light with better settings\r\n          const goalLight = new THREE.PointLight(0x00ff44, 2, 10);\r\n          goalLight.position.set(0, 1, 0);\r\n          goalLight.castShadow = true;\r\n          goalLight.shadow.mapSize.width = 512;\r\n          goalLight.shadow.mapSize.height = 512;\r\n          goalGroup.add(goalLight);\r\n\r\n          // Position goal group centered in cell\r\n          goalGroup.position.set(x + 0.5, 0, z + 0.5);\r\n          scene.add(goalGroup);\r\n\r\n          // Enhanced goal animation\r\n          const animateGoal = () => {\r\n            const time = Date.now() * 0.001;\r\n\r\n            // Rotate crystal\r\n            goal.rotation.y += 0.02;\r\n            goal.rotation.x = Math.sin(time) * 0.1;\r\n\r\n            // Float up and down\r\n            goal.position.y = 1 + Math.sin(time * 2) * 0.2;\r\n\r\n            // Animate particles\r\n            const positions = goalParticles.geometry.attributes.position.array as Float32Array;\r\n            for (let i = 1; i < positions.length; i += 3) {\r\n              positions[i] += 0.01;\r\n              if (positions[i] > 3) {\r\n                positions[i] = 0;\r\n              }\r\n            }\r\n            goalParticles.geometry.attributes.position.needsUpdate = true;\r\n\r\n            // Pulse light intensity\r\n            goalLight.intensity = 2 + Math.sin(time * 3) * 0.5;\r\n          };\r\n          (goal as any).userData.animate = animateGoal;\r\n        }\r\n      });\r\n    });\r\n\r\n    // Floor covering entire maze area\r\n    const floorGeometry = new THREE.PlaneGeometry(maze[0].length, maze.length);\r\n    const floor = new THREE.Mesh(floorGeometry, floorMaterial);\r\n    floor.rotation.x = -Math.PI / 2;\r\n    floor.position.set(maze[0].length / 2, 0, maze.length / 2); // Center floor on maze grid\r\n    floor.receiveShadow = true;\r\n    scene.add(floor);\r\n\r\n    // Add some decorative elements\r\n    const addDecorations = () => {\r\n      maze.forEach((row, z) => {\r\n        row.forEach((cell, x) => {\r\n          if (cell === 0 && Math.random() > 0.95) {\r\n            // Add small grass tufts\r\n            const grassGeometry = new THREE.ConeGeometry(0.05, 0.2, 6);\r\n            const grassMaterial = new THREE.MeshStandardMaterial({\r\n              color: 0x228B22,\r\n              roughness: 0.9,\r\n            });\r\n            const grass = new THREE.Mesh(grassGeometry, grassMaterial);\r\n            grass.position.set(\r\n              x + 0.5 + (Math.random() - 0.5) * 0.8,\r\n              0.1,\r\n              z + 0.5 + (Math.random() - 0.5) * 0.8\r\n            );\r\n            grass.castShadow = true;\r\n            scene.add(grass);\r\n          }\r\n        });\r\n      });\r\n    };\r\n\r\n    addDecorations();\r\n\r\n    // Simple and reliable grid-based collision detection\r\n    const isWall = (x: number, z: number): boolean => {\r\n      const gridX = Math.floor(x);\r\n      const gridZ = Math.floor(z);\r\n\r\n      // Out of bounds = wall\r\n      if (gridX < 0 || gridX >= maze[0].length || gridZ < 0 || gridZ >= maze.length) {\r\n        return true;\r\n      }\r\n\r\n      const cellValue = maze[gridZ][gridX];\r\n\r\n      // Regular wall\r\n      if (cellValue === 1) return true;\r\n\r\n      // Puzzle gate (3-7) - check if solved\r\n      if (cellValue >= 3 && cellValue <= 7) {\r\n        const puzzleId = cellValue - 2;\r\n        return !solvedPuzzlesRef.current.includes(puzzleId);\r\n      }\r\n\r\n      // Locked door (8) - requires all 5 keys\r\n      if (cellValue === 8) {\r\n        return collectedKeysRef.current.length < 5;\r\n      }\r\n\r\n      return false;\r\n    };\r\n\r\n    // Check if player is near a puzzle gate\r\n    const checkPuzzleTrigger = (x: number, z: number) => {\r\n      const gridX = Math.floor(x);\r\n      const gridZ = Math.floor(z);\r\n\r\n      // Check surrounding cells for puzzle gates\r\n      const checkRadius = 1;\r\n      for (let dz = -checkRadius; dz <= checkRadius; dz++) {\r\n        for (let dx = -checkRadius; dx <= checkRadius; dx++) {\r\n          const checkX = gridX + dx;\r\n          const checkZ = gridZ + dz;\r\n\r\n          if (checkX >= 0 && checkX < maze[0].length && checkZ >= 0 && checkZ < maze.length) {\r\n            const cellValue = maze[checkZ][checkX];\r\n            if (cellValue >= 3 && cellValue <= 7) {\r\n              const puzzleId = cellValue - 2;\r\n              if (!solvedPuzzlesRef.current.includes(puzzleId)) {\r\n                // Calculate distance to gate center\r\n                const gateCenterX = checkX + 0.5;\r\n                const gateCenterZ = checkZ + 0.5;\r\n                const distance = Math.sqrt((x - gateCenterX) ** 2 + (z - gateCenterZ) ** 2);\r\n\r\n                if (distance < 1.5) {\r\n                  // Trigger puzzle\r\n                  const puzzle = puzzles.find(p => p.id === puzzleId);\r\n                  if (puzzle) {\r\n                    setActivePuzzleRef.current(puzzle);\r\n                    document.exitPointerLock();\r\n                  }\r\n                  return;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    // Check collision at position with player radius\r\n    const checkCollision = (x: number, z: number): boolean => {\r\n      // Check 4 corners of player bounding box\r\n      return (\r\n        isWall(x - playerRadius, z - playerRadius) ||\r\n        isWall(x + playerRadius, z - playerRadius) ||\r\n        isWall(x - playerRadius, z + playerRadius) ||\r\n        isWall(x + playerRadius, z + playerRadius)\r\n      );\r\n    };\r\n\r\n    // Try to move and handle collision with wall sliding\r\n    const tryMove = (deltaX: number, deltaZ: number) => {\r\n      const currentX = camera.position.x;\r\n      const currentZ = camera.position.z;\r\n\r\n      // Try full movement first\r\n      const newX = currentX + deltaX;\r\n      const newZ = currentZ + deltaZ;\r\n\r\n      if (!checkCollision(newX, newZ)) {\r\n        camera.position.x = newX;\r\n        camera.position.z = newZ;\r\n        return;\r\n      }\r\n\r\n      // Try X movement only (wall sliding)\r\n      if (!checkCollision(newX, currentZ)) {\r\n        camera.position.x = newX;\r\n      }\r\n\r\n      // Try Z movement only (wall sliding)\r\n      if (!checkCollision(camera.position.x, newZ)) {\r\n        camera.position.z = newZ;\r\n      }\r\n    };\r\n\r\n    // Check win condition using simple grid coordinates\r\n    const checkWin = () => {\r\n      const gridX = Math.floor(camera.position.x);\r\n      const gridZ = Math.floor(camera.position.z);\r\n\r\n      // Check if we're at the goal position\r\n      if (gridX >= 0 && gridX < 15 && gridZ >= 0 && gridZ < 15) {\r\n        return maze[gridZ][gridX] === 2;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    // Minimap functionality\r\n    const updateMinimap = () => {\r\n      const canvas = minimapCanvasRef.current;\r\n      if (!canvas) return;\r\n\r\n      const ctx = canvas.getContext('2d');\r\n      if (!ctx) return;\r\n\r\n      const cellSize = 8;\r\n      canvas.width = maze[0].length * cellSize;\r\n      canvas.height = maze.length * cellSize;\r\n\r\n      // Clear canvas\r\n      ctx.fillStyle = '#87CEEB';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n      // Puzzle gate colors for minimap\r\n      const puzzleGateColors = ['#ff4444', '#ff8800', '#ffff00', '#00aaff', '#ff00ff'];\r\n\r\n      // Draw maze\r\n      maze.forEach((row, z) => {\r\n        row.forEach((cell, x) => {\r\n          if (cell === 1) {\r\n            // Wall\r\n            ctx.fillStyle = '#8B4513';\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          } else if (cell === 2) {\r\n            // Goal\r\n            ctx.fillStyle = '#00FF00';\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          } else if (cell >= 3 && cell <= 7) {\r\n            // Puzzle gate\r\n            const puzzleId = cell - 2;\r\n            if (solvedPuzzlesRef.current.includes(puzzleId)) {\r\n              // Solved - show as path\r\n              ctx.fillStyle = '#90EE90';\r\n            } else {\r\n              // Unsolved - show gate color\r\n              ctx.fillStyle = puzzleGateColors[puzzleId - 1];\r\n            }\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          } else if (cell === 8) {\r\n            // Locked door\r\n            if (collectedKeysRef.current.length >= 5) {\r\n              // Unlocked - show as path\r\n              ctx.fillStyle = '#90EE90';\r\n            } else {\r\n              // Locked - show as gold\r\n              ctx.fillStyle = '#FFD700';\r\n            }\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          } else {\r\n            // Path\r\n            ctx.fillStyle = '#90EE90';\r\n            ctx.fillRect(x * cellSize, z * cellSize, cellSize, cellSize);\r\n          }\r\n        });\r\n      });\r\n\r\n      // Draw player using simple grid coordinates\r\n      const playerX = camera.position.x * cellSize;\r\n      const playerZ = camera.position.z * cellSize;\r\n\r\n      ctx.fillStyle = '#FF0000';\r\n      ctx.beginPath();\r\n      ctx.arc(playerX, playerZ, cellSize / 3, 0, 2 * Math.PI);\r\n      ctx.fill();\r\n\r\n      // Draw player direction using camera rotation\r\n      const dirX = Math.sin(camera.rotation.y) * cellSize / 2;\r\n      const dirZ = Math.cos(camera.rotation.y) * cellSize / 2;\r\n\r\n      ctx.strokeStyle = '#FF0000';\r\n      ctx.lineWidth = 2;\r\n      ctx.beginPath();\r\n      ctx.moveTo(playerX, playerZ);\r\n      ctx.lineTo(playerX + dirX, playerZ + dirZ);\r\n      ctx.stroke();\r\n    };\r\n\r\n    // Mouse sensitivity constant\r\n    const mouseSensitivity = 0.002;\r\n\r\n    // Professional mouse controls from 3D Maze Master\r\n    const applyRotation = (rotationVector: THREE.Vector3, scaleFactor: number = 1) => {\r\n      const tmpEulerAngle = new THREE.Euler().setFromQuaternion(camera.quaternion, 'YXZ');\r\n\r\n      tmpEulerAngle.y += rotationVector.y * scaleFactor;\r\n      tmpEulerAngle.x += rotationVector.x * scaleFactor;\r\n\r\n      // Clamp pitch to prevent gimbal lock (±88.2°)\r\n      tmpEulerAngle.x = Math.max(-Math.PI * 0.49, Math.min(Math.PI * 0.49, tmpEulerAngle.x));\r\n\r\n      camera.quaternion.setFromEuler(tmpEulerAngle);\r\n      camera.rotation.setFromQuaternion(camera.quaternion, camera.rotation.order);\r\n    };\r\n\r\n    const onMouseMove = (e: MouseEvent) => {\r\n      if (!isLocked) return;\r\n\r\n      const movementX = e.movementX || 0;\r\n      const movementY = e.movementY || 0;\r\n\r\n      const rotationVector = new THREE.Vector3(-movementY, -movementX, 0);\r\n      applyRotation(rotationVector, mouseSensitivity);\r\n    };\r\n\r\n    const onPointerLockChange = () => {\r\n      isLocked = document.pointerLockElement === renderer.domElement;\r\n      if (isLocked) {\r\n        setShowInstructions(false);\r\n      }\r\n    };\r\n\r\n    const onClick = () => {\r\n      if (!isLocked) {\r\n        renderer.domElement.requestPointerLock();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousemove', onMouseMove);\r\n    document.addEventListener('pointerlockchange', onPointerLockChange);\r\n    renderer.domElement.addEventListener('click', onClick);\r\n\r\n    // Animation loop\r\n    const animate = () => {\r\n      animationId = requestAnimationFrame(animate);\r\n\r\n      // Update countdown timer\r\n      const elapsed = (Date.now() - startTime) / 1000;\r\n      setElapsedTime(elapsed);\r\n      const remaining = Math.max(0, countdownDuration - elapsed);\r\n      setTimeRemaining(remaining);\r\n\r\n      // Check if time ran out\r\n      if (remaining <= 0) {\r\n        setGameAborted(true); // Time ran out - game over\r\n        cancelAnimationFrame(animationId);\r\n        document.exitPointerLock();\r\n        return;\r\n      }\r\n\r\n      // 3D Maze Master movement system\r\n      let moveVector = new THREE.Vector3(0, 0, 0);\r\n\r\n      if (isLocked) {\r\n        // Update move state based on keyboard input (using ref to avoid re-renders)\r\n        const currentKeys = keysRef.current;\r\n        player.moveState.forward = currentKeys.forward ? 1 : 0;\r\n        player.moveState.back = currentKeys.backward ? 1 : 0;\r\n        player.moveState.left = currentKeys.left ? 1 : 0;\r\n        player.moveState.right = currentKeys.right ? 1 : 0;\r\n\r\n        // Calculate movement vector in local space\r\n        moveVector = new THREE.Vector3(\r\n          -player.moveState.left + player.moveState.right,\r\n          0, // no vertical movement in maze\r\n          -(player.moveState.forward) + player.moveState.back\r\n        );\r\n\r\n        // Normalize movement vector to prevent faster diagonal movement\r\n        if (moveVector.length() > 1) {\r\n          moveVector.normalize();\r\n        }\r\n\r\n        // Apply movement with proper delta time\r\n        const delta = 1 / 60; // Assume 60fps for consistent movement\r\n        const moveMult = delta * movementSpeed;\r\n\r\n        // Apply movement relative to camera orientation with collision detection\r\n        if (moveVector.length() > 0) {\r\n          // Get camera forward and right vectors (in world space)\r\n          const forward = new THREE.Vector3(0, 0, -1).applyQuaternion(camera.quaternion);\r\n          const right = new THREE.Vector3(1, 0, 0).applyQuaternion(camera.quaternion);\r\n\r\n          // Calculate world-space movement\r\n          const worldMoveX = (right.x * moveVector.x + forward.x * -moveVector.z) * moveMult;\r\n          const worldMoveZ = (right.z * moveVector.x + forward.z * -moveVector.z) * moveMult;\r\n\r\n          // Use collision-safe movement\r\n          tryMove(worldMoveX, worldMoveZ);\r\n\r\n          // Check for puzzle triggers\r\n          checkPuzzleTrigger(camera.position.x, camera.position.z);\r\n        }\r\n\r\n        // Update player position to match camera\r\n        player.position.copy(camera.position);\r\n\r\n        // Update head bob for walking animation\r\n        if (moveVector.length() > 0.001) {\r\n          headBob.current.phase += delta * 8; // Walking speed\r\n        }\r\n      }\r\n\r\n      // Update minimap\r\n      updateMinimap();\r\n\r\n      // Check win condition\r\n      if (checkWin()) {\r\n        setGameWon(true);\r\n        cancelAnimationFrame(animationId);\r\n        document.exitPointerLock();\r\n        return;\r\n      }\r\n\r\n      // Professional first-person camera sync with head bob\r\n      const movementDistance = moveVector.length();\r\n      const bobOffset = movementDistance > 0.001 ? Math.sin(headBob.current.phase) * headBob.current.amplitude * 0.5 : 0;\r\n\r\n      // Maintain ground-level camera height with subtle head bob effect\r\n      const groundHeight = 0.5; // Fixed ground-level camera height\r\n      camera.position.y = groundHeight + bobOffset;\r\n\r\n      // Animate goals\r\n      scene.traverse((obj) => {\r\n        if ((obj as any).userData.animate) {\r\n          (obj as any).userData.animate();\r\n        }\r\n      });\r\n\r\n      renderer.render(scene, camera);\r\n    };\r\n\r\n    animate();\r\n\r\n    // Window resize\r\n    const onResize = () => {\r\n      camera.aspect = window.innerWidth / window.innerHeight;\r\n      camera.updateProjectionMatrix();\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n    };\r\n\r\n    window.addEventListener('resize', onResize);\r\n\r\n    // Store ref for cleanup\r\n    const currentMount = mountRef.current;\r\n\r\n    // Cleanup\r\n    return () => {\r\n      cancelAnimationFrame(animationId);\r\n      document.removeEventListener('mousemove', onMouseMove);\r\n      document.removeEventListener('pointerlockchange', onPointerLockChange);\r\n      window.removeEventListener('resize', onResize);\r\n\r\n      if (currentMount && renderer.domElement.parentNode) {\r\n        currentMount.removeChild(renderer.domElement);\r\n      }\r\n\r\n      renderer.dispose();\r\n\r\n      // Dispose of textures and materials\r\n      stoneTexture.dispose();\r\n      grassTexture.dispose();\r\n      wallMaterial.dispose();\r\n      floorMaterial.dispose();\r\n\r\n      // Dispose of geometries\r\n      floorGeometry.dispose();\r\n\r\n      // Dispose of wall blocks\r\n      wallBlocks.traverse((child) => {\r\n        if (child instanceof THREE.Mesh) {\r\n          child.geometry.dispose();\r\n          if (Array.isArray(child.material)) {\r\n            child.material.forEach(material => material.dispose());\r\n          } else {\r\n            child.material.dispose();\r\n          }\r\n        }\r\n      });\r\n    };\r\n  }, [isPlaying]); // Only restart when play state changes, not on key presses\r\n\r\n  if (!isPlaying) {\r\n    return (\r\n      <div\r\n        style={{\r\n          width: '100vw',\r\n          height: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          background: 'linear-gradient(135deg, #87CEEB 0%, #98FB98 100%)',\r\n          fontFamily: \"'Trebuchet MS', sans-serif\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            textAlign: 'center',\r\n            padding: '50px',\r\n            background: 'rgba(255, 255, 255, 0.95)',\r\n            borderRadius: '20px',\r\n            border: '3px solid #4169E1',\r\n            boxShadow: '0 0 60px rgba(65, 105, 225, 0.4), inset 0 0 40px rgba(255, 255, 255, 0.5)',\r\n            maxWidth: '600px',\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              fontSize: '64px',\r\n              margin: '0 0 10px 0',\r\n              color: '#4169E1',\r\n              textShadow: '0 0 30px #4169E1, 0 0 60px #1E90FF',\r\n              letterSpacing: '4px',\r\n              fontWeight: 'bold',\r\n            }}\r\n          >\r\n            MORNING MAZE\r\n          </h1>\r\n          <p\r\n            style={{\r\n              fontSize: '20px',\r\n              color: '#2F4F4F',\r\n              marginBottom: '40px',\r\n              letterSpacing: '1px',\r\n            }}\r\n          >\r\n            Navigate the sunny garden maze\r\n          </p>\r\n          <button\r\n            onClick={() => {\r\n              setShowRegistration(true); // Show registration form first\r\n            }}\r\n            style={{\r\n              padding: '20px 60px',\r\n              fontSize: '24px',\r\n              background: 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)',\r\n              color: '#fff',\r\n              border: '3px solid #4169E1',\r\n              borderRadius: '12px',\r\n              cursor: 'pointer',\r\n              fontFamily: \"'Trebuchet MS', sans-serif\",\r\n              fontWeight: 'bold',\r\n              boxShadow: '0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)',\r\n              transition: 'all 0.3s ease',\r\n              textTransform: 'uppercase',\r\n              letterSpacing: '2px',\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              const target = e.target as HTMLButtonElement;\r\n              target.style.background = 'linear-gradient(135deg, #1E90FF 0%, #4169E1 100%)';\r\n              target.style.transform = 'translateY(-4px) scale(1.05)';\r\n              target.style.boxShadow = '0 10px 30px rgba(65, 105, 225, 0.5), inset 0 2px 10px rgba(255, 255, 255, 0.3)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              const target = e.target as HTMLButtonElement;\r\n              target.style.background = 'linear-gradient(135deg, #4169E1 0%, #1E90FF 100%)';\r\n              target.style.transform = 'translateY(0) scale(1)';\r\n              target.style.boxShadow = '0 6px 20px rgba(65, 105, 225, 0.3), inset 0 2px 10px rgba(255, 255, 255, 0.2)';\r\n            }}\r\n          >\r\n            Start Game\r\n          </button>\r\n          <div\r\n            style={{\r\n              marginTop: '40px',\r\n              padding: '20px',\r\n              background: 'rgba(255, 255, 255, 0.7)',\r\n              borderRadius: '10px',\r\n              border: '2px solid #4169E1',\r\n            }}\r\n          >\r\n            <p style={{ color: '#2F4F4F', fontSize: '16px', margin: '8px 0' }}>\r\n              <strong style={{ color: '#4169E1' }}>W A S D</strong> or{' '}\r\n              <strong style={{ color: '#4169E1' }}>Arrow Keys</strong> - Move\r\n            </p>\r\n            <p style={{ color: '#2F4F4F', fontSize: '16px', margin: '8px 0' }}>\r\n              <strong style={{ color: '#4169E1' }}>Mouse</strong> - Look around\r\n            </p>\r\n            <p style={{ color: '#2F4F4F', fontSize: '16px', margin: '8px 0' }}>\r\n              <strong style={{ color: '#4169E1' }}>Goal</strong> - Find the glowing green marker!\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Registration Form Overlay - shown on start screen */}\r\n        {showRegistration && (\r\n          <div\r\n            style={{\r\n              position: 'fixed',\r\n              top: 0,\r\n              left: 0,\r\n              width: '100vw',\r\n              height: '100vh',\r\n              background: 'rgba(0, 0, 0, 0.9)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              zIndex: 1000,\r\n              fontFamily: \"'Trebuchet MS', sans-serif\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                textAlign: 'center',\r\n                padding: '30px',\r\n                background: 'rgba(255, 255, 255, 0.98)',\r\n                borderRadius: '20px',\r\n                border: '4px solid #4169E1',\r\n                boxShadow: '0 0 60px rgba(65, 105, 225, 0.5)',\r\n                maxWidth: '700px',\r\n                width: '90%',\r\n              }}\r\n            >\r\n              <h2 style={{ color: '#4169E1', marginBottom: '20px', fontSize: '28px' }}>\r\n                📝 Register to Start\r\n              </h2>\r\n              <p style={{ color: '#666', marginBottom: '20px' }}>\r\n                Please fill out the form below, then click \"Start Game\"\r\n              </p>\r\n              <iframe\r\n                src=\"https://docs.google.com/forms/d/e/1FAIpQLScpaiG3cHfoVUMSBklPvvMOJ2-9Gae-166hsIF6NRfpQXTz8g/viewform?embedded=true\"\r\n                width=\"100%\"\r\n                height=\"500\"\r\n                style={{ border: 'none', borderRadius: '10px' }}\r\n                title=\"Registration Form\"\r\n              >\r\n                Loading…\r\n              </iframe>\r\n              <div style={{ marginTop: '20px', display: 'flex', gap: '15px', justifyContent: 'center' }}>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowRegistration(false);\r\n                    setIsPlaying(true);\r\n                    setGameWon(false);\r\n                    setGameAborted(false);\r\n                    setTimeRemaining(45 * 60);\r\n                    setElapsedTime(0);\r\n                    setSolvedPuzzles([]);\r\n                    setCollectedKeys([]);\r\n                  }}\r\n                  style={{\r\n                    padding: '15px 40px',\r\n                    fontSize: '18px',\r\n                    background: 'linear-gradient(135deg, #00cc44 0%, #00aa33 100%)',\r\n                    color: '#fff',\r\n                    border: 'none',\r\n                    borderRadius: '10px',\r\n                    cursor: 'pointer',\r\n                    fontWeight: 'bold',\r\n                    boxShadow: '0 4px 15px rgba(0, 204, 68, 0.4)',\r\n                    transition: 'all 0.3s ease',\r\n                    textTransform: 'uppercase',\r\n                    letterSpacing: '2px',\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    const target = e.target as HTMLButtonElement;\r\n                    target.style.transform = 'translateY(-2px) scale(1.02)';\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    const target = e.target as HTMLButtonElement;\r\n                    target.style.transform = 'translateY(0) scale(1)';\r\n                  }}\r\n                >\r\n                  🎮 Start Game\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowRegistration(false)}\r\n                  style={{\r\n                    padding: '15px 30px',\r\n                    fontSize: '18px',\r\n                    background: '#666',\r\n                    color: '#fff',\r\n                    border: 'none',\r\n                    borderRadius: '10px',\r\n                    cursor: 'pointer',\r\n                    fontWeight: 'bold',\r\n                    transition: 'all 0.3s ease',\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    const target = e.target as HTMLButtonElement;\r\n                    target.style.background = '#888';\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    const target = e.target as HTMLButtonElement;\r\n                    target.style.background = '#666';\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Helper function to format time as MM:SS\r\n  const formatTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  // Helper to format elapsed time for victory\r\n  const formatElapsedTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    const ms = Math.floor((seconds % 1) * 100);\r\n    return `${mins}m ${secs}s ${ms}ms`;\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative', width: '100vw', height: '100vh' }}>\r\n      <div ref={mountRef} style={{ width: '100%', height: '100%' }} />\r\n\r\n      {/* Countdown Timer - Top Center */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: '30px',\r\n          left: '50%',\r\n          transform: 'translateX(-50%)',\r\n          padding: '15px 40px',\r\n          background: timeRemaining < 300 ? 'rgba(255, 50, 50, 0.95)' : 'rgba(255, 255, 255, 0.95)',\r\n          color: timeRemaining < 300 ? '#fff' : '#4169E1',\r\n          fontFamily: \"'Courier New', monospace\",\r\n          fontSize: '36px',\r\n          fontWeight: 'bold',\r\n          borderRadius: '15px',\r\n          border: timeRemaining < 300 ? '3px solid #ff3333' : '3px solid #4169E1',\r\n          boxShadow: timeRemaining < 300 ? '0 4px 20px rgba(255, 50, 50, 0.5)' : '0 4px 15px rgba(65, 105, 225, 0.3)',\r\n          pointerEvents: 'none',\r\n          zIndex: 100,\r\n        }}\r\n      >\r\n        ⏱ {formatTime(timeRemaining)}\r\n      </div>\r\n\r\n      {/* Minimap */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: '30px',\r\n          right: '30px',\r\n          padding: '10px',\r\n          background: 'rgba(255, 255, 255, 0.9)',\r\n          borderRadius: '10px',\r\n          border: '3px solid #4169E1',\r\n          boxShadow: '0 4px 15px rgba(65, 105, 225, 0.3)',\r\n          pointerEvents: 'none',\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            color: '#4169E1',\r\n            fontFamily: \"'Courier New', monospace\",\r\n            fontSize: '12px',\r\n            fontWeight: 'bold',\r\n            marginBottom: '5px',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          MAP\r\n        </div>\r\n        <canvas\r\n          ref={minimapCanvasRef}\r\n          style={{\r\n            border: '2px solid #4169E1',\r\n            borderRadius: '5px',\r\n            display: 'block',\r\n          }}\r\n        />\r\n        <div\r\n          style={{\r\n            color: '#2F4F4F',\r\n            fontFamily: \"'Courier New', monospace\",\r\n            fontSize: '10px',\r\n            marginTop: '5px',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          🔴 You | 🟢 Goal\r\n        </div>\r\n      </div>\r\n\r\n      {/* Instructions overlay */}\r\n      {showInstructions && (\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            top: '50%',\r\n            left: '50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            padding: '30px 50px',\r\n            background: 'rgba(255, 255, 255, 0.95)',\r\n            color: '#4169E1',\r\n            fontFamily: \"'Trebuchet MS', sans-serif\",\r\n            fontSize: '24px',\r\n            fontWeight: 'bold',\r\n            borderRadius: '15px',\r\n            border: '3px solid #4169E1',\r\n            boxShadow: '0 0 40px rgba(65, 105, 225, 0.4)',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          🖱️ CLICK TO START 🖱️\r\n        </div>\r\n      )}\r\n\r\n      {/* Controls hint */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: '30px',\r\n          right: '30px',\r\n          padding: '15px 20px',\r\n          background: 'rgba(255, 255, 255, 0.9)',\r\n          color: '#2F4F4F',\r\n          fontFamily: \"'Courier New', monospace\",\r\n          fontSize: '14px',\r\n          borderRadius: '8px',\r\n          border: '2px solid #4169E1',\r\n          pointerEvents: 'none',\r\n          lineHeight: '1.8',\r\n        }}\r\n      >\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>W/↑</strong> - Forward\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>S/↓</strong> - Backward\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>A/←</strong> - Left\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>D/→</strong> - Right\r\n        </div>\r\n        <div>\r\n          <strong style={{ color: '#4169E1' }}>Mouse</strong> - Look\r\n        </div>\r\n        <div style={{ marginTop: '5px', fontSize: '12px', color: '#666' }}>\r\n          Click to lock cursor\r\n        </div>\r\n      </div>\r\n\r\n      {/* Puzzle progress indicator */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: '30px',\r\n          left: '30px',\r\n          padding: '15px 20px',\r\n          background: 'rgba(255, 255, 255, 0.9)',\r\n          color: '#2F4F4F',\r\n          fontFamily: \"'Courier New', monospace\",\r\n          fontSize: '14px',\r\n          borderRadius: '8px',\r\n          border: '2px solid #4169E1',\r\n          pointerEvents: 'none',\r\n        }}\r\n      >\r\n        <div style={{ marginBottom: '5px', fontWeight: 'bold', color: '#4169E1' }}>\r\n          🔑 KEYS COLLECTED\r\n        </div>\r\n        <div>\r\n          {collectedKeys.length} / 5 Keys\r\n        </div>\r\n        <div style={{ marginTop: '8px', fontSize: '11px', lineHeight: '1.4' }}>\r\n          {collectedKeys.length > 0 ? (\r\n            collectedKeys.map((key, i) => (\r\n              <div key={i} style={{ color: '#00ff88' }}>{key}</div>\r\n            ))\r\n          ) : (\r\n            <div style={{ color: '#888' }}>Solve puzzles to earn keys!</div>\r\n          )}\r\n        </div>\r\n        {collectedKeys.length >= 5 && (\r\n          <div style={{ marginTop: '8px', color: '#ffd700', fontWeight: 'bold' }}>\r\n            🚪 Final doors unlocked!\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Puzzle overlay */}\r\n      {activePuzzle && (\r\n        <PuzzleOverlay\r\n          puzzle={activePuzzle}\r\n          onSolve={(keyName: string) => {\r\n            setSolvedPuzzles(prev => [...prev, activePuzzle.id]);\r\n            setCollectedKeys(prev => [...prev, keyName]);\r\n            setActivePuzzle(null);\r\n          }}\r\n          onClose={() => setActivePuzzle(null)}\r\n        />\r\n      )}\r\n\r\n      {/* Victory Overlay */}\r\n      {gameWon && (\r\n        <div\r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100vw',\r\n            height: '100vh',\r\n            background: 'rgba(0, 0, 0, 0.85)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            zIndex: 1000,\r\n            fontFamily: \"'Trebuchet MS', sans-serif\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              textAlign: 'center',\r\n              padding: '50px 80px',\r\n              background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(240, 248, 255, 0.98) 100%)',\r\n              borderRadius: '25px',\r\n              border: '4px solid #4169E1',\r\n              boxShadow: '0 0 100px rgba(65, 105, 225, 0.6), 0 0 200px rgba(0, 255, 136, 0.3)',\r\n            }}\r\n          >\r\n            <h1\r\n              style={{\r\n                fontSize: '64px',\r\n                margin: '0 0 20px 0',\r\n                color: '#4169E1',\r\n                textShadow: '0 0 30px #4169E1',\r\n                letterSpacing: '4px',\r\n              }}\r\n            >\r\n              🏆 VICTORY! 🏆\r\n            </h1>\r\n            <p style={{ fontSize: '24px', color: '#2F4F4F', marginBottom: '15px' }}>\r\n              You escaped the maze!\r\n            </p>\r\n            <div\r\n              style={{\r\n                fontSize: '20px',\r\n                color: '#666',\r\n                marginBottom: '30px',\r\n              }}\r\n            >\r\n              <p style={{ margin: '10px 0' }}>⏱ <strong>Time Taken:</strong></p>\r\n              <p\r\n                style={{\r\n                  fontSize: '42px',\r\n                  color: '#00cc44',\r\n                  fontWeight: 'bold',\r\n                  margin: '10px 0',\r\n                }}\r\n              >\r\n                {formatElapsedTime(elapsedTime)}\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => {\r\n                // Open Google Form with prefilled time\r\n                const timeStr = formatTime(elapsedTime);\r\n                window.open(`https://docs.google.com/forms/d/e/1FAIpQLSetfH5GhS5QvTRcQDb0y3oBnHKverKQOdk4hvY958GFHZj68A/viewform?usp=pp_url&entry.2039261618=${timeStr}`, '_blank');\r\n              }}\r\n              style={{\r\n                padding: '18px 60px',\r\n                fontSize: '22px',\r\n                background: 'linear-gradient(135deg, #00cc44 0%, #00aa33 100%)',\r\n                color: '#fff',\r\n                border: 'none',\r\n                borderRadius: '12px',\r\n                cursor: 'pointer',\r\n                fontWeight: 'bold',\r\n                boxShadow: '0 6px 25px rgba(0, 204, 68, 0.4)',\r\n                transition: 'all 0.3s ease',\r\n                textTransform: 'uppercase',\r\n                letterSpacing: '3px',\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                const target = e.target as HTMLButtonElement;\r\n                target.style.transform = 'translateY(-4px) scale(1.05)';\r\n                target.style.boxShadow = '0 10px 35px rgba(0, 204, 68, 0.6)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                const target = e.target as HTMLButtonElement;\r\n                target.style.transform = 'translateY(0) scale(1)';\r\n                target.style.boxShadow = '0 6px 25px rgba(0, 204, 68, 0.4)';\r\n              }}\r\n            >\r\n              ✓ SUBMIT\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Game Aborted Overlay - Time Ran Out */}\r\n      {gameAborted && (\r\n        <div\r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100vw',\r\n            height: '100vh',\r\n            background: 'rgba(0, 0, 0, 0.9)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            zIndex: 1000,\r\n            fontFamily: \"'Trebuchet MS', sans-serif\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              textAlign: 'center',\r\n              padding: '50px 80px',\r\n              background: 'linear-gradient(135deg, rgba(255, 50, 50, 0.98) 0%, rgba(200, 30, 30, 0.98) 100%)',\r\n              borderRadius: '25px',\r\n              border: '4px solid #ff3333',\r\n              boxShadow: '0 0 100px rgba(255, 50, 50, 0.6)',\r\n            }}\r\n          >\r\n            <h1\r\n              style={{\r\n                fontSize: '56px',\r\n                margin: '0 0 20px 0',\r\n                color: '#fff',\r\n                textShadow: '0 0 30px rgba(0,0,0,0.5)',\r\n                letterSpacing: '4px',\r\n              }}\r\n            >\r\n              ⏰ TIME'S UP! ⏰\r\n            </h1>\r\n            <p style={{ fontSize: '24px', color: '#ffcccc', marginBottom: '15px' }}>\r\n              You ran out of time!\r\n            </p>\r\n            <div\r\n              style={{\r\n                fontSize: '20px',\r\n                color: '#ffaaaa',\r\n                marginBottom: '30px',\r\n              }}\r\n            >\r\n              <p style={{ margin: '10px 0' }}>Total Time: <strong>45:00</strong></p>\r\n            </div>\r\n            <button\r\n              onClick={() => {\r\n                // Open Google Form with prefilled 45:00\r\n                window.open('https://docs.google.com/forms/d/e/1FAIpQLSedwaApArTj1A0xtfRmh-yy86ap12XF8l1ahMv0vmPxLPKVug/viewform?usp=pp_url&entry.2039261618=45:00', '_blank');\r\n              }}\r\n              style={{\r\n                padding: '18px 60px',\r\n                fontSize: '22px',\r\n                background: 'linear-gradient(135deg, #fff 0%, #eee 100%)',\r\n                color: '#cc3333',\r\n                border: 'none',\r\n                borderRadius: '12px',\r\n                cursor: 'pointer',\r\n                fontWeight: 'bold',\r\n                boxShadow: '0 6px 25px rgba(255, 255, 255, 0.4)',\r\n                transition: 'all 0.3s ease',\r\n                textTransform: 'uppercase',\r\n                letterSpacing: '3px',\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                const target = e.target as HTMLButtonElement;\r\n                target.style.transform = 'translateY(-4px) scale(1.05)';\r\n                target.style.boxShadow = '0 10px 35px rgba(255, 255, 255, 0.6)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                const target = e.target as HTMLButtonElement;\r\n                target.style.transform = 'translateY(0) scale(1)';\r\n                target.style.boxShadow = '0 6px 25px rgba(255, 255, 255, 0.4)';\r\n              }}\r\n            >\r\n              ✓ SUBMIT\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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E,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC3H,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAC5H;;IAED;IACA,MAAMC,YAAY,GAAG,IAAI3F,KAAK,CAAC4F,YAAY,CAAC,QAAQ,EAAE,GAAG,CAAC;IAC1DnD,KAAK,CAACoD,GAAG,CAACF,YAAY,CAAC;;IAEvB;IACA,MAAMG,QAAQ,GAAG,IAAI9F,KAAK,CAAC+F,gBAAgB,CAAC,QAAQ,EAAE,GAAG,CAAC;IAC1DD,QAAQ,CAAC1C,QAAQ,CAACC,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IACjCyC,QAAQ,CAACE,UAAU,GAAG,IAAI;IAC1BF,QAAQ,CAACG,MAAM,CAACC,OAAO,CAACC,KAAK,GAAG,IAAI;IACpCL,QAAQ,CAACG,MAAM,CAACC,OAAO,CAACjB,MAAM,GAAG,IAAI;IACrCa,QAAQ,CAACG,MAAM,CAAClD,MAAM,CAACqD,IAAI,GAAG,GAAG;IACjCN,QAAQ,CAACG,MAAM,CAAClD,MAAM,CAACsD,GAAG,GAAG,EAAE;IAC/BP,QAAQ,CAACG,MAAM,CAAClD,MAAM,CAAC0B,IAAI,GAAG,CAAC,EAAE;IACjCqB,QAAQ,CAACG,MAAM,CAAClD,MAAM,CAAC2B,KAAK,GAAG,EAAE;IACjCoB,QAAQ,CAACG,MAAM,CAAClD,MAAM,CAACuD,GAAG,GAAG,EAAE;IAC/BR,QAAQ,CAACG,MAAM,CAAClD,MAAM,CAACwD,MAAM,GAAG,CAAC,EAAE;IACnC9D,KAAK,CAACoD,GAAG,CAACC,QAAQ,CAAC;;IAEnB;IACA,MAAMU,SAAS,GAAG,IAAIxG,KAAK,CAAC+F,gBAAgB,CAAC,QAAQ,EAAE,GAAG,CAAC;IAC3DS,SAAS,CAACpD,QAAQ,CAACC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;IAClCZ,KAAK,CAACoD,GAAG,CAACW,SAAS,CAAC;;IAEpB;IACA,MAAMC,SAAS,GAAG,CAAC;IACnB,MAAMC,UAAU,GAAG,GAAG;;IAEtB;IACA,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;MAC/B,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC/CF,MAAM,CAACT,KAAK,GAAG,EAAE;MACjBS,MAAM,CAAC3B,MAAM,GAAG,EAAE;MAClB,MAAM8B,GAAG,GAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAE;;MAEpC;MACAD,GAAG,CAACE,SAAS,GAAG,SAAS;MACzBF,GAAG,CAACG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;;MAE1B;MACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,GAAG,EAAEA,CAAC,EAAE,EAAE;QAC5B,MAAMC,CAAC,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,EAAE;QAC5B,MAAMC,CAAC,GAAGF,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,EAAE;QAC5B,MAAME,IAAI,GAAGH,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;QAClC,MAAMG,UAAU,GAAGJ,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG;QAE5CP,GAAG,CAACE,SAAS,GAAG,OAAOI,IAAI,CAACK,KAAK,CAAC,GAAG,GAAGD,UAAU,CAAC,KAAKJ,IAAI,CAACK,KAAK,CAAC,GAAG,GAAGD,UAAU,CAAC,KAAKJ,IAAI,CAACK,KAAK,CAAC,GAAG,GAAGD,UAAU,CAAC,GAAG;QACxHV,GAAG,CAACG,QAAQ,CAACE,CAAC,EAAEG,CAAC,EAAEC,IAAI,EAAEA,IAAI,CAAC;MAChC;;MAEA;MACA,KAAK,IAAIL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,EAAE,EAAE;QAC3B,MAAMC,CAAC,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,EAAE;QAC5B,MAAMC,CAAC,GAAGF,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,EAAE;QAC5B,MAAME,IAAI,GAAGH,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;QAElCP,GAAG,CAACE,SAAS,GAAG,SAAS;QACzBF,GAAG,CAACG,QAAQ,CAACE,CAAC,EAAEG,CAAC,EAAEC,IAAI,EAAEA,IAAI,CAAC;MAChC;MAEA,MAAMG,OAAO,GAAG,IAAI3H,KAAK,CAAC4H,aAAa,CAAChB,MAAM,CAAC;MAC/Ce,OAAO,CAACE,KAAK,GAAG7H,KAAK,CAAC8H,cAAc;MACpCH,OAAO,CAACI,KAAK,GAAG/H,KAAK,CAAC8H,cAAc;MACpCH,OAAO,CAACK,SAAS,GAAGhI,KAAK,CAACiI,aAAa;MACvCN,OAAO,CAACO,SAAS,GAAGlI,KAAK,CAACiI,aAAa;MACvC,OAAON,OAAO;IAChB,CAAC;;IAED;IACA,MAAMQ,kBAAkB,GAAGA,CAAA,KAAM;MAC/B,MAAMvB,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC/CF,MAAM,CAACT,KAAK,GAAG,EAAE;MACjBS,MAAM,CAAC3B,MAAM,GAAG,EAAE;MAClB,MAAM8B,GAAG,GAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAE;;MAEpC;MACAD,GAAG,CAACE,SAAS,GAAG,SAAS;MACzBF,GAAG,CAACG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;;MAE1B;MACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,GAAG,EAAEA,CAAC,EAAE,EAAE;QAC5B,MAAMC,CAAC,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,EAAE;QAC5B,MAAMC,CAAC,GAAGF,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,EAAE;QAC5B,MAAME,IAAI,GAAGH,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;QAElC,MAAMc,WAAW,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;QAChErB,GAAG,CAACE,SAAS,GAAGmB,WAAW,CAACf,IAAI,CAACK,KAAK,CAACL,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGc,WAAW,CAACC,MAAM,CAAC,CAAC;QAC3EtB,GAAG,CAACG,QAAQ,CAACE,CAAC,EAAEG,CAAC,EAAEC,IAAI,EAAEA,IAAI,CAAC;MAChC;MAEA,MAAMG,OAAO,GAAG,IAAI3H,KAAK,CAAC4H,aAAa,CAAChB,MAAM,CAAC;MAC/Ce,OAAO,CAACE,KAAK,GAAG7H,KAAK,CAAC8H,cAAc;MACpCH,OAAO,CAACI,KAAK,GAAG/H,KAAK,CAAC8H,cAAc;MACpCH,OAAO,CAACW,MAAM,CAACjF,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;MACxBsE,OAAO,CAACK,SAAS,GAAGhI,KAAK,CAACiI,aAAa;MACvCN,OAAO,CAACO,SAAS,GAAGlI,KAAK,CAACiI,aAAa;MACvC,OAAON,OAAO;IAChB,CAAC;;IAED;IACA,MAAMY,YAAY,GAAG5B,kBAAkB,CAAC,CAAC;IACzC,MAAM6B,YAAY,GAAGL,kBAAkB,CAAC,CAAC;IAEzC,MAAMM,YAAY,GAAG,IAAIzI,KAAK,CAAC0I,oBAAoB,CAAC;MAClDC,GAAG,EAAEJ,YAAY;MACjBK,SAAS,EAAE,GAAG;MACdC,SAAS,EAAE;IACb,CAAC,CAAC;IAEF,MAAMC,aAAa,GAAG,IAAI9I,KAAK,CAAC0I,oBAAoB,CAAC;MACnDC,GAAG,EAAEH,YAAY;MACjBI,SAAS,EAAE,GAAG;MACdC,SAAS,EAAE;IACb,CAAC,CAAC;;IAEF;IACA,MAAME,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,MAAMC,SAAS,GAAG,IAAIhJ,KAAK,CAACiJ,KAAK,CAAC,CAAC;;MAEnC;MACA,MAAMC,YAAY,GAAG,CACnB,QAAQ;MAAE;MACV,QAAQ;MAAE;MACV,QAAQ;MAAE;MACV,QAAQ;MAAE;MACV,QAAQ,CAAE;MAAA,CACX;MAEDxD,IAAI,CAACyD,OAAO,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAK;QACvBD,GAAG,CAACD,OAAO,CAAC,CAACG,IAAI,EAAElC,CAAC,KAAK;UACvB,IAAIkC,IAAI,KAAK,CAAC,EAAE;YACd;YACA,MAAMC,YAAY,GAAG,IAAIvJ,KAAK,CAACwJ,WAAW,CAAC/C,SAAS,EAAEC,UAAU,EAAED,SAAS,CAAC;YAC5E,MAAMgD,IAAI,GAAG,IAAIzJ,KAAK,CAAC0J,IAAI,CAACH,YAAY,EAAEd,YAAY,CAAC;;YAEvD;YACAgB,IAAI,CAACrG,QAAQ,CAACC,GAAG,CAAC+D,CAAC,GAAG,GAAG,EAAEV,UAAU,GAAG,CAAC,EAAE2C,CAAC,GAAG,GAAG,CAAC;YACnDI,IAAI,CAACzD,UAAU,GAAG,IAAI;YACtByD,IAAI,CAACE,aAAa,GAAG,IAAI;YAEzBX,SAAS,CAACnD,GAAG,CAAC4D,IAAI,CAAC;UACrB,CAAC,MAAM,IAAIH,IAAI,IAAI,CAAC,IAAIA,IAAI,IAAI,CAAC,EAAE;YACjC;YACA,MAAMM,QAAQ,GAAGN,IAAI,GAAG,CAAC,CAAC,CAAC;YAC3B,MAAMO,YAAY,GAAG,IAAI7J,KAAK,CAACwJ,WAAW,CAAC/C,SAAS,EAAEC,UAAU,EAAED,SAAS,CAAC;YAC5E,MAAMqD,YAAY,GAAG,IAAI9J,KAAK,CAAC0I,oBAAoB,CAAC;cAClDqB,KAAK,EAAEb,YAAY,CAACU,QAAQ,GAAG,CAAC,CAAC;cACjCI,QAAQ,EAAEd,YAAY,CAACU,QAAQ,GAAG,CAAC,CAAC;cACpCK,iBAAiB,EAAE,GAAG;cACtBC,WAAW,EAAE,IAAI;cACjBC,OAAO,EAAE,IAAI;cACbtB,SAAS,EAAE,GAAG;cACdD,SAAS,EAAE;YACb,CAAC,CAAC;YACF,MAAMwB,IAAI,GAAG,IAAIpK,KAAK,CAAC0J,IAAI,CAACG,YAAY,EAAEC,YAAY,CAAC;YACvDM,IAAI,CAAChH,QAAQ,CAACC,GAAG,CAAC+D,CAAC,GAAG,GAAG,EAAEV,UAAU,GAAG,CAAC,EAAE2C,CAAC,GAAG,GAAG,CAAC;YACnDe,IAAI,CAACpE,UAAU,GAAG,IAAI;YACtBoE,IAAI,CAACT,aAAa,GAAG,IAAI;YACzBS,IAAI,CAACC,QAAQ,GAAG;cAAEC,YAAY,EAAE,IAAI;cAAEV,QAAQ,EAAEA,QAAQ;cAAEW,KAAK,EAAEnD,CAAC;cAAEoD,KAAK,EAAEnB;YAAE,CAAC;YAC9EL,SAAS,CAACnD,GAAG,CAACuE,IAAI,CAAC;;YAEnB;YACA,MAAMK,SAAS,GAAG,IAAIzK,KAAK,CAAC0K,UAAU,CAACxB,YAAY,CAACU,QAAQ,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YACxEa,SAAS,CAACrH,QAAQ,CAACC,GAAG,CAAC+D,CAAC,GAAG,GAAG,EAAE,GAAG,EAAEiC,CAAC,GAAG,GAAG,CAAC;YAC7CL,SAAS,CAACnD,GAAG,CAAC4E,SAAS,CAAC;UAC1B,CAAC,MAAM,IAAInB,IAAI,KAAK,CAAC,EAAE;YACrB;YACA,MAAMqB,YAAY,GAAG,IAAI3K,KAAK,CAACwJ,WAAW,CAAC/C,SAAS,EAAEC,UAAU,EAAED,SAAS,CAAC;YAC5E,MAAMmE,YAAY,GAAG,IAAI5K,KAAK,CAAC0I,oBAAoB,CAAC;cAClDqB,KAAK,EAAE,QAAQ;cAAE;cACjBC,QAAQ,EAAE,QAAQ;cAClBC,iBAAiB,EAAE,GAAG;cACtBC,WAAW,EAAE,IAAI;cACjBC,OAAO,EAAE,GAAG;cACZtB,SAAS,EAAE,GAAG;cACdD,SAAS,EAAE;YACb,CAAC,CAAC;YACF,MAAMiC,IAAI,GAAG,IAAI7K,KAAK,CAAC0J,IAAI,CAACiB,YAAY,EAAEC,YAAY,CAAC;YACvDC,IAAI,CAACzH,QAAQ,CAACC,GAAG,CAAC+D,CAAC,GAAG,GAAG,EAAEV,UAAU,GAAG,CAAC,EAAE2C,CAAC,GAAG,GAAG,CAAC;YACnDwB,IAAI,CAAC7E,UAAU,GAAG,IAAI;YACtB6E,IAAI,CAAClB,aAAa,GAAG,IAAI;YACzBkB,IAAI,CAACR,QAAQ,GAAG;cAAES,YAAY,EAAE,IAAI;cAAEP,KAAK,EAAEnD,CAAC;cAAEoD,KAAK,EAAEnB;YAAE,CAAC;YAC1DL,SAAS,CAACnD,GAAG,CAACgF,IAAI,CAAC;;YAEnB;YACA,MAAME,SAAS,GAAG,IAAI/K,KAAK,CAAC0K,UAAU,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;YACtDK,SAAS,CAAC3H,QAAQ,CAACC,GAAG,CAAC+D,CAAC,GAAG,GAAG,EAAE,GAAG,EAAEiC,CAAC,GAAG,GAAG,CAAC;YAC7CL,SAAS,CAACnD,GAAG,CAACkF,SAAS,CAAC;UAC1B;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;MAEF,OAAO/B,SAAS;IAClB,CAAC;;IAED;IACA,MAAMgC,UAAU,GAAGjC,gBAAgB,CAAC,CAAC;IACrCtG,KAAK,CAACoD,GAAG,CAACmF,UAAU,CAAC;;IAErB;IACA,IAAIC,IAAgB;IACpB,IAAIC,aAA2B;IAE/BxF,IAAI,CAACyD,OAAO,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAK;MACvBD,GAAG,CAACD,OAAO,CAAC,CAACG,IAAI,EAAElC,CAAC,KAAK;QACvB,IAAIkC,IAAI,KAAK,CAAC,EAAE;UACd;UACA,MAAM6B,SAAS,GAAG,IAAInL,KAAK,CAACiJ,KAAK,CAAC,CAAC;;UAEnC;UACA,MAAMmC,YAAY,GAAG,IAAIpL,KAAK,CAACqL,kBAAkB,CAAC,GAAG,EAAE,CAAC,CAAC;UACzD,MAAMC,YAAY,GAAG,IAAItL,KAAK,CAAC0I,oBAAoB,CAAC;YAClDqB,KAAK,EAAE,QAAQ;YACfC,QAAQ,EAAE,QAAQ;YAClBC,iBAAiB,EAAE,GAAG;YACtBC,WAAW,EAAE,IAAI;YACjBC,OAAO,EAAE,GAAG;YACZvB,SAAS,EAAE,GAAG;YACdC,SAAS,EAAE;UACb,CAAC,CAAC;UACFoC,IAAI,GAAG,IAAIjL,KAAK,CAAC0J,IAAI,CAAC0B,YAAY,EAAEE,YAAY,CAAC;UACjDL,IAAI,CAAC7H,QAAQ,CAACC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;UAC1B8H,SAAS,CAACtF,GAAG,CAACoF,IAAI,CAAC;;UAEnB;UACA,MAAMM,gBAAgB,GAAG,IAAIvL,KAAK,CAACwL,cAAc,CAAC,CAAC;UACnD,MAAMC,aAAa,GAAG,EAAE;UACxB,MAAMC,SAAS,GAAG,IAAIC,YAAY,CAACF,aAAa,GAAG,CAAC,CAAC;UAErD,KAAK,IAAItE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsE,aAAa,GAAG,CAAC,EAAEtE,CAAC,IAAI,CAAC,EAAE;YAC7CuE,SAAS,CAACvE,CAAC,CAAC,GAAG,CAACE,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;YACxCoE,SAAS,CAACvE,CAAC,GAAG,CAAC,CAAC,GAAGE,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC;YACpCoE,SAAS,CAACvE,CAAC,GAAG,CAAC,CAAC,GAAG,CAACE,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC9C;UAEAiE,gBAAgB,CAACK,YAAY,CAAC,UAAU,EAAE,IAAI5L,KAAK,CAAC6L,eAAe,CAACH,SAAS,EAAE,CAAC,CAAC,CAAC;UAElF,MAAMI,gBAAgB,GAAG,IAAI9L,KAAK,CAAC+L,cAAc,CAAC;YAChDhC,KAAK,EAAE,QAAQ;YACfvC,IAAI,EAAE,IAAI;YACV0C,WAAW,EAAE,IAAI;YACjBC,OAAO,EAAE;UACX,CAAC,CAAC;UAEFe,aAAa,GAAG,IAAIlL,KAAK,CAACgM,MAAM,CAACT,gBAAgB,EAAEO,gBAAgB,CAAC;UACpEX,SAAS,CAACtF,GAAG,CAACqF,aAAa,CAAC;;UAE5B;UACA,MAAMe,SAAS,GAAG,IAAIjM,KAAK,CAAC0K,UAAU,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC;UACvDuB,SAAS,CAAC7I,QAAQ,CAACC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;UAC/B4I,SAAS,CAACjG,UAAU,GAAG,IAAI;UAC3BiG,SAAS,CAAChG,MAAM,CAACC,OAAO,CAACC,KAAK,GAAG,GAAG;UACpC8F,SAAS,CAAChG,MAAM,CAACC,OAAO,CAACjB,MAAM,GAAG,GAAG;UACrCkG,SAAS,CAACtF,GAAG,CAACoG,SAAS,CAAC;;UAExB;UACAd,SAAS,CAAC/H,QAAQ,CAACC,GAAG,CAAC+D,CAAC,GAAG,GAAG,EAAE,CAAC,EAAEiC,CAAC,GAAG,GAAG,CAAC;UAC3C5G,KAAK,CAACoD,GAAG,CAACsF,SAAS,CAAC;;UAEpB;UACA,MAAMe,WAAW,GAAGA,CAAA,KAAM;YACxB,MAAMC,IAAI,GAAG5G,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,KAAK;;YAE/B;YACAyF,IAAI,CAAC3H,QAAQ,CAACiE,CAAC,IAAI,IAAI;YACvB0D,IAAI,CAAC3H,QAAQ,CAAC8D,CAAC,GAAGC,IAAI,CAAC+E,GAAG,CAACD,IAAI,CAAC,GAAG,GAAG;;YAEtC;YACAlB,IAAI,CAAC7H,QAAQ,CAACmE,CAAC,GAAG,CAAC,GAAGF,IAAI,CAAC+E,GAAG,CAACD,IAAI,GAAG,CAAC,CAAC,GAAG,GAAG;;YAE9C;YACA,MAAMT,SAAS,GAAGR,aAAa,CAACmB,QAAQ,CAACC,UAAU,CAAClJ,QAAQ,CAACmJ,KAAqB;YAClF,KAAK,IAAIpF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGuE,SAAS,CAACrD,MAAM,EAAElB,CAAC,IAAI,CAAC,EAAE;cAC5CuE,SAAS,CAACvE,CAAC,CAAC,IAAI,IAAI;cACpB,IAAIuE,SAAS,CAACvE,CAAC,CAAC,GAAG,CAAC,EAAE;gBACpBuE,SAAS,CAACvE,CAAC,CAAC,GAAG,CAAC;cAClB;YACF;YACA+D,aAAa,CAACmB,QAAQ,CAACC,UAAU,CAAClJ,QAAQ,CAACoJ,WAAW,GAAG,IAAI;;YAE7D;YACAP,SAAS,CAACQ,SAAS,GAAG,CAAC,GAAGpF,IAAI,CAAC+E,GAAG,CAACD,IAAI,GAAG,CAAC,CAAC,GAAG,GAAG;UACpD,CAAC;UACAlB,IAAI,CAASZ,QAAQ,CAACqC,OAAO,GAAGR,WAAW;QAC9C;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;;IAEF;IACA,MAAMS,aAAa,GAAG,IAAI3M,KAAK,CAAC4M,aAAa,CAAClH,IAAI,CAAC,CAAC,CAAC,CAAC2C,MAAM,EAAE3C,IAAI,CAAC2C,MAAM,CAAC;IAC1E,MAAMX,KAAK,GAAG,IAAI1H,KAAK,CAAC0J,IAAI,CAACiD,aAAa,EAAE7D,aAAa,CAAC;IAC1DpB,KAAK,CAACpE,QAAQ,CAAC8D,CAAC,GAAG,CAACC,IAAI,CAACwF,EAAE,GAAG,CAAC;IAC/BnF,KAAK,CAACtE,QAAQ,CAACC,GAAG,CAACqC,IAAI,CAAC,CAAC,CAAC,CAAC2C,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE3C,IAAI,CAAC2C,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;IAC5DX,KAAK,CAACiC,aAAa,GAAG,IAAI;IAC1BlH,KAAK,CAACoD,GAAG,CAAC6B,KAAK,CAAC;;IAEhB;IACA,MAAMoF,cAAc,GAAGA,CAAA,KAAM;MAC3BpH,IAAI,CAACyD,OAAO,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAK;QACvBD,GAAG,CAACD,OAAO,CAAC,CAACG,IAAI,EAAElC,CAAC,KAAK;UACvB,IAAIkC,IAAI,KAAK,CAAC,IAAIjC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,IAAI,EAAE;YACtC;YACA,MAAMyF,aAAa,GAAG,IAAI/M,KAAK,CAACgN,YAAY,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;YAC1D,MAAMC,aAAa,GAAG,IAAIjN,KAAK,CAAC0I,oBAAoB,CAAC;cACnDqB,KAAK,EAAE,QAAQ;cACfnB,SAAS,EAAE;YACb,CAAC,CAAC;YACF,MAAMsE,KAAK,GAAG,IAAIlN,KAAK,CAAC0J,IAAI,CAACqD,aAAa,EAAEE,aAAa,CAAC;YAC1DC,KAAK,CAAC9J,QAAQ,CAACC,GAAG,CAChB+D,CAAC,GAAG,GAAG,GAAG,CAACC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,EACrC,GAAG,EACH+B,CAAC,GAAG,GAAG,GAAG,CAAChC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,GACpC,CAAC;YACD4F,KAAK,CAAClH,UAAU,GAAG,IAAI;YACvBvD,KAAK,CAACoD,GAAG,CAACqH,KAAK,CAAC;UAClB;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC;IAEDJ,cAAc,CAAC,CAAC;;IAEhB;IACA,MAAMK,MAAM,GAAGA,CAAC/F,CAAS,EAAEiC,CAAS,KAAc;MAChD,MAAMkB,KAAK,GAAGlD,IAAI,CAACK,KAAK,CAACN,CAAC,CAAC;MAC3B,MAAMoD,KAAK,GAAGnD,IAAI,CAACK,KAAK,CAAC2B,CAAC,CAAC;;MAE3B;MACA,IAAIkB,KAAK,GAAG,CAAC,IAAIA,KAAK,IAAI7E,IAAI,CAAC,CAAC,CAAC,CAAC2C,MAAM,IAAImC,KAAK,GAAG,CAAC,IAAIA,KAAK,IAAI9E,IAAI,CAAC2C,MAAM,EAAE;QAC7E,OAAO,IAAI;MACb;MAEA,MAAM+E,SAAS,GAAG1H,IAAI,CAAC8E,KAAK,CAAC,CAACD,KAAK,CAAC;;MAEpC;MACA,IAAI6C,SAAS,KAAK,CAAC,EAAE,OAAO,IAAI;;MAEhC;MACA,IAAIA,SAAS,IAAI,CAAC,IAAIA,SAAS,IAAI,CAAC,EAAE;QACpC,MAAMxD,QAAQ,GAAGwD,SAAS,GAAG,CAAC;QAC9B,OAAO,CAACtL,gBAAgB,CAACS,OAAO,CAAC8K,QAAQ,CAACzD,QAAQ,CAAC;MACrD;;MAEA;MACA,IAAIwD,SAAS,KAAK,CAAC,EAAE;QACnB,OAAOrL,gBAAgB,CAACQ,OAAO,CAAC8F,MAAM,GAAG,CAAC;MAC5C;MAEA,OAAO,KAAK;IACd,CAAC;;IAED;IACA,MAAMiF,kBAAkB,GAAGA,CAAClG,CAAS,EAAEiC,CAAS,KAAK;MACnD,MAAMkB,KAAK,GAAGlD,IAAI,CAACK,KAAK,CAACN,CAAC,CAAC;MAC3B,MAAMoD,KAAK,GAAGnD,IAAI,CAACK,KAAK,CAAC2B,CAAC,CAAC;;MAE3B;MACA,MAAMkE,WAAW,GAAG,CAAC;MACrB,KAAK,IAAIC,EAAE,GAAG,CAACD,WAAW,EAAEC,EAAE,IAAID,WAAW,EAAEC,EAAE,EAAE,EAAE;QACnD,KAAK,IAAIC,EAAE,GAAG,CAACF,WAAW,EAAEE,EAAE,IAAIF,WAAW,EAAEE,EAAE,EAAE,EAAE;UACnD,MAAMC,MAAM,GAAGnD,KAAK,GAAGkD,EAAE;UACzB,MAAME,MAAM,GAAGnD,KAAK,GAAGgD,EAAE;UAEzB,IAAIE,MAAM,IAAI,CAAC,IAAIA,MAAM,GAAGhI,IAAI,CAAC,CAAC,CAAC,CAAC2C,MAAM,IAAIsF,MAAM,IAAI,CAAC,IAAIA,MAAM,GAAGjI,IAAI,CAAC2C,MAAM,EAAE;YACjF,MAAM+E,SAAS,GAAG1H,IAAI,CAACiI,MAAM,CAAC,CAACD,MAAM,CAAC;YACtC,IAAIN,SAAS,IAAI,CAAC,IAAIA,SAAS,IAAI,CAAC,EAAE;cACpC,MAAMxD,QAAQ,GAAGwD,SAAS,GAAG,CAAC;cAC9B,IAAI,CAACtL,gBAAgB,CAACS,OAAO,CAAC8K,QAAQ,CAACzD,QAAQ,CAAC,EAAE;gBAChD;gBACA,MAAMgE,WAAW,GAAGF,MAAM,GAAG,GAAG;gBAChC,MAAMG,WAAW,GAAGF,MAAM,GAAG,GAAG;gBAChC,MAAMG,QAAQ,GAAGzG,IAAI,CAAC0G,IAAI,CAAC,CAAC3G,CAAC,GAAGwG,WAAW,KAAK,CAAC,GAAG,CAACvE,CAAC,GAAGwE,WAAW,KAAK,CAAC,CAAC;gBAE3E,IAAIC,QAAQ,GAAG,GAAG,EAAE;kBAClB;kBACA,MAAME,MAAM,GAAG9N,OAAO,CAAC+N,IAAI,CAAChM,CAAC,IAAIA,CAAC,CAACiM,EAAE,KAAKtE,QAAQ,CAAC;kBACnD,IAAIoE,MAAM,EAAE;oBACVhM,kBAAkB,CAACO,OAAO,CAACyL,MAAM,CAAC;oBAClCnH,QAAQ,CAACsH,eAAe,CAAC,CAAC;kBAC5B;kBACA;gBACF;cACF;YACF;UACF;QACF;MACF;IACF,CAAC;;IAED;IACA,MAAMC,cAAc,GAAGA,CAAChH,CAAS,EAAEiC,CAAS,KAAc;MACxD;MACA,OACE8D,MAAM,CAAC/F,CAAC,GAAG/B,YAAY,EAAEgE,CAAC,GAAGhE,YAAY,CAAC,IAC1C8H,MAAM,CAAC/F,CAAC,GAAG/B,YAAY,EAAEgE,CAAC,GAAGhE,YAAY,CAAC,IAC1C8H,MAAM,CAAC/F,CAAC,GAAG/B,YAAY,EAAEgE,CAAC,GAAGhE,YAAY,CAAC,IAC1C8H,MAAM,CAAC/F,CAAC,GAAG/B,YAAY,EAAEgE,CAAC,GAAGhE,YAAY,CAAC;IAE9C,CAAC;;IAED;IACA,MAAMgJ,OAAO,GAAGA,CAACC,MAAc,EAAEC,MAAc,KAAK;MAClD,MAAMC,QAAQ,GAAGzL,MAAM,CAACK,QAAQ,CAACgE,CAAC;MAClC,MAAMqH,QAAQ,GAAG1L,MAAM,CAACK,QAAQ,CAACiG,CAAC;;MAElC;MACA,MAAMqF,IAAI,GAAGF,QAAQ,GAAGF,MAAM;MAC9B,MAAMK,IAAI,GAAGF,QAAQ,GAAGF,MAAM;MAE9B,IAAI,CAACH,cAAc,CAACM,IAAI,EAAEC,IAAI,CAAC,EAAE;QAC/B5L,MAAM,CAACK,QAAQ,CAACgE,CAAC,GAAGsH,IAAI;QACxB3L,MAAM,CAACK,QAAQ,CAACiG,CAAC,GAAGsF,IAAI;QACxB;MACF;;MAEA;MACA,IAAI,CAACP,cAAc,CAACM,IAAI,EAAED,QAAQ,CAAC,EAAE;QACnC1L,MAAM,CAACK,QAAQ,CAACgE,CAAC,GAAGsH,IAAI;MAC1B;;MAEA;MACA,IAAI,CAACN,cAAc,CAACrL,MAAM,CAACK,QAAQ,CAACgE,CAAC,EAAEuH,IAAI,CAAC,EAAE;QAC5C5L,MAAM,CAACK,QAAQ,CAACiG,CAAC,GAAGsF,IAAI;MAC1B;IACF,CAAC;;IAED;IACA,MAAMC,QAAQ,GAAGA,CAAA,KAAM;MACrB,MAAMrE,KAAK,GAAGlD,IAAI,CAACK,KAAK,CAAC3E,MAAM,CAACK,QAAQ,CAACgE,CAAC,CAAC;MAC3C,MAAMoD,KAAK,GAAGnD,IAAI,CAACK,KAAK,CAAC3E,MAAM,CAACK,QAAQ,CAACiG,CAAC,CAAC;;MAE3C;MACA,IAAIkB,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAG,EAAE,IAAIC,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAG,EAAE,EAAE;QACxD,OAAO9E,IAAI,CAAC8E,KAAK,CAAC,CAACD,KAAK,CAAC,KAAK,CAAC;MACjC;MACA,OAAO,KAAK;IACd,CAAC;;IAED;IACA,MAAMsE,aAAa,GAAGA,CAAA,KAAM;MAC1B,MAAMjI,MAAM,GAAGnG,gBAAgB,CAAC8B,OAAO;MACvC,IAAI,CAACqE,MAAM,EAAE;MAEb,MAAMG,GAAG,GAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC;MACnC,IAAI,CAACD,GAAG,EAAE;MAEV,MAAM+H,QAAQ,GAAG,CAAC;MAClBlI,MAAM,CAACT,KAAK,GAAGT,IAAI,CAAC,CAAC,CAAC,CAAC2C,MAAM,GAAGyG,QAAQ;MACxClI,MAAM,CAAC3B,MAAM,GAAGS,IAAI,CAAC2C,MAAM,GAAGyG,QAAQ;;MAEtC;MACA/H,GAAG,CAACE,SAAS,GAAG,SAAS;MACzBF,GAAG,CAACG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAEN,MAAM,CAACT,KAAK,EAAES,MAAM,CAAC3B,MAAM,CAAC;;MAE/C;MACA,MAAM8J,gBAAgB,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;;MAEhF;MACArJ,IAAI,CAACyD,OAAO,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAK;QACvBD,GAAG,CAACD,OAAO,CAAC,CAACG,IAAI,EAAElC,CAAC,KAAK;UACvB,IAAIkC,IAAI,KAAK,CAAC,EAAE;YACd;YACAvC,GAAG,CAACE,SAAS,GAAG,SAAS;YACzBF,GAAG,CAACG,QAAQ,CAACE,CAAC,GAAG0H,QAAQ,EAAEzF,CAAC,GAAGyF,QAAQ,EAAEA,QAAQ,EAAEA,QAAQ,CAAC;UAC9D,CAAC,MAAM,IAAIxF,IAAI,KAAK,CAAC,EAAE;YACrB;YACAvC,GAAG,CAACE,SAAS,GAAG,SAAS;YACzBF,GAAG,CAACG,QAAQ,CAACE,CAAC,GAAG0H,QAAQ,EAAEzF,CAAC,GAAGyF,QAAQ,EAAEA,QAAQ,EAAEA,QAAQ,CAAC;UAC9D,CAAC,MAAM,IAAIxF,IAAI,IAAI,CAAC,IAAIA,IAAI,IAAI,CAAC,EAAE;YACjC;YACA,MAAMM,QAAQ,GAAGN,IAAI,GAAG,CAAC;YACzB,IAAIxH,gBAAgB,CAACS,OAAO,CAAC8K,QAAQ,CAACzD,QAAQ,CAAC,EAAE;cAC/C;cACA7C,GAAG,CAACE,SAAS,GAAG,SAAS;YAC3B,CAAC,MAAM;cACL;cACAF,GAAG,CAACE,SAAS,GAAG8H,gBAAgB,CAACnF,QAAQ,GAAG,CAAC,CAAC;YAChD;YACA7C,GAAG,CAACG,QAAQ,CAACE,CAAC,GAAG0H,QAAQ,EAAEzF,CAAC,GAAGyF,QAAQ,EAAEA,QAAQ,EAAEA,QAAQ,CAAC;UAC9D,CAAC,MAAM,IAAIxF,IAAI,KAAK,CAAC,EAAE;YACrB;YACA,IAAIvH,gBAAgB,CAACQ,OAAO,CAAC8F,MAAM,IAAI,CAAC,EAAE;cACxC;cACAtB,GAAG,CAACE,SAAS,GAAG,SAAS;YAC3B,CAAC,MAAM;cACL;cACAF,GAAG,CAACE,SAAS,GAAG,SAAS;YAC3B;YACAF,GAAG,CAACG,QAAQ,CAACE,CAAC,GAAG0H,QAAQ,EAAEzF,CAAC,GAAGyF,QAAQ,EAAEA,QAAQ,EAAEA,QAAQ,CAAC;UAC9D,CAAC,MAAM;YACL;YACA/H,GAAG,CAACE,SAAS,GAAG,SAAS;YACzBF,GAAG,CAACG,QAAQ,CAACE,CAAC,GAAG0H,QAAQ,EAAEzF,CAAC,GAAGyF,QAAQ,EAAEA,QAAQ,EAAEA,QAAQ,CAAC;UAC9D;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;;MAEF;MACA,MAAME,OAAO,GAAGjM,MAAM,CAACK,QAAQ,CAACgE,CAAC,GAAG0H,QAAQ;MAC5C,MAAMG,OAAO,GAAGlM,MAAM,CAACK,QAAQ,CAACiG,CAAC,GAAGyF,QAAQ;MAE5C/H,GAAG,CAACE,SAAS,GAAG,SAAS;MACzBF,GAAG,CAACmI,SAAS,CAAC,CAAC;MACfnI,GAAG,CAACoI,GAAG,CAACH,OAAO,EAAEC,OAAO,EAAEH,QAAQ,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAGzH,IAAI,CAACwF,EAAE,CAAC;MACvD9F,GAAG,CAACqI,IAAI,CAAC,CAAC;;MAEV;MACA,MAAMC,IAAI,GAAGhI,IAAI,CAAC+E,GAAG,CAACrJ,MAAM,CAACO,QAAQ,CAACiE,CAAC,CAAC,GAAGuH,QAAQ,GAAG,CAAC;MACvD,MAAMQ,IAAI,GAAGjI,IAAI,CAACkI,GAAG,CAACxM,MAAM,CAACO,QAAQ,CAACiE,CAAC,CAAC,GAAGuH,QAAQ,GAAG,CAAC;MAEvD/H,GAAG,CAACyI,WAAW,GAAG,SAAS;MAC3BzI,GAAG,CAAC0I,SAAS,GAAG,CAAC;MACjB1I,GAAG,CAACmI,SAAS,CAAC,CAAC;MACfnI,GAAG,CAAC2I,MAAM,CAACV,OAAO,EAAEC,OAAO,CAAC;MAC5BlI,GAAG,CAAC4I,MAAM,CAACX,OAAO,GAAGK,IAAI,EAAEJ,OAAO,GAAGK,IAAI,CAAC;MAC1CvI,GAAG,CAAC6I,MAAM,CAAC,CAAC;IACd,CAAC;;IAED;IACA,MAAMC,gBAAgB,GAAG,KAAK;;IAE9B;IACA,MAAMC,aAAa,GAAGA,CAACC,cAA6B,EAAEC,WAAmB,GAAG,CAAC,KAAK;MAChF,MAAMC,aAAa,GAAG,IAAIjQ,KAAK,CAACoE,KAAK,CAAC,CAAC,CAAC8L,iBAAiB,CAACnN,MAAM,CAACoN,UAAU,EAAE,KAAK,CAAC;MAEnFF,aAAa,CAAC1I,CAAC,IAAIwI,cAAc,CAACxI,CAAC,GAAGyI,WAAW;MACjDC,aAAa,CAAC7I,CAAC,IAAI2I,cAAc,CAAC3I,CAAC,GAAG4I,WAAW;;MAEjD;MACAC,aAAa,CAAC7I,CAAC,GAAGC,IAAI,CAAC+I,GAAG,CAAC,CAAC/I,IAAI,CAACwF,EAAE,GAAG,IAAI,EAAExF,IAAI,CAACgJ,GAAG,CAAChJ,IAAI,CAACwF,EAAE,GAAG,IAAI,EAAEoD,aAAa,CAAC7I,CAAC,CAAC,CAAC;MAEtFrE,MAAM,CAACoN,UAAU,CAACG,YAAY,CAACL,aAAa,CAAC;MAC7ClN,MAAM,CAACO,QAAQ,CAAC4M,iBAAiB,CAACnN,MAAM,CAACoN,UAAU,EAAEpN,MAAM,CAACO,QAAQ,CAACC,KAAK,CAAC;IAC7E,CAAC;IAED,MAAMgN,WAAW,GAAIC,CAAa,IAAK;MACrC,IAAI,CAACrL,QAAQ,EAAE;MAEf,MAAMsL,SAAS,GAAGD,CAAC,CAACC,SAAS,IAAI,CAAC;MAClC,MAAMC,SAAS,GAAGF,CAAC,CAACE,SAAS,IAAI,CAAC;MAElC,MAAMX,cAAc,GAAG,IAAI/P,KAAK,CAACmE,OAAO,CAAC,CAACuM,SAAS,EAAE,CAACD,SAAS,EAAE,CAAC,CAAC;MACnEX,aAAa,CAACC,cAAc,EAAEF,gBAAgB,CAAC;IACjD,CAAC;IAED,MAAMc,mBAAmB,GAAGA,CAAA,KAAM;MAChCxL,QAAQ,GAAG0B,QAAQ,CAAC+J,kBAAkB,KAAKpN,QAAQ,CAACS,UAAU;MAC9D,IAAIkB,QAAQ,EAAE;QACZ5D,mBAAmB,CAAC,KAAK,CAAC;MAC5B;IACF,CAAC;IAED,MAAMsP,OAAO,GAAGA,CAAA,KAAM;MACpB,IAAI,CAAC1L,QAAQ,EAAE;QACb3B,QAAQ,CAACS,UAAU,CAAC6M,kBAAkB,CAAC,CAAC;MAC1C;IACF,CAAC;IAEDjK,QAAQ,CAACkK,gBAAgB,CAAC,WAAW,EAAER,WAAW,CAAC;IACnD1J,QAAQ,CAACkK,gBAAgB,CAAC,mBAAmB,EAAEJ,mBAAmB,CAAC;IACnEnN,QAAQ,CAACS,UAAU,CAAC8M,gBAAgB,CAAC,OAAO,EAAEF,OAAO,CAAC;;IAEtD;IACA,MAAMnE,OAAO,GAAGA,CAAA,KAAM;MACpBlK,WAAW,GAAGwO,qBAAqB,CAACtE,OAAO,CAAC;;MAE5C;MACA,MAAMuE,OAAO,GAAG,CAAC1L,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,SAAS,IAAI,IAAI;MAC/CjE,cAAc,CAAC4P,OAAO,CAAC;MACvB,MAAMC,SAAS,GAAG7J,IAAI,CAAC+I,GAAG,CAAC,CAAC,EAAE3K,iBAAiB,GAAGwL,OAAO,CAAC;MAC1D9P,gBAAgB,CAAC+P,SAAS,CAAC;;MAE3B;MACA,IAAIA,SAAS,IAAI,CAAC,EAAE;QAClBnQ,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;QACtBoQ,oBAAoB,CAAC3O,WAAW,CAAC;QACjCqE,QAAQ,CAACsH,eAAe,CAAC,CAAC;QAC1B;MACF;;MAEA;MACA,IAAIiD,UAAU,GAAG,IAAIpR,KAAK,CAACmE,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;MAE3C,IAAIgB,QAAQ,EAAE;QACZ;QACA,MAAMkM,WAAW,GAAGlP,OAAO,CAACI,OAAO;QACnC2B,MAAM,CAACI,SAAS,CAACK,OAAO,GAAG0M,WAAW,CAAC1M,OAAO,GAAG,CAAC,GAAG,CAAC;QACtDT,MAAM,CAACI,SAAS,CAACM,IAAI,GAAGyM,WAAW,CAACC,QAAQ,GAAG,CAAC,GAAG,CAAC;QACpDpN,MAAM,CAACI,SAAS,CAACG,IAAI,GAAG4M,WAAW,CAAC5M,IAAI,GAAG,CAAC,GAAG,CAAC;QAChDP,MAAM,CAACI,SAAS,CAACI,KAAK,GAAG2M,WAAW,CAAC3M,KAAK,GAAG,CAAC,GAAG,CAAC;;QAElD;QACA0M,UAAU,GAAG,IAAIpR,KAAK,CAACmE,OAAO,CAC5B,CAACD,MAAM,CAACI,SAAS,CAACG,IAAI,GAAGP,MAAM,CAACI,SAAS,CAACI,KAAK,EAC/C,CAAC;QAAE;QACH,CAAER,MAAM,CAACI,SAAS,CAACK,OAAQ,GAAGT,MAAM,CAACI,SAAS,CAACM,IACjD,CAAC;;QAED;QACA,IAAIwM,UAAU,CAAC/I,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE;UAC3B+I,UAAU,CAACG,SAAS,CAAC,CAAC;QACxB;;QAEA;QACA,MAAMC,KAAK,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;QACtB,MAAMC,QAAQ,GAAGD,KAAK,GAAGpM,aAAa;;QAEtC;QACA,IAAIgM,UAAU,CAAC/I,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE;UAC3B;UACA,MAAM1D,OAAO,GAAG,IAAI3E,KAAK,CAACmE,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAACuN,eAAe,CAAC3O,MAAM,CAACoN,UAAU,CAAC;UAC9E,MAAMzL,KAAK,GAAG,IAAI1E,KAAK,CAACmE,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACuN,eAAe,CAAC3O,MAAM,CAACoN,UAAU,CAAC;;UAE3E;UACA,MAAMwB,UAAU,GAAG,CAACjN,KAAK,CAAC0C,CAAC,GAAGgK,UAAU,CAAChK,CAAC,GAAGzC,OAAO,CAACyC,CAAC,GAAG,CAACgK,UAAU,CAAC/H,CAAC,IAAIoI,QAAQ;UAClF,MAAMG,UAAU,GAAG,CAAClN,KAAK,CAAC2E,CAAC,GAAG+H,UAAU,CAAChK,CAAC,GAAGzC,OAAO,CAAC0E,CAAC,GAAG,CAAC+H,UAAU,CAAC/H,CAAC,IAAIoI,QAAQ;;UAElF;UACApD,OAAO,CAACsD,UAAU,EAAEC,UAAU,CAAC;;UAE/B;UACAtE,kBAAkB,CAACvK,MAAM,CAACK,QAAQ,CAACgE,CAAC,EAAErE,MAAM,CAACK,QAAQ,CAACiG,CAAC,CAAC;QAC1D;;QAEA;QACAnF,MAAM,CAACd,QAAQ,CAACyO,IAAI,CAAC9O,MAAM,CAACK,QAAQ,CAAC;;QAErC;QACA,IAAIgO,UAAU,CAAC/I,MAAM,CAAC,CAAC,GAAG,KAAK,EAAE;UAC/BjG,OAAO,CAACG,OAAO,CAACF,KAAK,IAAImP,KAAK,GAAG,CAAC,CAAC,CAAC;QACtC;MACF;;MAEA;MACA3C,aAAa,CAAC,CAAC;;MAEf;MACA,IAAID,QAAQ,CAAC,CAAC,EAAE;QACd/N,UAAU,CAAC,IAAI,CAAC;QAChBsQ,oBAAoB,CAAC3O,WAAW,CAAC;QACjCqE,QAAQ,CAACsH,eAAe,CAAC,CAAC;QAC1B;MACF;;MAEA;MACA,MAAM2D,gBAAgB,GAAGV,UAAU,CAAC/I,MAAM,CAAC,CAAC;MAC5C,MAAM0J,SAAS,GAAGD,gBAAgB,GAAG,KAAK,GAAGzK,IAAI,CAAC+E,GAAG,CAAChK,OAAO,CAACG,OAAO,CAACF,KAAK,CAAC,GAAGD,OAAO,CAACG,OAAO,CAACD,SAAS,GAAG,GAAG,GAAG,CAAC;;MAElH;MACA,MAAM0P,YAAY,GAAG,GAAG,CAAC,CAAC;MAC1BjP,MAAM,CAACK,QAAQ,CAACmE,CAAC,GAAGyK,YAAY,GAAGD,SAAS;;MAE5C;MACAtP,KAAK,CAACwP,QAAQ,CAAEC,GAAG,IAAK;QACtB,IAAKA,GAAG,CAAS7H,QAAQ,CAACqC,OAAO,EAAE;UAChCwF,GAAG,CAAS7H,QAAQ,CAACqC,OAAO,CAAC,CAAC;QACjC;MACF,CAAC,CAAC;MAEFlJ,QAAQ,CAAC2O,MAAM,CAAC1P,KAAK,EAAEM,MAAM,CAAC;IAChC,CAAC;IAED2J,OAAO,CAAC,CAAC;;IAET;IACA,MAAM0F,QAAQ,GAAGA,CAAA,KAAM;MACrBrP,MAAM,CAACsP,MAAM,GAAGpP,MAAM,CAACC,UAAU,GAAGD,MAAM,CAACE,WAAW;MACtDJ,MAAM,CAACuP,sBAAsB,CAAC,CAAC;MAC/B9O,QAAQ,CAACG,OAAO,CAACV,MAAM,CAACC,UAAU,EAAED,MAAM,CAACE,WAAW,CAAC;IACzD,CAAC;IAEDF,MAAM,CAAC8N,gBAAgB,CAAC,QAAQ,EAAEqB,QAAQ,CAAC;;IAE3C;IACA,MAAMG,YAAY,GAAG/R,QAAQ,CAAC+B,OAAO;;IAErC;IACA,OAAO,MAAM;MACX4O,oBAAoB,CAAC3O,WAAW,CAAC;MACjCqE,QAAQ,CAAC2L,mBAAmB,CAAC,WAAW,EAAEjC,WAAW,CAAC;MACtD1J,QAAQ,CAAC2L,mBAAmB,CAAC,mBAAmB,EAAE7B,mBAAmB,CAAC;MACtE1N,MAAM,CAACuP,mBAAmB,CAAC,QAAQ,EAAEJ,QAAQ,CAAC;MAE9C,IAAIG,YAAY,IAAI/O,QAAQ,CAACS,UAAU,CAACwO,UAAU,EAAE;QAClDF,YAAY,CAACG,WAAW,CAAClP,QAAQ,CAACS,UAAU,CAAC;MAC/C;MAEAT,QAAQ,CAACmP,OAAO,CAAC,CAAC;;MAElB;MACApK,YAAY,CAACoK,OAAO,CAAC,CAAC;MACtBnK,YAAY,CAACmK,OAAO,CAAC,CAAC;MACtBlK,YAAY,CAACkK,OAAO,CAAC,CAAC;MACtB7J,aAAa,CAAC6J,OAAO,CAAC,CAAC;;MAEvB;MACAhG,aAAa,CAACgG,OAAO,CAAC,CAAC;;MAEvB;MACA3H,UAAU,CAACiH,QAAQ,CAAEW,KAAK,IAAK;QAC7B,IAAIA,KAAK,YAAY5S,KAAK,CAAC0J,IAAI,EAAE;UAC/BkJ,KAAK,CAACvG,QAAQ,CAACsG,OAAO,CAAC,CAAC;UACxB,IAAIE,KAAK,CAACC,OAAO,CAACF,KAAK,CAACG,QAAQ,CAAC,EAAE;YACjCH,KAAK,CAACG,QAAQ,CAAC5J,OAAO,CAAC4J,QAAQ,IAAIA,QAAQ,CAACJ,OAAO,CAAC,CAAC,CAAC;UACxD,CAAC,MAAM;YACLC,KAAK,CAACG,QAAQ,CAACJ,OAAO,CAAC,CAAC;UAC1B;QACF;MACF,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,CAACjS,SAAS,CAAC,CAAC,CAAC,CAAC;;EAEjB,IAAI,CAACA,SAAS,EAAE;IACd,oBACEL,OAAA;MACE2S,KAAK,EAAE;QACL7M,KAAK,EAAE,OAAO;QACdlB,MAAM,EAAE,OAAO;QACfgO,OAAO,EAAE,MAAM;QACfC,UAAU,EAAE,QAAQ;QACpBC,cAAc,EAAE,QAAQ;QACxBxQ,UAAU,EAAE,mDAAmD;QAC/DyQ,UAAU,EAAE;MACd,CAAE;MAAAC,QAAA,gBAEFhT,OAAA;QACE2S,KAAK,EAAE;UACLM,SAAS,EAAE,QAAQ;UACnBC,OAAO,EAAE,MAAM;UACf5Q,UAAU,EAAE,2BAA2B;UACvC6Q,YAAY,EAAE,MAAM;UACpBC,MAAM,EAAE,mBAAmB;UAC3BC,SAAS,EAAE,2EAA2E;UACtFC,QAAQ,EAAE;QACZ,CAAE;QAAAN,QAAA,gBAEFhT,OAAA;UACE2S,KAAK,EAAE;YACLY,QAAQ,EAAE,MAAM;YAChBC,MAAM,EAAE,YAAY;YACpB9J,KAAK,EAAE,SAAS;YAChB+J,UAAU,EAAE,oCAAoC;YAChDC,aAAa,EAAE,KAAK;YACpBC,UAAU,EAAE;UACd,CAAE;UAAAX,QAAA,EACH;QAED;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACL/T,OAAA;UACE2S,KAAK,EAAE;YACLY,QAAQ,EAAE,MAAM;YAChB7J,KAAK,EAAE,SAAS;YAChBsK,YAAY,EAAE,MAAM;YACpBN,aAAa,EAAE;UACjB,CAAE;UAAAV,QAAA,EACH;QAED;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ/T,OAAA;UACEwQ,OAAO,EAAEA,CAAA,KAAM;YACb5P,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC;UAC7B,CAAE;UACF+R,KAAK,EAAE;YACLO,OAAO,EAAE,WAAW;YACpBK,QAAQ,EAAE,MAAM;YAChBjR,UAAU,EAAE,mDAAmD;YAC/DoH,KAAK,EAAE,MAAM;YACb0J,MAAM,EAAE,mBAAmB;YAC3BD,YAAY,EAAE,MAAM;YACpBc,MAAM,EAAE,SAAS;YACjBlB,UAAU,EAAE,4BAA4B;YACxCY,UAAU,EAAE,MAAM;YAClBN,SAAS,EAAE,+EAA+E;YAC1Fa,UAAU,EAAE,eAAe;YAC3BC,aAAa,EAAE,WAAW;YAC1BT,aAAa,EAAE;UACjB,CAAE;UACFU,YAAY,EAAGjE,CAAC,IAAK;YACnB,MAAMkE,MAAM,GAAGlE,CAAC,CAACkE,MAA2B;YAC5CA,MAAM,CAAC1B,KAAK,CAACrQ,UAAU,GAAG,mDAAmD;YAC7E+R,MAAM,CAAC1B,KAAK,CAAC2B,SAAS,GAAG,8BAA8B;YACvDD,MAAM,CAAC1B,KAAK,CAACU,SAAS,GAAG,gFAAgF;UAC3G,CAAE;UACFkB,YAAY,EAAGpE,CAAC,IAAK;YACnB,MAAMkE,MAAM,GAAGlE,CAAC,CAACkE,MAA2B;YAC5CA,MAAM,CAAC1B,KAAK,CAACrQ,UAAU,GAAG,mDAAmD;YAC7E+R,MAAM,CAAC1B,KAAK,CAAC2B,SAAS,GAAG,wBAAwB;YACjDD,MAAM,CAAC1B,KAAK,CAACU,SAAS,GAAG,+EAA+E;UAC1G,CAAE;UAAAL,QAAA,EACH;QAED;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT/T,OAAA;UACE2S,KAAK,EAAE;YACL6B,SAAS,EAAE,MAAM;YACjBtB,OAAO,EAAE,MAAM;YACf5Q,UAAU,EAAE,0BAA0B;YACtC6Q,YAAY,EAAE,MAAM;YACpBC,MAAM,EAAE;UACV,CAAE;UAAAJ,QAAA,gBAEFhT,OAAA;YAAG2S,KAAK,EAAE;cAAEjJ,KAAK,EAAE,SAAS;cAAE6J,QAAQ,EAAE,MAAM;cAAEC,MAAM,EAAE;YAAQ,CAAE;YAAAR,QAAA,gBAChEhT,OAAA;cAAQ2S,KAAK,EAAE;gBAAEjJ,KAAK,EAAE;cAAU,CAAE;cAAAsJ,QAAA,EAAC;YAAO;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,OAAG,EAAC,GAAG,eAC5D/T,OAAA;cAAQ2S,KAAK,EAAE;gBAAEjJ,KAAK,EAAE;cAAU,CAAE;cAAAsJ,QAAA,EAAC;YAAU;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,WAC1D;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJ/T,OAAA;YAAG2S,KAAK,EAAE;cAAEjJ,KAAK,EAAE,SAAS;cAAE6J,QAAQ,EAAE,MAAM;cAAEC,MAAM,EAAE;YAAQ,CAAE;YAAAR,QAAA,gBAChEhT,OAAA;cAAQ2S,KAAK,EAAE;gBAAEjJ,KAAK,EAAE;cAAU,CAAE;cAAAsJ,QAAA,EAAC;YAAK;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,kBACrD;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJ/T,OAAA;YAAG2S,KAAK,EAAE;cAAEjJ,KAAK,EAAE,SAAS;cAAE6J,QAAQ,EAAE,MAAM;cAAEC,MAAM,EAAE;YAAQ,CAAE;YAAAR,QAAA,gBAChEhT,OAAA;cAAQ2S,KAAK,EAAE;gBAAEjJ,KAAK,EAAE;cAAU,CAAE;cAAAsJ,QAAA,EAAC;YAAI;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,qCACpD;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAGLpT,gBAAgB,iBACfX,OAAA;QACE2S,KAAK,EAAE;UACL5P,QAAQ,EAAE,OAAO;UACjBkD,GAAG,EAAE,CAAC;UACN7B,IAAI,EAAE,CAAC;UACP0B,KAAK,EAAE,OAAO;UACdlB,MAAM,EAAE,OAAO;UACftC,UAAU,EAAE,oBAAoB;UAChCsQ,OAAO,EAAE,MAAM;UACfC,UAAU,EAAE,QAAQ;UACpBC,cAAc,EAAE,QAAQ;UACxB2B,MAAM,EAAE,IAAI;UACZ1B,UAAU,EAAE;QACd,CAAE;QAAAC,QAAA,eAEFhT,OAAA;UACE2S,KAAK,EAAE;YACLM,SAAS,EAAE,QAAQ;YACnBC,OAAO,EAAE,MAAM;YACf5Q,UAAU,EAAE,2BAA2B;YACvC6Q,YAAY,EAAE,MAAM;YACpBC,MAAM,EAAE,mBAAmB;YAC3BC,SAAS,EAAE,kCAAkC;YAC7CC,QAAQ,EAAE,OAAO;YACjBxN,KAAK,EAAE;UACT,CAAE;UAAAkN,QAAA,gBAEFhT,OAAA;YAAI2S,KAAK,EAAE;cAAEjJ,KAAK,EAAE,SAAS;cAAEsK,YAAY,EAAE,MAAM;cAAET,QAAQ,EAAE;YAAO,CAAE;YAAAP,QAAA,EAAC;UAEzE;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACL/T,OAAA;YAAG2S,KAAK,EAAE;cAAEjJ,KAAK,EAAE,MAAM;cAAEsK,YAAY,EAAE;YAAO,CAAE;YAAAhB,QAAA,EAAC;UAEnD;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJ/T,OAAA;YACE0U,GAAG,EAAC,mHAAmH;YACvH5O,KAAK,EAAC,MAAM;YACZlB,MAAM,EAAC,KAAK;YACZ+N,KAAK,EAAE;cAAES,MAAM,EAAE,MAAM;cAAED,YAAY,EAAE;YAAO,CAAE;YAChDwB,KAAK,EAAC,mBAAmB;YAAA3B,QAAA,EAC1B;UAED;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT/T,OAAA;YAAK2S,KAAK,EAAE;cAAE6B,SAAS,EAAE,MAAM;cAAE5B,OAAO,EAAE,MAAM;cAAEgC,GAAG,EAAE,MAAM;cAAE9B,cAAc,EAAE;YAAS,CAAE;YAAAE,QAAA,gBACxFhT,OAAA;cACEwQ,OAAO,EAAEA,CAAA,KAAM;gBACb5P,mBAAmB,CAAC,KAAK,CAAC;gBAC1BN,YAAY,CAAC,IAAI,CAAC;gBAClBE,UAAU,CAAC,KAAK,CAAC;gBACjBE,cAAc,CAAC,KAAK,CAAC;gBACrBI,gBAAgB,CAAC,EAAE,GAAG,EAAE,CAAC;gBACzBE,cAAc,CAAC,CAAC,CAAC;gBACjBM,gBAAgB,CAAC,EAAE,CAAC;gBACpBE,gBAAgB,CAAC,EAAE,CAAC;cACtB,CAAE;cACFmR,KAAK,EAAE;gBACLO,OAAO,EAAE,WAAW;gBACpBK,QAAQ,EAAE,MAAM;gBAChBjR,UAAU,EAAE,mDAAmD;gBAC/DoH,KAAK,EAAE,MAAM;gBACb0J,MAAM,EAAE,MAAM;gBACdD,YAAY,EAAE,MAAM;gBACpBc,MAAM,EAAE,SAAS;gBACjBN,UAAU,EAAE,MAAM;gBAClBN,SAAS,EAAE,kCAAkC;gBAC7Ca,UAAU,EAAE,eAAe;gBAC3BC,aAAa,EAAE,WAAW;gBAC1BT,aAAa,EAAE;cACjB,CAAE;cACFU,YAAY,EAAGjE,CAAC,IAAK;gBACnB,MAAMkE,MAAM,GAAGlE,CAAC,CAACkE,MAA2B;gBAC5CA,MAAM,CAAC1B,KAAK,CAAC2B,SAAS,GAAG,8BAA8B;cACzD,CAAE;cACFC,YAAY,EAAGpE,CAAC,IAAK;gBACnB,MAAMkE,MAAM,GAAGlE,CAAC,CAACkE,MAA2B;gBAC5CA,MAAM,CAAC1B,KAAK,CAAC2B,SAAS,GAAG,wBAAwB;cACnD,CAAE;cAAAtB,QAAA,EACH;YAED;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT/T,OAAA;cACEwQ,OAAO,EAAEA,CAAA,KAAM5P,mBAAmB,CAAC,KAAK,CAAE;cAC1C+R,KAAK,EAAE;gBACLO,OAAO,EAAE,WAAW;gBACpBK,QAAQ,EAAE,MAAM;gBAChBjR,UAAU,EAAE,MAAM;gBAClBoH,KAAK,EAAE,MAAM;gBACb0J,MAAM,EAAE,MAAM;gBACdD,YAAY,EAAE,MAAM;gBACpBc,MAAM,EAAE,SAAS;gBACjBN,UAAU,EAAE,MAAM;gBAClBO,UAAU,EAAE;cACd,CAAE;cACFE,YAAY,EAAGjE,CAAC,IAAK;gBACnB,MAAMkE,MAAM,GAAGlE,CAAC,CAACkE,MAA2B;gBAC5CA,MAAM,CAAC1B,KAAK,CAACrQ,UAAU,GAAG,MAAM;cAClC,CAAE;cACFiS,YAAY,EAAGpE,CAAC,IAAK;gBACnB,MAAMkE,MAAM,GAAGlE,CAAC,CAACkE,MAA2B;gBAC5CA,MAAM,CAAC1B,KAAK,CAACrQ,UAAU,GAAG,MAAM;cAClC,CAAE;cAAA0Q,QAAA,EACH;YAED;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAEV;;EAEA;EACA,MAAMc,UAAU,GAAIC,OAAe,IAAK;IACtC,MAAMC,IAAI,GAAG/N,IAAI,CAACK,KAAK,CAACyN,OAAO,GAAG,EAAE,CAAC;IACrC,MAAME,IAAI,GAAGhO,IAAI,CAACK,KAAK,CAACyN,OAAO,GAAG,EAAE,CAAC;IACrC,OAAO,GAAGC,IAAI,CAACE,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIF,IAAI,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;EAClF,CAAC;;EAED;EACA,MAAMC,iBAAiB,GAAIL,OAAe,IAAK;IAC7C,MAAMC,IAAI,GAAG/N,IAAI,CAACK,KAAK,CAACyN,OAAO,GAAG,EAAE,CAAC;IACrC,MAAME,IAAI,GAAGhO,IAAI,CAACK,KAAK,CAACyN,OAAO,GAAG,EAAE,CAAC;IACrC,MAAMM,EAAE,GAAGpO,IAAI,CAACK,KAAK,CAAEyN,OAAO,GAAG,CAAC,GAAI,GAAG,CAAC;IAC1C,OAAO,GAAGC,IAAI,KAAKC,IAAI,KAAKI,EAAE,IAAI;EACpC,CAAC;EAED,oBACEpV,OAAA;IAAK2S,KAAK,EAAE;MAAE5P,QAAQ,EAAE,UAAU;MAAE+C,KAAK,EAAE,OAAO;MAAElB,MAAM,EAAE;IAAQ,CAAE;IAAAoO,QAAA,gBACpEhT,OAAA;MAAKqV,GAAG,EAAElV,QAAS;MAACwS,KAAK,EAAE;QAAE7M,KAAK,EAAE,MAAM;QAAElB,MAAM,EAAE;MAAO;IAAE;MAAAgP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAGhE/T,OAAA;MACE2S,KAAK,EAAE;QACL5P,QAAQ,EAAE,UAAU;QACpBkD,GAAG,EAAE,MAAM;QACX7B,IAAI,EAAE,KAAK;QACXkQ,SAAS,EAAE,kBAAkB;QAC7BpB,OAAO,EAAE,WAAW;QACpB5Q,UAAU,EAAEzB,aAAa,GAAG,GAAG,GAAG,yBAAyB,GAAG,2BAA2B;QACzF6I,KAAK,EAAE7I,aAAa,GAAG,GAAG,GAAG,MAAM,GAAG,SAAS;QAC/CkS,UAAU,EAAE,0BAA0B;QACtCQ,QAAQ,EAAE,MAAM;QAChBI,UAAU,EAAE,MAAM;QAClBR,YAAY,EAAE,MAAM;QACpBC,MAAM,EAAEvS,aAAa,GAAG,GAAG,GAAG,mBAAmB,GAAG,mBAAmB;QACvEwS,SAAS,EAAExS,aAAa,GAAG,GAAG,GAAG,mCAAmC,GAAG,oCAAoC;QAC3GyU,aAAa,EAAE,MAAM;QACrBb,MAAM,EAAE;MACV,CAAE;MAAAzB,QAAA,GACH,SACG,EAAC6B,UAAU,CAAChU,aAAa,CAAC;IAAA;MAAA+S,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAGN/T,OAAA;MACE2S,KAAK,EAAE;QACL5P,QAAQ,EAAE,UAAU;QACpBmD,MAAM,EAAE,MAAM;QACd7B,KAAK,EAAE,MAAM;QACb6O,OAAO,EAAE,MAAM;QACf5Q,UAAU,EAAE,0BAA0B;QACtC6Q,YAAY,EAAE,MAAM;QACpBC,MAAM,EAAE,mBAAmB;QAC3BC,SAAS,EAAE,oCAAoC;QAC/CiC,aAAa,EAAE;MACjB,CAAE;MAAAtC,QAAA,gBAEFhT,OAAA;QACE2S,KAAK,EAAE;UACLjJ,KAAK,EAAE,SAAS;UAChBqJ,UAAU,EAAE,0BAA0B;UACtCQ,QAAQ,EAAE,MAAM;UAChBI,UAAU,EAAE,MAAM;UAClBK,YAAY,EAAE,KAAK;UACnBf,SAAS,EAAE;QACb,CAAE;QAAAD,QAAA,EACH;MAED;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN/T,OAAA;QACEqV,GAAG,EAAEjV,gBAAiB;QACtBuS,KAAK,EAAE;UACLS,MAAM,EAAE,mBAAmB;UAC3BD,YAAY,EAAE,KAAK;UACnBP,OAAO,EAAE;QACX;MAAE;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACF/T,OAAA;QACE2S,KAAK,EAAE;UACLjJ,KAAK,EAAE,SAAS;UAChBqJ,UAAU,EAAE,0BAA0B;UACtCQ,QAAQ,EAAE,MAAM;UAChBiB,SAAS,EAAE,KAAK;UAChBvB,SAAS,EAAE;QACb,CAAE;QAAAD,QAAA,EACH;MAED;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGL9S,gBAAgB,iBACfjB,OAAA;MACE2S,KAAK,EAAE;QACL5P,QAAQ,EAAE,UAAU;QACpBkD,GAAG,EAAE,KAAK;QACV7B,IAAI,EAAE,KAAK;QACXkQ,SAAS,EAAE,uBAAuB;QAClCpB,OAAO,EAAE,WAAW;QACpB5Q,UAAU,EAAE,2BAA2B;QACvCoH,KAAK,EAAE,SAAS;QAChBqJ,UAAU,EAAE,4BAA4B;QACxCQ,QAAQ,EAAE,MAAM;QAChBI,UAAU,EAAE,MAAM;QAClBR,YAAY,EAAE,MAAM;QACpBC,MAAM,EAAE,mBAAmB;QAC3BC,SAAS,EAAE,kCAAkC;QAC7CJ,SAAS,EAAE;MACb,CAAE;MAAAD,QAAA,EACH;IAED;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN,eAGD/T,OAAA;MACE2S,KAAK,EAAE;QACL5P,QAAQ,EAAE,UAAU;QACpBkD,GAAG,EAAE,MAAM;QACX5B,KAAK,EAAE,MAAM;QACb6O,OAAO,EAAE,WAAW;QACpB5Q,UAAU,EAAE,0BAA0B;QACtCoH,KAAK,EAAE,SAAS;QAChBqJ,UAAU,EAAE,0BAA0B;QACtCQ,QAAQ,EAAE,MAAM;QAChBJ,YAAY,EAAE,KAAK;QACnBC,MAAM,EAAE,mBAAmB;QAC3BkC,aAAa,EAAE,MAAM;QACrBC,UAAU,EAAE;MACd,CAAE;MAAAvC,QAAA,gBAEFhT,OAAA;QAAAgT,QAAA,gBACEhT,OAAA;UAAQ2S,KAAK,EAAE;YAAEjJ,KAAK,EAAE;UAAU,CAAE;UAAAsJ,QAAA,EAAC;QAAG;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,cACnD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN/T,OAAA;QAAAgT,QAAA,gBACEhT,OAAA;UAAQ2S,KAAK,EAAE;YAAEjJ,KAAK,EAAE;UAAU,CAAE;UAAAsJ,QAAA,EAAC;QAAG;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACnD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN/T,OAAA;QAAAgT,QAAA,gBACEhT,OAAA;UAAQ2S,KAAK,EAAE;YAAEjJ,KAAK,EAAE;UAAU,CAAE;UAAAsJ,QAAA,EAAC;QAAG;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,WACnD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN/T,OAAA;QAAAgT,QAAA,gBACEhT,OAAA;UAAQ2S,KAAK,EAAE;YAAEjJ,KAAK,EAAE;UAAU,CAAE;UAAAsJ,QAAA,EAAC;QAAG;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,YACnD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN/T,OAAA;QAAAgT,QAAA,gBACEhT,OAAA;UAAQ2S,KAAK,EAAE;YAAEjJ,KAAK,EAAE;UAAU,CAAE;UAAAsJ,QAAA,EAAC;QAAK;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,WACrD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN/T,OAAA;QAAK2S,KAAK,EAAE;UAAE6B,SAAS,EAAE,KAAK;UAAEjB,QAAQ,EAAE,MAAM;UAAE7J,KAAK,EAAE;QAAO,CAAE;QAAAsJ,QAAA,EAAC;MAEnE;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN/T,OAAA;MACE2S,KAAK,EAAE;QACL5P,QAAQ,EAAE,UAAU;QACpBkD,GAAG,EAAE,MAAM;QACX7B,IAAI,EAAE,MAAM;QACZ8O,OAAO,EAAE,WAAW;QACpB5Q,UAAU,EAAE,0BAA0B;QACtCoH,KAAK,EAAE,SAAS;QAChBqJ,UAAU,EAAE,0BAA0B;QACtCQ,QAAQ,EAAE,MAAM;QAChBJ,YAAY,EAAE,KAAK;QACnBC,MAAM,EAAE,mBAAmB;QAC3BkC,aAAa,EAAE;MACjB,CAAE;MAAAtC,QAAA,gBAEFhT,OAAA;QAAK2S,KAAK,EAAE;UAAEqB,YAAY,EAAE,KAAK;UAAEL,UAAU,EAAE,MAAM;UAAEjK,KAAK,EAAE;QAAU,CAAE;QAAAsJ,QAAA,EAAC;MAE3E;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN/T,OAAA;QAAAgT,QAAA,GACGzR,aAAa,CAACyG,MAAM,EAAC,WACxB;MAAA;QAAA4L,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN/T,OAAA;QAAK2S,KAAK,EAAE;UAAE6B,SAAS,EAAE,KAAK;UAAEjB,QAAQ,EAAE,MAAM;UAAEgC,UAAU,EAAE;QAAM,CAAE;QAAAvC,QAAA,EACnEzR,aAAa,CAACyG,MAAM,GAAG,CAAC,GACvBzG,aAAa,CAAC+G,GAAG,CAAC,CAACkN,GAAG,EAAE1O,CAAC,kBACvB9G,OAAA;UAAa2S,KAAK,EAAE;YAAEjJ,KAAK,EAAE;UAAU,CAAE;UAAAsJ,QAAA,EAAEwC;QAAG,GAApC1O,CAAC;UAAA8M,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAyC,CACrD,CAAC,gBAEF/T,OAAA;UAAK2S,KAAK,EAAE;YAAEjJ,KAAK,EAAE;UAAO,CAAE;UAAAsJ,QAAA,EAAC;QAA2B;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAChE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EACLxS,aAAa,CAACyG,MAAM,IAAI,CAAC,iBACxBhI,OAAA;QAAK2S,KAAK,EAAE;UAAE6B,SAAS,EAAE,KAAK;UAAE9K,KAAK,EAAE,SAAS;UAAEiK,UAAU,EAAE;QAAO,CAAE;QAAAX,QAAA,EAAC;MAExE;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGL5S,YAAY,iBACXnB,OAAA,CAACF,aAAa;MACZ6N,MAAM,EAAExM,YAAa;MACrBsU,OAAO,EAAGC,OAAe,IAAK;QAC5BpU,gBAAgB,CAACqU,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAExU,YAAY,CAAC0M,EAAE,CAAC,CAAC;QACpDrM,gBAAgB,CAACmU,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAED,OAAO,CAAC,CAAC;QAC5CtU,eAAe,CAAC,IAAI,CAAC;MACvB,CAAE;MACFwU,OAAO,EAAEA,CAAA,KAAMxU,eAAe,CAAC,IAAI;IAAE;MAAAwS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtC,CACF,EAGAxT,OAAO,iBACNP,OAAA;MACE2S,KAAK,EAAE;QACL5P,QAAQ,EAAE,OAAO;QACjBkD,GAAG,EAAE,CAAC;QACN7B,IAAI,EAAE,CAAC;QACP0B,KAAK,EAAE,OAAO;QACdlB,MAAM,EAAE,OAAO;QACftC,UAAU,EAAE,qBAAqB;QACjCsQ,OAAO,EAAE,MAAM;QACfC,UAAU,EAAE,QAAQ;QACpBC,cAAc,EAAE,QAAQ;QACxB2B,MAAM,EAAE,IAAI;QACZ1B,UAAU,EAAE;MACd,CAAE;MAAAC,QAAA,eAEFhT,OAAA;QACE2S,KAAK,EAAE;UACLM,SAAS,EAAE,QAAQ;UACnBC,OAAO,EAAE,WAAW;UACpB5Q,UAAU,EAAE,uFAAuF;UACnG6Q,YAAY,EAAE,MAAM;UACpBC,MAAM,EAAE,mBAAmB;UAC3BC,SAAS,EAAE;QACb,CAAE;QAAAL,QAAA,gBAEFhT,OAAA;UACE2S,KAAK,EAAE;YACLY,QAAQ,EAAE,MAAM;YAChBC,MAAM,EAAE,YAAY;YACpB9J,KAAK,EAAE,SAAS;YAChB+J,UAAU,EAAE,kBAAkB;YAC9BC,aAAa,EAAE;UACjB,CAAE;UAAAV,QAAA,EACH;QAED;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACL/T,OAAA;UAAG2S,KAAK,EAAE;YAAEY,QAAQ,EAAE,MAAM;YAAE7J,KAAK,EAAE,SAAS;YAAEsK,YAAY,EAAE;UAAO,CAAE;UAAAhB,QAAA,EAAC;QAExE;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ/T,OAAA;UACE2S,KAAK,EAAE;YACLY,QAAQ,EAAE,MAAM;YAChB7J,KAAK,EAAE,MAAM;YACbsK,YAAY,EAAE;UAChB,CAAE;UAAAhB,QAAA,gBAEFhT,OAAA;YAAG2S,KAAK,EAAE;cAAEa,MAAM,EAAE;YAAS,CAAE;YAAAR,QAAA,GAAC,SAAE,eAAAhT,OAAA;cAAAgT,QAAA,EAAQ;YAAW;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAClE/T,OAAA;YACE2S,KAAK,EAAE;cACLY,QAAQ,EAAE,MAAM;cAChB7J,KAAK,EAAE,SAAS;cAChBiK,UAAU,EAAE,MAAM;cAClBH,MAAM,EAAE;YACV,CAAE;YAAAR,QAAA,EAEDmC,iBAAiB,CAACpU,WAAW;UAAC;YAAA6S,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eACN/T,OAAA;UACEwQ,OAAO,EAAEA,CAAA,KAAM;YACb;YACA,MAAMqF,OAAO,GAAGhB,UAAU,CAAC9T,WAAW,CAAC;YACvC6B,MAAM,CAACkT,IAAI,CAAC,mIAAmID,OAAO,EAAE,EAAE,QAAQ,CAAC;UACrK,CAAE;UACFlD,KAAK,EAAE;YACLO,OAAO,EAAE,WAAW;YACpBK,QAAQ,EAAE,MAAM;YAChBjR,UAAU,EAAE,mDAAmD;YAC/DoH,KAAK,EAAE,MAAM;YACb0J,MAAM,EAAE,MAAM;YACdD,YAAY,EAAE,MAAM;YACpBc,MAAM,EAAE,SAAS;YACjBN,UAAU,EAAE,MAAM;YAClBN,SAAS,EAAE,kCAAkC;YAC7Ca,UAAU,EAAE,eAAe;YAC3BC,aAAa,EAAE,WAAW;YAC1BT,aAAa,EAAE;UACjB,CAAE;UACFU,YAAY,EAAGjE,CAAC,IAAK;YACnB,MAAMkE,MAAM,GAAGlE,CAAC,CAACkE,MAA2B;YAC5CA,MAAM,CAAC1B,KAAK,CAAC2B,SAAS,GAAG,8BAA8B;YACvDD,MAAM,CAAC1B,KAAK,CAACU,SAAS,GAAG,mCAAmC;UAC9D,CAAE;UACFkB,YAAY,EAAGpE,CAAC,IAAK;YACnB,MAAMkE,MAAM,GAAGlE,CAAC,CAACkE,MAA2B;YAC5CA,MAAM,CAAC1B,KAAK,CAAC2B,SAAS,GAAG,wBAAwB;YACjDD,MAAM,CAAC1B,KAAK,CAACU,SAAS,GAAG,kCAAkC;UAC7D,CAAE;UAAAL,QAAA,EACH;QAED;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAtT,WAAW,iBACVT,OAAA;MACE2S,KAAK,EAAE;QACL5P,QAAQ,EAAE,OAAO;QACjBkD,GAAG,EAAE,CAAC;QACN7B,IAAI,EAAE,CAAC;QACP0B,KAAK,EAAE,OAAO;QACdlB,MAAM,EAAE,OAAO;QACftC,UAAU,EAAE,oBAAoB;QAChCsQ,OAAO,EAAE,MAAM;QACfC,UAAU,EAAE,QAAQ;QACpBC,cAAc,EAAE,QAAQ;QACxB2B,MAAM,EAAE,IAAI;QACZ1B,UAAU,EAAE;MACd,CAAE;MAAAC,QAAA,eAEFhT,OAAA;QACE2S,KAAK,EAAE;UACLM,SAAS,EAAE,QAAQ;UACnBC,OAAO,EAAE,WAAW;UACpB5Q,UAAU,EAAE,mFAAmF;UAC/F6Q,YAAY,EAAE,MAAM;UACpBC,MAAM,EAAE,mBAAmB;UAC3BC,SAAS,EAAE;QACb,CAAE;QAAAL,QAAA,gBAEFhT,OAAA;UACE2S,KAAK,EAAE;YACLY,QAAQ,EAAE,MAAM;YAChBC,MAAM,EAAE,YAAY;YACpB9J,KAAK,EAAE,MAAM;YACb+J,UAAU,EAAE,0BAA0B;YACtCC,aAAa,EAAE;UACjB,CAAE;UAAAV,QAAA,EACH;QAED;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACL/T,OAAA;UAAG2S,KAAK,EAAE;YAAEY,QAAQ,EAAE,MAAM;YAAE7J,KAAK,EAAE,SAAS;YAAEsK,YAAY,EAAE;UAAO,CAAE;UAAAhB,QAAA,EAAC;QAExE;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ/T,OAAA;UACE2S,KAAK,EAAE;YACLY,QAAQ,EAAE,MAAM;YAChB7J,KAAK,EAAE,SAAS;YAChBsK,YAAY,EAAE;UAChB,CAAE;UAAAhB,QAAA,eAEFhT,OAAA;YAAG2S,KAAK,EAAE;cAAEa,MAAM,EAAE;YAAS,CAAE;YAAAR,QAAA,GAAC,cAAY,eAAAhT,OAAA;cAAAgT,QAAA,EAAQ;YAAK;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnE,CAAC,eACN/T,OAAA;UACEwQ,OAAO,EAAEA,CAAA,KAAM;YACb;YACA5N,MAAM,CAACkT,IAAI,CAAC,uIAAuI,EAAE,QAAQ,CAAC;UAChK,CAAE;UACFnD,KAAK,EAAE;YACLO,OAAO,EAAE,WAAW;YACpBK,QAAQ,EAAE,MAAM;YAChBjR,UAAU,EAAE,6CAA6C;YACzDoH,KAAK,EAAE,SAAS;YAChB0J,MAAM,EAAE,MAAM;YACdD,YAAY,EAAE,MAAM;YACpBc,MAAM,EAAE,SAAS;YACjBN,UAAU,EAAE,MAAM;YAClBN,SAAS,EAAE,qCAAqC;YAChDa,UAAU,EAAE,eAAe;YAC3BC,aAAa,EAAE,WAAW;YAC1BT,aAAa,EAAE;UACjB,CAAE;UACFU,YAAY,EAAGjE,CAAC,IAAK;YACnB,MAAMkE,MAAM,GAAGlE,CAAC,CAACkE,MAA2B;YAC5CA,MAAM,CAAC1B,KAAK,CAAC2B,SAAS,GAAG,8BAA8B;YACvDD,MAAM,CAAC1B,KAAK,CAACU,SAAS,GAAG,sCAAsC;UACjE,CAAE;UACFkB,YAAY,EAAGpE,CAAC,IAAK;YACnB,MAAMkE,MAAM,GAAGlE,CAAC,CAACkE,MAA2B;YAC5CA,MAAM,CAAC1B,KAAK,CAAC2B,SAAS,GAAG,wBAAwB;YACjDD,MAAM,CAAC1B,KAAK,CAACU,SAAS,GAAG,qCAAqC;UAChE,CAAE;UAAAL,QAAA,EACH;QAED;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC7T,EAAA,CAt6CuBD,QAAQ;EAAA,QAkBjBL,WAAW;AAAA;AAAAmW,EAAA,GAlBF9V,QAAQ;AAAA,IAAA8V,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}