{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\subha\\\\Downloads\\\\ma\\\\src\\\\components\\\\PlayerController.tsx\",\n  _s = $RefreshSig$();\nimport { useRef, useEffect } from 'react';\nimport { useFrame, useThree } from '@react-three/fiber';\nimport { RigidBody } from '@react-three/rapier';\nimport { PointerLockControls } from '@react-three/drei';\nimport { Vector3 } from 'three';\nimport { useKeyboard } from '../hooks/useKeyboard';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const PlayerController = ({\n  position\n}) => {\n  _s();\n  const playerRef = useRef(null);\n  const controlsRef = useRef(null);\n  const {\n    camera\n  } = useThree();\n  const keys = useKeyboard();\n\n  // Professional movement constants - exactly as specified\n  const SPEED = 2.5; // units/second\n  const FRICTION = 8; // deceleration friction\n  const PLAYER_HEIGHT = 1.6; // meters\n  const PLAYER_RADIUS = 0.4; // meters\n  const CAMERA_HEIGHT_OFFSET = 1.5; // units\n\n  // Movement state\n  const velocity = useRef(new Vector3(0, 0, 0));\n  const distanceWalked = useRef(0);\n  const lastPosition = useRef(new Vector3(...position));\n  useEffect(() => {\n    // Set initial camera position\n    camera.position.set(position[0], position[1] + CAMERA_HEIGHT_OFFSET, position[2]);\n  }, [camera, position]);\n\n  // Professional grid-based collision detection\n  const collisionProbe = testPosition => {\n    const effectiveRadius = PLAYER_RADIUS * 0.8;\n\n    // Check 4 corners of player bounding box\n    const points = [{\n      x: testPosition.x + effectiveRadius,\n      z: testPosition.z + effectiveRadius\n    }, {\n      x: testPosition.x + effectiveRadius,\n      z: testPosition.z - effectiveRadius\n    }, {\n      x: testPosition.x - effectiveRadius,\n      z: testPosition.z + effectiveRadius\n    }, {\n      x: testPosition.x - effectiveRadius,\n      z: testPosition.z - effectiveRadius\n    }];\n\n    // Maze layout for collision detection\n    const maze = [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1], [1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1], [1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1], [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1], [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1], [1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1], [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1], [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1], [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], [1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1], [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1], [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 2, 1], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]];\n    for (const point of points) {\n      const gridX = Math.floor(point.x);\n      const gridZ = Math.floor(point.z);\n\n      // Check boundaries\n      if (gridZ < 0 || gridZ >= maze.length || gridX < 0 || gridX >= maze[0].length) {\n        return true;\n      }\n\n      // Check wall collision\n      if (maze[gridZ][gridX] === 1) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  // Head bob effect\n  const headBob = useRef({\n    phase: 0,\n    amplitude: 0.02\n  });\n  useFrame((_, delta) => {\n    if (!playerRef.current) return;\n\n    // Get current position\n    const currentPos = playerRef.current.translation();\n    const currentPosition = new Vector3(currentPos.x, currentPos.y, currentPos.z);\n\n    // Calculate movement direction from input\n    const direction = new Vector3(0, 0, 0);\n    if (keys.forward) direction.z -= 1; // W / Up Arrow\n    if (keys.backward) direction.z += 1; // S / Down Arrow  \n    if (keys.left) direction.x -= 1; // A / Left Arrow\n    if (keys.right) direction.x += 1; // D / Right Arrow\n\n    // Normalize direction for consistent speed\n    if (direction.length() > 0) {\n      direction.normalize();\n    }\n\n    // Apply camera yaw to world space movement\n    const yaw = camera.rotation.y;\n    const worldDirection = new Vector3(direction.x * Math.cos(yaw) - direction.z * Math.sin(yaw), 0, direction.z * Math.cos(yaw) + direction.x * Math.sin(yaw));\n\n    // Calculate intended movement\n    const intendedMove = worldDirection.multiplyScalar(SPEED * delta);\n\n    // Apply smooth deceleration friction\n    const frictionFactor = Math.pow(1 - FRICTION * delta, delta);\n    velocity.current.multiplyScalar(frictionFactor);\n\n    // Add new movement to velocity (smooth acceleration)\n    velocity.current.add(intendedMove);\n\n    // Precise anti-clipping algorithm\n    let finalMove = new Vector3(0, 0, 0);\n\n    // Check X movement separately\n    const testPosX = currentPosition.clone().add(new Vector3(velocity.current.x, 0, 0));\n    if (!collisionProbe(testPosX)) {\n      finalMove.x = velocity.current.x;\n    } else {\n      velocity.current.x = 0; // Stop X movement on collision\n    }\n\n    // Check Z movement separately  \n    const testPosZ = currentPosition.clone().add(new Vector3(0, 0, velocity.current.z));\n    if (!collisionProbe(testPosZ)) {\n      finalMove.z = velocity.current.z;\n    } else {\n      velocity.current.z = 0; // Stop Z movement on collision\n    }\n\n    // Apply final movement to rigid body\n    const finalPosition = currentPosition.add(finalMove);\n    playerRef.current.setNextKinematicTranslation({\n      x: finalPosition.x,\n      y: finalPosition.y,\n      z: finalPosition.z\n    });\n\n    // Track distance walked for footsteps\n    const movementDistance = finalMove.length();\n    distanceWalked.current += movementDistance;\n\n    // Head bob effect when moving\n    if (movementDistance > 0.001) {\n      headBob.current.phase += movementDistance * 10;\n      const bobOffset = Math.sin(headBob.current.phase) * headBob.current.amplitude;\n\n      // Sync camera position with head bob\n      camera.position.set(finalPosition.x, finalPosition.y + CAMERA_HEIGHT_OFFSET + bobOffset, finalPosition.z);\n\n      // Simple footstep sound trigger (every 1.5 units walked)\n      if (Math.floor(distanceWalked.current / 1.5) > Math.floor((distanceWalked.current - movementDistance) / 1.5)) {\n        // Trigger footstep sound here\n        console.log('Footstep'); // Replace with actual audio\n      }\n    } else {\n      // No movement - sync camera without bob\n      camera.position.set(finalPosition.x, finalPosition.y + CAMERA_HEIGHT_OFFSET, finalPosition.z);\n    }\n    lastPosition.current.copy(finalPosition);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PointerLockControls, {\n      ref: controlsRef,\n      camera: camera,\n      domElement: document.body,\n      maxPolarAngle: Math.PI / 2 - 0.087 // +85 degrees\n      ,\n      minPolarAngle: -Math.PI / 2 + 0.087 // -85 degrees\n      ,\n      pointerSpeed: 0.5 // Smooth mouse movement\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RigidBody, {\n      ref: playerRef,\n      type: \"kinematicPosition\",\n      position: position,\n      colliders: \"ball\",\n      gravityScale: 0,\n      children: /*#__PURE__*/_jsxDEV(\"mesh\", {\n        visible: false,\n        children: [/*#__PURE__*/_jsxDEV(\"sphereGeometry\", {\n          args: [PLAYER_RADIUS]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"meshBasicMaterial\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(PlayerController, \"AOQ+Uqw2rVY6BDR7XoTlNnvpnGY=\", false, function () {\n  return [useThree, useKeyboard, useFrame];\n});\n_c = PlayerController;\nvar _c;\n$RefreshReg$(_c, \"PlayerController\");","map":{"version":3,"names":["useRef","useEffect","useFrame","useThree","RigidBody","PointerLockControls","Vector3","useKeyboard","jsxDEV","_jsxDEV","Fragment","_Fragment","PlayerController","position","_s","playerRef","controlsRef","camera","keys","SPEED","FRICTION","PLAYER_HEIGHT","PLAYER_RADIUS","CAMERA_HEIGHT_OFFSET","velocity","distanceWalked","lastPosition","set","collisionProbe","testPosition","effectiveRadius","points","x","z","maze","point","gridX","Math","floor","gridZ","length","headBob","phase","amplitude","_","delta","current","currentPos","translation","currentPosition","y","direction","forward","backward","left","right","normalize","yaw","rotation","worldDirection","cos","sin","intendedMove","multiplyScalar","frictionFactor","pow","add","finalMove","testPosX","clone","testPosZ","finalPosition","setNextKinematicTranslation","movementDistance","bobOffset","console","log","copy","children","ref","domElement","document","body","maxPolarAngle","PI","minPolarAngle","pointerSpeed","fileName","_jsxFileName","lineNumber","columnNumber","type","colliders","gravityScale","visible","args","_c","$RefreshReg$"],"sources":["C:/Users/subha/Downloads/ma/src/components/PlayerController.tsx"],"sourcesContent":["import { useRef, useEffect } from 'react';\r\nimport { useFrame, useThree } from '@react-three/fiber';\r\nimport { RigidBody, RapierRigidBody } from '@react-three/rapier';\r\nimport { PointerLockControls } from '@react-three/drei';\r\nimport { Vector3 } from 'three';\r\nimport { useKeyboard } from '../hooks/useKeyboard';\r\n\r\ninterface PlayerControllerProps {\r\n  position: [number, number, number];\r\n}\r\n\r\nexport const PlayerController: React.FC<PlayerControllerProps> = ({ position }) => {\r\n  const playerRef = useRef<RapierRigidBody>(null);\r\n  const controlsRef = useRef<any>(null);\r\n  const { camera } = useThree();\r\n  const keys = useKeyboard();\r\n\r\n  // Professional movement constants - exactly as specified\r\n  const SPEED = 2.5; // units/second\r\n  const FRICTION = 8; // deceleration friction\r\n  const PLAYER_HEIGHT = 1.6; // meters\r\n  const PLAYER_RADIUS = 0.4; // meters\r\n  const CAMERA_HEIGHT_OFFSET = 1.5; // units\r\n\r\n  // Movement state\r\n  const velocity = useRef(new Vector3(0, 0, 0));\r\n  const distanceWalked = useRef(0);\r\n  const lastPosition = useRef(new Vector3(...position));\r\n\r\n  useEffect(() => {\r\n    // Set initial camera position\r\n    camera.position.set(position[0], position[1] + CAMERA_HEIGHT_OFFSET, position[2]);\r\n  }, [camera, position]);\r\n\r\n  // Professional grid-based collision detection\r\n  const collisionProbe = (testPosition: Vector3): boolean => {\r\n    const effectiveRadius = PLAYER_RADIUS * 0.8;\r\n    \r\n    // Check 4 corners of player bounding box\r\n    const points = [\r\n      { x: testPosition.x + effectiveRadius, z: testPosition.z + effectiveRadius },\r\n      { x: testPosition.x + effectiveRadius, z: testPosition.z - effectiveRadius },\r\n      { x: testPosition.x - effectiveRadius, z: testPosition.z + effectiveRadius },\r\n      { x: testPosition.x - effectiveRadius, z: testPosition.z - effectiveRadius },\r\n    ];\r\n\r\n    // Maze layout for collision detection\r\n    const maze = [\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1],\r\n      [1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\r\n      [1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1],\r\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n      [1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 2, 1],\r\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    ];\r\n\r\n    for (const point of points) {\r\n      const gridX = Math.floor(point.x);\r\n      const gridZ = Math.floor(point.z);\r\n\r\n      // Check boundaries\r\n      if (gridZ < 0 || gridZ >= maze.length || gridX < 0 || gridX >= maze[0].length) {\r\n        return true;\r\n      }\r\n\r\n      // Check wall collision\r\n      if (maze[gridZ][gridX] === 1) {\r\n        return true;\r\n      }\r\n    }\r\n    \r\n    return false;\r\n  };\r\n\r\n  // Head bob effect\r\n  const headBob = useRef({ phase: 0, amplitude: 0.02 });\r\n\r\n  useFrame((_, delta) => {\r\n    if (!playerRef.current) return;\r\n\r\n    // Get current position\r\n    const currentPos = playerRef.current.translation();\r\n    const currentPosition = new Vector3(currentPos.x, currentPos.y, currentPos.z);\r\n\r\n    // Calculate movement direction from input\r\n    const direction = new Vector3(0, 0, 0);\r\n    \r\n    if (keys.forward) direction.z -= 1;   // W / Up Arrow\r\n    if (keys.backward) direction.z += 1;  // S / Down Arrow  \r\n    if (keys.left) direction.x -= 1;      // A / Left Arrow\r\n    if (keys.right) direction.x += 1;     // D / Right Arrow\r\n\r\n    // Normalize direction for consistent speed\r\n    if (direction.length() > 0) {\r\n      direction.normalize();\r\n    }\r\n\r\n    // Apply camera yaw to world space movement\r\n    const yaw = camera.rotation.y;\r\n    const worldDirection = new Vector3(\r\n      direction.x * Math.cos(yaw) - direction.z * Math.sin(yaw),\r\n      0,\r\n      direction.z * Math.cos(yaw) + direction.x * Math.sin(yaw)\r\n    );\r\n\r\n    // Calculate intended movement\r\n    const intendedMove = worldDirection.multiplyScalar(SPEED * delta);\r\n\r\n    // Apply smooth deceleration friction\r\n    const frictionFactor = Math.pow(1 - FRICTION * delta, delta);\r\n    velocity.current.multiplyScalar(frictionFactor);\r\n\r\n    // Add new movement to velocity (smooth acceleration)\r\n    velocity.current.add(intendedMove);\r\n\r\n    // Precise anti-clipping algorithm\r\n    let finalMove = new Vector3(0, 0, 0);\r\n\r\n    // Check X movement separately\r\n    const testPosX = currentPosition.clone().add(new Vector3(velocity.current.x, 0, 0));\r\n    if (!collisionProbe(testPosX)) {\r\n      finalMove.x = velocity.current.x;\r\n    } else {\r\n      velocity.current.x = 0; // Stop X movement on collision\r\n    }\r\n\r\n    // Check Z movement separately  \r\n    const testPosZ = currentPosition.clone().add(new Vector3(0, 0, velocity.current.z));\r\n    if (!collisionProbe(testPosZ)) {\r\n      finalMove.z = velocity.current.z;\r\n    } else {\r\n      velocity.current.z = 0; // Stop Z movement on collision\r\n    }\r\n\r\n    // Apply final movement to rigid body\r\n    const finalPosition = currentPosition.add(finalMove);\r\n    playerRef.current.setNextKinematicTranslation({\r\n      x: finalPosition.x,\r\n      y: finalPosition.y,\r\n      z: finalPosition.z,\r\n    });\r\n\r\n    // Track distance walked for footsteps\r\n    const movementDistance = finalMove.length();\r\n    distanceWalked.current += movementDistance;\r\n\r\n    // Head bob effect when moving\r\n    if (movementDistance > 0.001) {\r\n      headBob.current.phase += movementDistance * 10;\r\n      const bobOffset = Math.sin(headBob.current.phase) * headBob.current.amplitude;\r\n      \r\n      // Sync camera position with head bob\r\n      camera.position.set(\r\n        finalPosition.x,\r\n        finalPosition.y + CAMERA_HEIGHT_OFFSET + bobOffset,\r\n        finalPosition.z\r\n      );\r\n\r\n      // Simple footstep sound trigger (every 1.5 units walked)\r\n      if (Math.floor(distanceWalked.current / 1.5) > Math.floor((distanceWalked.current - movementDistance) / 1.5)) {\r\n        // Trigger footstep sound here\r\n        console.log('Footstep'); // Replace with actual audio\r\n      }\r\n    } else {\r\n      // No movement - sync camera without bob\r\n      camera.position.set(\r\n        finalPosition.x,\r\n        finalPosition.y + CAMERA_HEIGHT_OFFSET,\r\n        finalPosition.z\r\n      );\r\n    }\r\n\r\n    lastPosition.current.copy(finalPosition);\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <PointerLockControls\r\n        ref={controlsRef}\r\n        camera={camera}\r\n        domElement={document.body}\r\n        maxPolarAngle={Math.PI / 2 - 0.087} // +85 degrees\r\n        minPolarAngle={-Math.PI / 2 + 0.087} // -85 degrees\r\n        pointerSpeed={0.5} // Smooth mouse movement\r\n      />\r\n      \r\n      <RigidBody\r\n        ref={playerRef}\r\n        type=\"kinematicPosition\"\r\n        position={position}\r\n        colliders=\"ball\"\r\n        gravityScale={0}\r\n      >\r\n        {/* Sphere collider for player (simpler than capsule) */}\r\n        <mesh visible={false}>\r\n          <sphereGeometry args={[PLAYER_RADIUS]} />\r\n          <meshBasicMaterial />\r\n        </mesh>\r\n      </RigidBody>\r\n    </>\r\n  );\r\n};"],"mappings":"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,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,E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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}